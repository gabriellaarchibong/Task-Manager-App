(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();function u1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Zm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function c1(){if(b0)return tu;b0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:a,type:i,key:c,ref:s!==void 0?s:null,props:l}}return tu.Fragment=t,tu.jsx=e,tu.jsxs=e,tu}var A0;function h1(){return A0||(A0=1,Zm.exports=c1()),Zm.exports}var lt=h1(),Jm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function f1(){if(S0)return It;S0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,K={};function L(N,nt,ct){this.props=N,this.context=nt,this.refs=K,this.updater=ct||x}L.prototype.isReactComponent={},L.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function et(N,nt,ct){this.props=N,this.context=nt,this.refs=K,this.updater=ct||x}var Y=et.prototype=new Q;Y.constructor=et,C(Y,L.prototype),Y.isPureReactComponent=!0;var ft=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function V(N,nt,ct,it,Tt,Ct){return ct=Ct.ref,{$$typeof:a,type:N,key:nt,ref:ct!==void 0?ct:null,props:Ct}}function w(N,nt){return V(N.type,nt,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function M(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ct){return nt[ct]})}var P=/\/+/g;function U(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):nt.toString(36)}function D(){}function Be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,nt,ct,it,Tt){var Ct=typeof N;(Ct==="undefined"||Ct==="boolean")&&(N=null);var Rt=!1;if(N===null)Rt=!0;else switch(Ct){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(N.$$typeof){case a:case t:Rt=!0;break;case _:return Rt=N._init,he(Rt(N._payload),nt,ct,it,Tt)}}if(Rt)return Tt=Tt(N),Rt=it===""?"."+U(N,0):it,ft(Tt)?(ct="",Rt!=null&&(ct=Rt.replace(P,"$&/")+"/"),he(Tt,nt,ct,"",function($n){return $n})):Tt!=null&&(R(Tt)&&(Tt=w(Tt,ct+(Tt.key==null||N&&N.key===Tt.key?"":(""+Tt.key).replace(P,"$&/")+"/")+Rt)),nt.push(Tt)),1;Rt=0;var Ne=it===""?".":it+":";if(ft(N))for(var ee=0;ee<N.length;ee++)it=N[ee],Ct=Ne+U(it,ee),Rt+=he(it,nt,ct,Ct,Tt);else if(ee=S(N),typeof ee=="function")for(N=ee.call(N),ee=0;!(it=N.next()).done;)it=it.value,Ct=Ne+U(it,ee++),Rt+=he(it,nt,ct,Ct,Tt);else if(Ct==="object"){if(typeof N.then=="function")return he(Be(N),nt,ct,it,Tt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function X(N,nt,ct){if(N==null)return N;var it=[],Tt=0;return he(N,it,"","",function(Ct){return nt.call(ct,Ct,Tt++)}),it}function ut(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(ct){(N._status===0||N._status===-1)&&(N._status=1,N._result=ct)},function(ct){(N._status===0||N._status===-1)&&(N._status=2,N._result=ct)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var vt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return It.Children={map:X,forEach:function(N,nt,ct){X(N,function(){nt.apply(this,arguments)},ct)},count:function(N){var nt=0;return X(N,function(){nt++}),nt},toArray:function(N){return X(N,function(nt){return nt})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},It.Component=L,It.Fragment=e,It.Profiler=s,It.PureComponent=et,It.StrictMode=i,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,It.__COMPILER_RUNTIME={__proto__:null,c:function(N){return at.H.useMemoCache(N)}},It.cache=function(N){return function(){return N.apply(null,arguments)}},It.cloneElement=function(N,nt,ct){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=C({},N.props),Tt=N.key,Ct=void 0;if(nt!=null)for(Rt in nt.ref!==void 0&&(Ct=void 0),nt.key!==void 0&&(Tt=""+nt.key),nt)!pt.call(nt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&nt.ref===void 0||(it[Rt]=nt[Rt]);var Rt=arguments.length-2;if(Rt===1)it.children=ct;else if(1<Rt){for(var Ne=Array(Rt),ee=0;ee<Rt;ee++)Ne[ee]=arguments[ee+2];it.children=Ne}return V(N.type,Tt,void 0,void 0,Ct,it)},It.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},It.createElement=function(N,nt,ct){var it,Tt={},Ct=null;if(nt!=null)for(it in nt.key!==void 0&&(Ct=""+nt.key),nt)pt.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(Tt[it]=nt[it]);var Rt=arguments.length-2;if(Rt===1)Tt.children=ct;else if(1<Rt){for(var Ne=Array(Rt),ee=0;ee<Rt;ee++)Ne[ee]=arguments[ee+2];Tt.children=Ne}if(N&&N.defaultProps)for(it in Rt=N.defaultProps,Rt)Tt[it]===void 0&&(Tt[it]=Rt[it]);return V(N,Ct,void 0,void 0,null,Tt)},It.createRef=function(){return{current:null}},It.forwardRef=function(N){return{$$typeof:d,render:N}},It.isValidElement=R,It.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ut}},It.memo=function(N,nt){return{$$typeof:p,type:N,compare:nt===void 0?null:nt}},It.startTransition=function(N){var nt=at.T,ct={};at.T=ct;try{var it=N(),Tt=at.S;Tt!==null&&Tt(ct,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(jt,vt)}catch(Ct){vt(Ct)}finally{at.T=nt}},It.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},It.use=function(N){return at.H.use(N)},It.useActionState=function(N,nt,ct){return at.H.useActionState(N,nt,ct)},It.useCallback=function(N,nt){return at.H.useCallback(N,nt)},It.useContext=function(N){return at.H.useContext(N)},It.useDebugValue=function(){},It.useDeferredValue=function(N,nt){return at.H.useDeferredValue(N,nt)},It.useEffect=function(N,nt,ct){var it=at.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,nt)},It.useId=function(){return at.H.useId()},It.useImperativeHandle=function(N,nt,ct){return at.H.useImperativeHandle(N,nt,ct)},It.useInsertionEffect=function(N,nt){return at.H.useInsertionEffect(N,nt)},It.useLayoutEffect=function(N,nt){return at.H.useLayoutEffect(N,nt)},It.useMemo=function(N,nt){return at.H.useMemo(N,nt)},It.useOptimistic=function(N,nt){return at.H.useOptimistic(N,nt)},It.useReducer=function(N,nt,ct){return at.H.useReducer(N,nt,ct)},It.useRef=function(N){return at.H.useRef(N)},It.useState=function(N){return at.H.useState(N)},It.useSyncExternalStore=function(N,nt,ct){return at.H.useSyncExternalStore(N,nt,ct)},It.useTransition=function(){return at.H.useTransition()},It.version="19.1.0",It}var w0;function bf(){return w0||(w0=1,Jm.exports=f1()),Jm.exports}var F=bf();const $a=u1(F);var Wm={exports:{}},eu={},tg={exports:{}},eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function d1(){return R0||(R0=1,function(a){function t(X,ut){var vt=X.length;X.push(ut);t:for(;0<vt;){var jt=vt-1>>>1,N=X[jt];if(0<s(N,ut))X[jt]=ut,X[vt]=N,vt=jt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ut=X[0],vt=X.pop();if(vt!==ut){X[0]=vt;t:for(var jt=0,N=X.length,nt=N>>>1;jt<nt;){var ct=2*(jt+1)-1,it=X[ct],Tt=ct+1,Ct=X[Tt];if(0>s(it,vt))Tt<N&&0>s(Ct,it)?(X[jt]=Ct,X[Tt]=vt,jt=Tt):(X[jt]=it,X[ct]=vt,jt=ct);else if(Tt<N&&0>s(Ct,vt))X[jt]=Ct,X[Tt]=vt,jt=Tt;else break t}}return ut}function s(X,ut){var vt=X.sortIndex-ut.sortIndex;return vt!==0?vt:X.id-ut.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,T=null,S=3,x=!1,C=!1,K=!1,L=!1,Q=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ft(X){for(var ut=e(p);ut!==null;){if(ut.callback===null)i(p);else if(ut.startTime<=X)i(p),ut.sortIndex=ut.expirationTime,t(m,ut);else break;ut=e(p)}}function at(X){if(K=!1,ft(X),!C)if(e(m)!==null)C=!0,pt||(pt=!0,U());else{var ut=e(p);ut!==null&&he(at,ut.startTime-X)}}var pt=!1,V=-1,w=5,R=-1;function M(){return L?!0:!(a.unstable_now()-R<w)}function P(){if(L=!1,pt){var X=a.unstable_now();R=X;var ut=!0;try{t:{C=!1,K&&(K=!1,et(V),V=-1),x=!0;var vt=S;try{e:{for(ft(X),T=e(m);T!==null&&!(T.expirationTime>X&&M());){var jt=T.callback;if(typeof jt=="function"){T.callback=null,S=T.priorityLevel;var N=jt(T.expirationTime<=X);if(X=a.unstable_now(),typeof N=="function"){T.callback=N,ft(X),ut=!0;break e}T===e(m)&&i(m),ft(X)}else i(m);T=e(m)}if(T!==null)ut=!0;else{var nt=e(p);nt!==null&&he(at,nt.startTime-X),ut=!1}}break t}finally{T=null,S=vt,x=!1}ut=void 0}}finally{ut?U():pt=!1}}}var U;if(typeof Y=="function")U=function(){Y(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Be=D.port2;D.port1.onmessage=P,U=function(){Be.postMessage(null)}}else U=function(){Q(P,0)};function he(X,ut){V=Q(function(){X(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ut=3;break;default:ut=S}var vt=S;S=ut;try{return X()}finally{S=vt}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(X,ut){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var vt=S;S=X;try{return ut()}finally{S=vt}},a.unstable_scheduleCallback=function(X,ut,vt){var jt=a.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?jt+vt:jt):vt=jt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=vt+N,X={id:_++,callback:ut,priorityLevel:X,startTime:vt,expirationTime:N,sortIndex:-1},vt>jt?(X.sortIndex=vt,t(p,X),e(m)===null&&X===e(p)&&(K?(et(V),V=-1):K=!0,he(at,vt-jt))):(X.sortIndex=N,t(m,X),C||x||(C=!0,pt||(pt=!0,U()))),X},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(X){var ut=S;return function(){var vt=S;S=ut;try{return X.apply(this,arguments)}finally{S=vt}}}}(eg)),eg}var I0;function m1(){return I0||(I0=1,tg.exports=d1()),tg.exports}var ng={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function g1(){if(x0)return Xe;x0=1;var a=bf();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xe.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,_)},Xe.flushSync=function(m){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=_,i.d.f()}},Xe.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Xe.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Xe.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:x}):_==="script"&&i.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Xe.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);i.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Xe.requestFormReset=function(m){i.d.r(m)},Xe.unstable_batchedUpdates=function(m,p){return m(p)},Xe.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},Xe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var D0;function RT(){if(D0)return ng.exports;D0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ng.exports=g1(),ng.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function p1(){if(C0)return eu;C0=1;var a=m1(),t=bf(),e=RT();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(i(188))}function m(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Be(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case L:return"Profiler";case K:return"StrictMode";case at:return"Suspense";case pt:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case et:return(n._context.displayName||"Context")+".Consumer";case ft:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:Be(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return Be(n(r))}catch{}}return null}var he=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function nt(n){return{current:n}}function ct(n){0>N||(n.current=jt[N],jt[N]=null,N--)}function it(n,r){N++,jt[N]=n.current,n.current=r}var Tt=nt(null),Ct=nt(null),Rt=nt(null),Ne=nt(null);function ee(n,r){switch(it(Rt,r),it(Ct,n),it(Tt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Xv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Xv(r),n=Zv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ct(Tt),it(Tt,n)}function $n(){ct(Tt),ct(Ct),ct(Rt)}function ri(n){n.memoizedState!==null&&it(Ne,n);var r=Tt.current,o=Zv(r,n.type);r!==o&&(it(Ct,n),it(Tt,o))}function vr(n){Ct.current===n&&(ct(Tt),ct(Ct)),Ne.current===n&&(ct(Ne),Yl._currentValue=vt)}var ea=Object.prototype.hasOwnProperty,na=a.unstable_scheduleCallback,ra=a.unstable_cancelCallback,Ko=a.unstable_shouldYield,Wu=a.unstable_requestPaint,xn=a.unstable_now,Zf=a.unstable_getCurrentPriorityLevel,Qo=a.unstable_ImmediatePriority,us=a.unstable_UserBlockingPriority,ia=a.unstable_NormalPriority,Jf=a.unstable_LowPriority,cs=a.unstable_IdlePriority,$o=a.log,tc=a.unstable_setDisableYieldValue,fe=null,Gt=null;function gn(n){if(typeof $o=="function"&&tc(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(fe,n)}catch{}}var $e=Math.clz32?Math.clz32:aa,ec=Math.log,Wf=Math.LN2;function aa(n){return n>>>=0,n===0?32:31-(ec(n)/Wf|0)|0}var sa=256,oa=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hs(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=jn(u):(E&=b,E!==0?f=jn(E):o||(o=b&~n,o!==0&&(f=jn(o))))):(b=u&~g,b!==0?f=jn(b):E!==0?f=jn(E):o||(o=u&~n,o!==0&&(f=jn(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function la(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Yo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=sa;return sa<<=1,(sa&4194048)===0&&(sa=256),n}function Zo(){var n=oa;return oa<<=1,(oa&62914560)===0&&(oa=4194304),n}function Er(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Tr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Jo(n,r,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-$e(o),tt=1<<Z;b[Z]=0,I[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var G=H[Z];G!==null&&(G.lane&=-536870913)}o&=~tt}u!==0&&Yn(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~r))}function Yn(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-$e(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Wo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-$e(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function ii(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ai(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:p0(n.type))}function nc(n,r){var o=ut.p;try{return ut.p=n,r()}finally{ut.p=o}}var ie=Math.random().toString(36).slice(2),Re="__reactFiber$"+ie,Te="__reactProps$"+ie,Dn="__reactContainer$"+ie,tl="__reactEvents$"+ie,td="__reactListeners$"+ie,si="__reactHandles$"+ie,rc="__reactResources$"+ie,ua="__reactMarker$"+ie;function oi(n){delete n[Re],delete n[Te],delete n[tl],delete n[td],delete n[si]}function br(n){var r=n[Re];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Dn]||o[Re]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=e0(n);n!==null;){if(o=n[Re])return o;n=e0(n)}return r}n=o,o=n.parentNode}return null}function Xn(n){if(n=n[Re]||n[Dn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Zn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function en(n){var r=n[rc];return r||(r=n[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(n){n[ua]=!0}var el=new Set,ds={};function qn(n,r){Ar(n,r),Ar(n+"Capture",r)}function Ar(n,r){for(ds[n]=r,n=0;n<r.length;n++)el.add(r[n])}var ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},ca={};function sc(n){return ea.call(ca,n)?!0:ea.call(ac,n)?!1:ic.test(n)?ca[n]=!0:(ac[n]=!0,!1)}function li(n,r,o){if(sc(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Jn(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function je(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var ha,oc;function Sr(n){if(ha===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ha=r&&r[1]||"",oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+n+oc}var ms=!1;function gs(n,r){if(!n||ms)return"";ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var H=G}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(G){H=G}n.call(tt.prototype)}}else{try{throw Error()}catch(G){H=G}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var I=E.split(`
`),q=b.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===q.length)for(u=I.length-1,f=q.length-1;1<=u&&0<=f&&I[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==q[f]){var Z=`
`+I[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ms=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Sr(o):""}function nl(n){switch(n.tag){case 26:case 27:case 5:return Sr(n.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return gs(n.type,!1);case 11:return gs(n.type.render,!1);case 1:return gs(n.type,!0);case 31:return Sr("Activity");default:return""}}function ps(n){try{var r="";do r+=nl(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ed(n){var r=rl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ys(n){n._valueTracker||(n._valueTracker=ed(n))}function il(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=rl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function fa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nd=/[\n"\\]/g;function be(n){return n.replace(nd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(n,r,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ui(n,E,nn(r)):o!=null?ui(n,E,nn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+nn(b):n.removeAttribute("name")}function da(n,r,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+nn(o):"",r=r!=null?""+nn(r):o,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ui(n,r,o){r==="number"&&fa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function wr(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+nn(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Xt(n,r,o){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+nn(o):""}function ma(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=nn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Cn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||ga.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function al(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&lc(n,f,u)}else for(var g in r)r.hasOwnProperty(g)&&lc(n,g,r[g])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(n){return id.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Rr=null;function Vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ir=null,xr=null;function ol(n){var r=Xn(n);if(r&&(n=r.stateNode)){var o=n[Te]||null;t:switch(n=r.stateNode,r.type){case"input":if(pn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+be(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[Te]||null;if(!f)throw Error(i(90));pn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&il(u)}break t;case"textarea":Xt(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&wr(n,!!o.multiple,r,!1)}}}var Wn=!1;function uc(n,r,o){if(Wn)return n(r,o);Wn=!0;try{var u=n(r);return u}finally{if(Wn=!1,(Ir!==null||xr!==null)&&(nh(),Ir&&(r=Ir,n=xr,xr=Ir=null,ol(r),n)))for(r=0;r<n.length;r++)ol(n[r])}}function pa(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Te]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Fn)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Nn=!1}var tr=null,ci=null,Dr=null;function ll(){if(Dr)return Dr;var n,r=ci,o=r.length,u,f="value"in tr?tr.value:tr.textContent,g=f.length;for(n=0;n<o&&r[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return Dr=f.slice(n,1<u?1-u:void 0)}function er(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function ul(){return!1}function Oe(n){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?nr:ul,this.isPropagationStopped=ul,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Oe(Ft),_a=_({},Ft,{view:0,detail:0}),cc=Oe(_a),Es,Ts,rr,va=_({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(Es=n.screenX-rr.screenX,Ts=n.screenY-rr.screenY):Ts=Es=0,rr=n),Es)},movementY:function(n){return"movementY"in n?n.movementY:Ts}}),On=Oe(va),hc=_({},va,{dataTransfer:0}),ad=Oe(hc),Ea=_({},_a,{relatedTarget:0}),bs=Oe(Ea),cl=_({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),As=Oe(cl),fc=_({},Ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ss=Oe(fc),sd=_({},Ft,{data:0}),hl=Oe(sd),Ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=mc[n])?!!r[n]:!1}function ba(){return fl}var gc=_({},_a,{key:function(n){if(n.key){var r=Ta[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=er(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(n){return n.type==="keypress"?er(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?er(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ws=Oe(gc),pc=_({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Oe(pc),Cr=_({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),yc=Oe(Cr),_c=_({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=Oe(_c),Ec=_({},va,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Oe(Ec),rn=_({},Ft,{newState:0,oldState:0}),Tc=Oe(rn),bc=[9,13,27,32],ir=Fn&&"CompositionEvent"in window,h=null;Fn&&"documentMode"in document&&(h=document.documentMode);var y=Fn&&"TextEvent"in window&&!h,v=Fn&&(!ir||h&&8<h&&11>=h),A=" ",z=!1;function $(n,r){switch(n){case"keyup":return bc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pt=!1;function Ie(n,r){switch(n){case"compositionend":return st(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return n=r.data,n===A&&z?null:n;default:return null}}function kt(n,r){if(Pt)return n==="compositionend"||!ir&&$(n,r)?(n=ll(),Dr=ci=tr=null,Pt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Me[n.type]:r==="textarea"}function Vr(n,r,o,u){Ir?xr?xr.push(u):xr=[u]:Ir=u,r=lh(r,"onChange"),0<r.length&&(o=new vs("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var qe=null,ar=null;function ml(n){Gv(n,0)}function Ac(n){var r=Zn(n);if(il(r))return n}function fy(n,r){if(n==="change")return r}var dy=!1;if(Fn){var od;if(Fn){var ld="oninput"in document;if(!ld){var my=document.createElement("div");my.setAttribute("oninput","return;"),ld=typeof my.oninput=="function"}od=ld}else od=!1;dy=od&&(!document.documentMode||9<document.documentMode)}function gy(){qe&&(qe.detachEvent("onpropertychange",py),ar=qe=null)}function py(n){if(n.propertyName==="value"&&Ac(ar)){var r=[];Vr(r,ar,n,Vn(n)),uc(ml,r)}}function zS(n,r,o){n==="focusin"?(gy(),qe=r,ar=o,qe.attachEvent("onpropertychange",py)):n==="focusout"&&gy()}function BS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ac(ar)}function jS(n,r){if(n==="click")return Ac(r)}function qS(n,r){if(n==="input"||n==="change")return Ac(r)}function FS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var yn=typeof Object.is=="function"?Object.is:FS;function gl(n,r){if(yn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ea.call(r,f)||!yn(n[f],r[f]))return!1}return!0}function yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _y(n,r){var o=yy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=yy(o)}}function vy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?vy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ey(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=fa(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=fa(n.document)}return r}function ud(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var HS=Fn&&"documentMode"in document&&11>=document.documentMode,Is=null,cd=null,pl=null,hd=!1;function Ty(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||Is==null||Is!==fa(u)||(u=Is,"selectionStart"in u&&ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&gl(pl,u)||(pl=u,u=lh(cd,"onSelect"),0<u.length&&(r=new vs("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Is)))}function Aa(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var xs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},fd={},by={};Fn&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Sa(n){if(fd[n])return fd[n];if(!xs[n])return n;var r=xs[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in by)return fd[n]=r[o];return n}var Ay=Sa("animationend"),Sy=Sa("animationiteration"),wy=Sa("animationstart"),GS=Sa("transitionrun"),KS=Sa("transitionstart"),QS=Sa("transitioncancel"),Ry=Sa("transitionend"),Iy=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function Hn(n,r){Iy.set(n,r),qn(r,[n])}var xy=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var o=xy.get(n);return o!==void 0?o:(r={value:n,source:r,stack:ps(r)},xy.set(n,r),r)}return{value:n,source:r,stack:ps(r)}}var Pn=[],Ds=0,md=0;function Sc(){for(var n=Ds,r=md=Ds=0;r<n;){var o=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var g=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Dy(o,f,g)}}function wc(n,r,o,u){Pn[Ds++]=n,Pn[Ds++]=r,Pn[Ds++]=o,Pn[Ds++]=u,md|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function gd(n,r,o,u){return wc(n,r,o,u),Rc(n)}function Cs(n,r){return wc(n,null,null,r),Rc(n)}function Dy(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&r!==null&&(f=31-$e(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Rc(n){if(50<jl)throw jl=0,Tm=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Vs={};function $S(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,r,o,u){return new $S(n,r,o,u)}function pd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nr(n,r){var o=n.alternate;return o===null?(o=_n(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Cy(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ic(n,r,o,u,f,g){var E=0;if(u=n,typeof n=="function")pd(n)&&(E=1);else if(typeof n=="string")E=Xw(n,o,Tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=_n(31,o,r,f),n.elementType=R,n.lanes=g,n;case C:return wa(o.children,f,g,r);case K:E=8,f|=24;break;case L:return n=_n(12,o,r,f|2),n.elementType=L,n.lanes=g,n;case at:return n=_n(13,o,r,f),n.elementType=at,n.lanes=g,n;case pt:return n=_n(19,o,r,f),n.elementType=pt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case Y:E=10;break t;case et:E=9;break t;case ft:E=11;break t;case V:E=14;break t;case w:E=16,u=null;break t}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=_n(E,o,r,f),r.elementType=n,r.type=u,r.lanes=g,r}function wa(n,r,o,u){return n=_n(7,n,u,r),n.lanes=o,n}function yd(n,r,o){return n=_n(6,n,null,r),n.lanes=o,n}function _d(n,r,o){return r=_n(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ns=[],Os=0,xc=null,Dc=0,kn=[],Ln=0,Ra=null,Or=1,Mr="";function Ia(n,r){Ns[Os++]=Dc,Ns[Os++]=xc,xc=n,Dc=r}function Vy(n,r,o){kn[Ln++]=Or,kn[Ln++]=Mr,kn[Ln++]=Ra,Ra=n;var u=Or;n=Mr;var f=32-$e(u)-1;u&=~(1<<f),o+=1;var g=32-$e(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Or=1<<32-$e(r)+f|o<<f|u,Mr=g+n}else Or=1<<g|o<<f|u,Mr=n}function vd(n){n.return!==null&&(Ia(n,1),Vy(n,1,0))}function Ed(n){for(;n===xc;)xc=Ns[--Os],Ns[Os]=null,Dc=Ns[--Os],Ns[Os]=null;for(;n===Ra;)Ra=kn[--Ln],kn[Ln]=null,Mr=kn[--Ln],kn[Ln]=null,Or=kn[--Ln],kn[Ln]=null}var an=null,de=null,qt=!1,xa=null,sr=!1,Td=Error(i(519));function Da(n){var r=Error(i(418,""));throw vl(Mn(r,n)),Td}function Ny(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Re]=n,r[Te]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Ot(Fl[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),da(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ys(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),ma(r,u.value,u.defaultValue,u.children),ys(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Yv(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=uh),r=!0):r=!1,r||Da(n)}function Oy(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:an=an.return}}function yl(n){if(n!==an)return!1;if(!qt)return Oy(n),qt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Lm(n.type,n.memoizedProps)),o=!o),o&&de&&Da(n),Oy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){de=Kn(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}de=null}}else r===27?(r=de,Ri(n.type)?(n=jm,jm=null,de=n):de=r):de=an?Kn(n.stateNode.nextSibling):null;return!0}function _l(){de=an=null,qt=!1}function My(){var n=xa;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),xa=null),n}function vl(n){xa===null?xa=[n]:xa.push(n)}var bd=nt(null),Ca=null,Pr=null;function hi(n,r,o){it(bd,r._currentValue),r._currentValue=o}function kr(n){n._currentValue=bd.current,ct(bd)}function Ad(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Sd(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Ad(g.return,o,n),u||(E=null);break t}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Ad(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function El(n,r,o,u){n=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=f.type;yn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ne.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&Sd(r,n,o,u),r.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Va(n){Ca=n,Pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return Py(Ca,n)}function Vc(n,r){return Ca===null&&Va(n),Py(n,r)}function Py(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Pr===null){if(n===null)throw Error(i(308));Pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Pr=Pr.next=r;return o}var YS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},XS=a.unstable_scheduleCallback,ZS=a.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new YS,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&XS(ZS,function(){n.controller.abort()})}var bl=null,Rd=0,Ms=0,Ps=null;function JS(n,r){if(bl===null){var o=bl=[];Rd=0,Ms=xm(),Ps={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rd++,r.then(ky,ky),r}function ky(){if(--Rd===0&&bl!==null){Ps!==null&&(Ps.status="fulfilled");var n=bl;bl=null,Ms=0,Ps=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function WS(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ly=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JS(n,r),Ly!==null&&Ly(n,r)};var Na=nt(null);function Id(){var n=Na.current;return n!==null?n:ne.pooledCache}function Nc(n,r){r===null?it(Na,Na.current):it(Na,r.pool)}function Uy(){var n=Id();return n===null?null:{parent:De._currentValue,pool:n}}var Al=Error(i(460)),zy=Error(i(474)),Oc=Error(i(542)),xd={then:function(){}};function By(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mc(){}function jy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Mc,Mc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Fy(n),n;default:if(typeof r.status=="string")r.then(Mc,Mc);else{if(n=ne,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Fy(n),n}throw Sl=r,Al}}var Sl=null;function qy(){if(Sl===null)throw Error(i(459));var n=Sl;return Sl=null,n}function Fy(n){if(n===Al||n===Oc)throw Error(i(483))}var fi=!1;function Dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function mi(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Rc(n),Dy(n,null,o),r}return wc(n,u,r,o),Rc(n)}function wl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Wo(n,o)}}function Vd(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Nd=!1;function Rl(){if(Nd){var n=Ps;if(n!==null)throw n}}function Il(n,r,o,u){Nd=!1;var f=n.updateQueue;fi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,q=I.next;I.next=null,E===null?g=q:E.next=q,E=I;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=q:b.next=q,Z.lastBaseUpdate=I))}if(g!==null){var tt=f.baseState;E=0,Z=q=I=null,b=g;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Lt&H)===H:(u&H)===H){H!==0&&H===Ms&&(Nd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var wt=n,bt=b;H=r;var Wt=o;switch(bt.tag){case 1:if(wt=bt.payload,typeof wt=="function"){tt=wt.call(Wt,tt,H);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=bt.payload,H=typeof wt=="function"?wt.call(Wt,tt,H):wt,H==null)break t;tt=_({},tt,H);break t;case 2:fi=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(q=Z=G,I=tt):Z=Z.next=G,E|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Z===null&&(I=tt),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),bi|=E,n.lanes=E,n.memoizedState=tt}}function Hy(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function Gy(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Hy(o[n],r)}var ks=nt(null),Pc=nt(0);function Ky(n,r){n=Fr,it(Pc,n),it(ks,r),Fr=n|r.baseLanes}function Od(){it(Pc,Fr),it(ks,ks.current)}function Md(){Fr=Pc.current,ct(ks),ct(Pc)}var gi=0,xt=null,Zt=null,Ae=null,kc=!1,Ls=!1,Oa=!1,Lc=0,xl=0,Us=null,tw=0;function ye(){throw Error(i(321))}function Pd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!yn(n[o],r[o]))return!1;return!0}function kd(n,r,o,u,f,g){return gi=g,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?D_:C_,Oa=!1,g=o(u,f),Oa=!1,Ls&&(g=$y(r,o,u,f)),Qy(n),g}function Qy(n){X.H=Fc;var r=Zt!==null&&Zt.next!==null;if(gi=0,Ae=Zt=xt=null,kc=!1,xl=0,Us=null,r)throw Error(i(300));n===null||Pe||(n=n.dependencies,n!==null&&Cc(n)&&(Pe=!0))}function $y(n,r,o,u){xt=n;var f=0;do{if(Ls&&(Us=null),xl=0,Ls=!1,25<=f)throw Error(i(301));if(f+=1,Ae=Zt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=ow,g=r(o,u)}while(Ls);return g}function ew(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Dl(r):r,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(xt.flags|=1024),r}function Ld(){var n=Lc!==0;return Lc=0,n}function Ud(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function zd(n){if(kc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}kc=!1}gi=0,Ae=Zt=xt=null,Ls=!1,xl=Lc=0,Us=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?xt.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function Se(){if(Zt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var r=Ae===null?xt.memoizedState:Ae.next;if(r!==null)Ae=r,Zt=n;else{if(n===null)throw xt.alternate===null?Error(i(467)):Error(i(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?xt.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function Bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(n){var r=xl;return xl+=1,Us===null&&(Us=[]),n=jy(Us,n,r),r=xt,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?D_:C_),n}function Uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Dl(n);if(n.$$typeof===Y)return Ye(n)}throw Error(i(438,String(n)))}function jd(n){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Bd(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=M;return r.index++,o}function Lr(n,r){return typeof r=="function"?r(n):r}function zc(n){var r=Se();return qd(r,Zt,n)}function qd(n,r,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{r=f.next;var b=E=null,I=null,q=r,Z=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Lt&tt)===tt:(gi&tt)===tt){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Ms&&(Z=!0);else if((gi&H)===H){q=q.next,H===Ms&&(Z=!0);continue}else tt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=tt,E=g):I=I.next=tt,xt.lanes|=H,bi|=H;tt=q.action,Oa&&o(g,tt),g=q.hasEagerState?q.eagerState:o(g,tt)}else H={lane:tt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=H,E=g):I=I.next=H,xt.lanes|=tt,bi|=tt;q=q.next}while(q!==null&&q!==r);if(I===null?E=g:I.next=b,!yn(g,n.memoizedState)&&(Pe=!0,Z&&(o=Ps,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Fd(n){var r=Se(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);yn(g,r.memoizedState)||(Pe=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Yy(n,r,o){var u=xt,f=Se(),g=qt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!yn((Zt||f).memoizedState,o);E&&(f.memoizedState=o,Pe=!0),f=f.queue;var b=Jy.bind(null,u,f,n);if(Cl(2048,8,b,[n]),f.getSnapshot!==r||E||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,zs(9,Bc(),Zy.bind(null,u,f,o,r),null),ne===null)throw Error(i(349));g||(gi&124)!==0||Xy(u,r,o)}return o}function Xy(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=Bd(),xt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Zy(n,r,o,u){r.value=o,r.getSnapshot=u,Wy(r)&&t_(n)}function Jy(n,r,o){return o(function(){Wy(r)&&t_(n)})}function Wy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!yn(n,o)}catch{return!0}}function t_(n){var r=Cs(n,2);r!==null&&An(r,n,2)}function Hd(n){var r=un();if(typeof n=="function"){var o=n;if(n=o(),Oa){gn(!0);try{o()}finally{gn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:n},r}function e_(n,r,o,u){return n.baseState=o,qd(n,Zt,typeof u=="function"?u:Lr)}function nw(n,r,o,u,f){if(qc(n))throw Error(i(485));if(n=r.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,n_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function n_(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var g=X.T,E={};X.T=E;try{var b=o(f,u),I=X.S;I!==null&&I(E,b),r_(n,r,b)}catch(q){Gd(n,r,q)}finally{X.T=g}}else try{g=o(f,u),r_(n,r,g)}catch(q){Gd(n,r,q)}}function r_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){i_(n,r,u)},function(u){return Gd(n,r,u)}):i_(n,r,o)}function i_(n,r,o){r.status="fulfilled",r.value=o,a_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,n_(n,o)))}function Gd(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,a_(r),r=r.next;while(r!==u)}n.action=null}function a_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function s_(n,r){return r}function o_(n,r){if(qt){var o=ne.formState;if(o!==null){t:{var u=xt;if(qt){if(de){e:{for(var f=de,g=sr;f.nodeType!==8;){if(!g){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){de=Kn(f.nextSibling),u=f.data==="F!";break t}}Da(u)}u=!1}u&&(r=o[0])}}return o=un(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:r},o.queue=u,o=R_.bind(null,xt,u),u.dispatch=o,u=Hd(!1),g=Xd.bind(null,xt,!1,u.queue),u=un(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=nw.bind(null,xt,f,g,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function l_(n){var r=Se();return u_(r,Zt,n)}function u_(n,r,o){if(r=qd(n,r,s_)[0],n=zc(Lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Dl(r)}catch(E){throw E===Al?Oc:E}else u=r;r=Se();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,zs(9,Bc(),rw.bind(null,f,o),null)),[u,g,n]}function rw(n,r){n.action=r}function c_(n){var r=Se(),o=Zt;if(o!==null)return u_(r,o,n);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function zs(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Bd(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Bc(){return{destroy:void 0,resource:void 0}}function h_(){return Se().memoizedState}function jc(n,r,o,u){var f=un();u=u===void 0?null:u,xt.flags|=n,f.memoizedState=zs(1|r,Bc(),o,u)}function Cl(n,r,o,u){var f=Se();u=u===void 0?null:u;var g=f.memoizedState.inst;Zt!==null&&u!==null&&Pd(u,Zt.memoizedState.deps)?f.memoizedState=zs(r,g,o,u):(xt.flags|=n,f.memoizedState=zs(1|r,g,o,u))}function f_(n,r){jc(8390656,8,n,r)}function d_(n,r){Cl(2048,8,n,r)}function m_(n,r){return Cl(4,2,n,r)}function g_(n,r){return Cl(4,4,n,r)}function p_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function y_(n,r,o){o=o!=null?o.concat([n]):null,Cl(4,4,p_.bind(null,r,n),o)}function Kd(){}function __(n,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pd(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function v_(n,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pd(r,u[1]))return u[0];if(u=n(),Oa){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,r],u}function Qd(n,r,o){return o===void 0||(gi&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=bv(),xt.lanes|=n,bi|=n,o)}function E_(n,r,o,u){return yn(o,r)?o:ks.current!==null?(n=Qd(n,o,u),yn(n,r)||(Pe=!0),n):(gi&42)===0?(Pe=!0,n.memoizedState=o):(n=bv(),xt.lanes|=n,bi|=n,r)}function T_(n,r,o,u,f){var g=ut.p;ut.p=g!==0&&8>g?g:8;var E=X.T,b={};X.T=b,Xd(n,!1,r,o);try{var I=f(),q=X.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=WS(I,u);Vl(n,r,Z,bn(n))}else Vl(n,r,u,bn(n))}catch(tt){Vl(n,r,{then:function(){},status:"rejected",reason:tt},bn())}finally{ut.p=g,X.T=E}}function iw(){}function $d(n,r,o,u){if(n.tag!==5)throw Error(i(476));var f=b_(n).queue;T_(n,f,r,vt,o===null?iw:function(){return A_(n),o(u)})}function b_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:vt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function A_(n){var r=b_(n).next.queue;Vl(n,r,{},bn())}function Yd(){return Ye(Yl)}function S_(){return Se().memoizedState}function w_(){return Se().memoizedState}function aw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=bn();n=di(o);var u=mi(r,n,o);u!==null&&(An(u,r,o),wl(u,r,o)),r={cache:wd()},n.payload=r;return}r=r.return}}function sw(n,r,o){var u=bn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},qc(n)?I_(r,o):(o=gd(n,r,o,u),o!==null&&(An(o,n,u),x_(o,r,u)))}function R_(n,r,o){var u=bn();Vl(n,r,o,u)}function Vl(n,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(qc(n))I_(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,yn(b,E))return wc(n,r,f,0),ne===null&&Sc(),!1}catch{}finally{}if(o=gd(n,r,f,u),o!==null)return An(o,n,u),x_(o,r,u),!0}return!1}function Xd(n,r,o,u){if(u={lane:2,revertLane:xm(),action:u,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(r)throw Error(i(479))}else r=gd(n,o,u,2),r!==null&&An(r,n,2)}function qc(n){var r=n.alternate;return n===xt||r!==null&&r===xt}function I_(n,r){Ls=kc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function x_(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Wo(n,o)}}var Fc={readContext:Ye,use:Uc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},D_={readContext:Ye,use:Uc,useCallback:function(n,r){return un().memoizedState=[n,r===void 0?null:r],n},useContext:Ye,useEffect:f_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,jc(4194308,4,p_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return jc(4194308,4,n,r)},useInsertionEffect:function(n,r){jc(4,2,n,r)},useMemo:function(n,r){var o=un();r=r===void 0?null:r;var u=n();if(Oa){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=un();if(o!==void 0){var f=o(r);if(Oa){gn(!0);try{o(r)}finally{gn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=sw.bind(null,xt,n),[u.memoizedState,n]},useRef:function(n){var r=un();return n={current:n},r.memoizedState=n},useState:function(n){n=Hd(n);var r=n.queue,o=R_.bind(null,xt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Kd,useDeferredValue:function(n,r){var o=un();return Qd(o,n,r)},useTransition:function(){var n=Hd(!1);return n=T_.bind(null,xt,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=xt,f=un();if(qt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ne===null)throw Error(i(349));(Lt&124)!==0||Xy(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,f_(Jy.bind(null,u,g,n),[n]),u.flags|=2048,zs(9,Bc(),Zy.bind(null,u,g,o,r),null),o},useId:function(){var n=un(),r=ne.identifierPrefix;if(qt){var o=Mr,u=Or;o=(u&~(1<<32-$e(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Lc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=tw++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Yd,useFormState:o_,useActionState:o_,useOptimistic:function(n){var r=un();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Xd.bind(null,xt,!0,o),o.dispatch=r,[n,r]},useMemoCache:jd,useCacheRefresh:function(){return un().memoizedState=aw.bind(null,xt)}},C_={readContext:Ye,use:Uc,useCallback:__,useContext:Ye,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:v_,useReducer:zc,useRef:h_,useState:function(){return zc(Lr)},useDebugValue:Kd,useDeferredValue:function(n,r){var o=Se();return E_(o,Zt.memoizedState,n,r)},useTransition:function(){var n=zc(Lr)[0],r=Se().memoizedState;return[typeof n=="boolean"?n:Dl(n),r]},useSyncExternalStore:Yy,useId:S_,useHostTransitionStatus:Yd,useFormState:l_,useActionState:l_,useOptimistic:function(n,r){var o=Se();return e_(o,Zt,n,r)},useMemoCache:jd,useCacheRefresh:w_},ow={readContext:Ye,use:Uc,useCallback:__,useContext:Ye,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:v_,useReducer:Fd,useRef:h_,useState:function(){return Fd(Lr)},useDebugValue:Kd,useDeferredValue:function(n,r){var o=Se();return Zt===null?Qd(o,n,r):E_(o,Zt.memoizedState,n,r)},useTransition:function(){var n=Fd(Lr)[0],r=Se().memoizedState;return[typeof n=="boolean"?n:Dl(n),r]},useSyncExternalStore:Yy,useId:S_,useHostTransitionStatus:Yd,useFormState:c_,useActionState:c_,useOptimistic:function(n,r){var o=Se();return Zt!==null?e_(o,Zt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:jd,useCacheRefresh:w_},Bs=null,Nl=0;function Hc(n){var r=Nl;return Nl+=1,Bs===null&&(Bs=[]),jy(Bs,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Gc(n,r){throw r.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function V_(n){var r=n._init;return r(n._payload)}function N_(n){function r(k,O){if(n){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function o(k,O){if(!n)return null;for(;O!==null;)r(k,O),O=O.sibling;return null}function u(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function f(k,O){return k=Nr(k,O),k.index=0,k.sibling=null,k}function g(k,O,j){return k.index=j,n?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,j,W){return O===null||O.tag!==6?(O=yd(j,k.mode,W),O.return=k,O):(O=f(O,j),O.return=k,O)}function I(k,O,j,W){var mt=j.type;return mt===C?Z(k,O,j.props.children,W,j.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&V_(mt)===O.type)?(O=f(O,j.props),Ol(O,j),O.return=k,O):(O=Ic(j.type,j.key,j.props,null,k.mode,W),Ol(O,j),O.return=k,O)}function q(k,O,j,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=_d(j,k.mode,W),O.return=k,O):(O=f(O,j.children||[]),O.return=k,O)}function Z(k,O,j,W,mt){return O===null||O.tag!==7?(O=wa(j,k.mode,W,mt),O.return=k,O):(O=f(O,j),O.return=k,O)}function tt(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=yd(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return j=Ic(O.type,O.key,O.props,null,k.mode,j),Ol(j,O),j.return=k,j;case x:return O=_d(O,k.mode,j),O.return=k,O;case w:var W=O._init;return O=W(O._payload),tt(k,O,j)}if(he(O)||U(O))return O=wa(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return tt(k,Hc(O),j);if(O.$$typeof===Y)return tt(k,Vc(k,O),j);Gc(k,O)}return null}function H(k,O,j,W){var mt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:b(k,O,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===mt?I(k,O,j,W):null;case x:return j.key===mt?q(k,O,j,W):null;case w:return mt=j._init,j=mt(j._payload),H(k,O,j,W)}if(he(j)||U(j))return mt!==null?null:Z(k,O,j,W,null);if(typeof j.then=="function")return H(k,O,Hc(j),W);if(j.$$typeof===Y)return H(k,O,Vc(k,j),W);Gc(k,j)}return null}function G(k,O,j,W,mt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(j)||null,b(O,k,""+W,mt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return k=k.get(W.key===null?j:W.key)||null,I(O,k,W,mt);case x:return k=k.get(W.key===null?j:W.key)||null,q(O,k,W,mt);case w:var Vt=W._init;return W=Vt(W._payload),G(k,O,j,W,mt)}if(he(W)||U(W))return k=k.get(j)||null,Z(O,k,W,mt,null);if(typeof W.then=="function")return G(k,O,j,Hc(W),mt);if(W.$$typeof===Y)return G(k,O,j,Vc(O,W),mt);Gc(O,W)}return null}function wt(k,O,j,W){for(var mt=null,Vt=null,_t=O,At=O=0,Le=null;_t!==null&&At<j.length;At++){_t.index>At?(Le=_t,_t=null):Le=_t.sibling;var Bt=H(k,_t,j[At],W);if(Bt===null){_t===null&&(_t=Le);break}n&&_t&&Bt.alternate===null&&r(k,_t),O=g(Bt,O,At),Vt===null?mt=Bt:Vt.sibling=Bt,Vt=Bt,_t=Le}if(At===j.length)return o(k,_t),qt&&Ia(k,At),mt;if(_t===null){for(;At<j.length;At++)_t=tt(k,j[At],W),_t!==null&&(O=g(_t,O,At),Vt===null?mt=_t:Vt.sibling=_t,Vt=_t);return qt&&Ia(k,At),mt}for(_t=u(_t);At<j.length;At++)Le=G(_t,k,At,j[At],W),Le!==null&&(n&&Le.alternate!==null&&_t.delete(Le.key===null?At:Le.key),O=g(Le,O,At),Vt===null?mt=Le:Vt.sibling=Le,Vt=Le);return n&&_t.forEach(function(Vi){return r(k,Vi)}),qt&&Ia(k,At),mt}function bt(k,O,j,W){if(j==null)throw Error(i(151));for(var mt=null,Vt=null,_t=O,At=O=0,Le=null,Bt=j.next();_t!==null&&!Bt.done;At++,Bt=j.next()){_t.index>At?(Le=_t,_t=null):Le=_t.sibling;var Vi=H(k,_t,Bt.value,W);if(Vi===null){_t===null&&(_t=Le);break}n&&_t&&Vi.alternate===null&&r(k,_t),O=g(Vi,O,At),Vt===null?mt=Vi:Vt.sibling=Vi,Vt=Vi,_t=Le}if(Bt.done)return o(k,_t),qt&&Ia(k,At),mt;if(_t===null){for(;!Bt.done;At++,Bt=j.next())Bt=tt(k,Bt.value,W),Bt!==null&&(O=g(Bt,O,At),Vt===null?mt=Bt:Vt.sibling=Bt,Vt=Bt);return qt&&Ia(k,At),mt}for(_t=u(_t);!Bt.done;At++,Bt=j.next())Bt=G(_t,k,At,Bt.value,W),Bt!==null&&(n&&Bt.alternate!==null&&_t.delete(Bt.key===null?At:Bt.key),O=g(Bt,O,At),Vt===null?mt=Bt:Vt.sibling=Bt,Vt=Bt);return n&&_t.forEach(function(l1){return r(k,l1)}),qt&&Ia(k,At),mt}function Wt(k,O,j,W){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var mt=j.key;O!==null;){if(O.key===mt){if(mt=j.type,mt===C){if(O.tag===7){o(k,O.sibling),W=f(O,j.props.children),W.return=k,k=W;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&V_(mt)===O.type){o(k,O.sibling),W=f(O,j.props),Ol(W,j),W.return=k,k=W;break t}o(k,O);break}else r(k,O);O=O.sibling}j.type===C?(W=wa(j.props.children,k.mode,W,j.key),W.return=k,k=W):(W=Ic(j.type,j.key,j.props,null,k.mode,W),Ol(W,j),W.return=k,k=W)}return E(k);case x:t:{for(mt=j.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){o(k,O.sibling),W=f(O,j.children||[]),W.return=k,k=W;break t}else{o(k,O);break}else r(k,O);O=O.sibling}W=_d(j,k.mode,W),W.return=k,k=W}return E(k);case w:return mt=j._init,j=mt(j._payload),Wt(k,O,j,W)}if(he(j))return wt(k,O,j,W);if(U(j)){if(mt=U(j),typeof mt!="function")throw Error(i(150));return j=mt.call(j),bt(k,O,j,W)}if(typeof j.then=="function")return Wt(k,O,Hc(j),W);if(j.$$typeof===Y)return Wt(k,O,Vc(k,j),W);Gc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(o(k,O.sibling),W=f(O,j),W.return=k,k=W):(o(k,O),W=yd(j,k.mode,W),W.return=k,k=W),E(k)):o(k,O)}return function(k,O,j,W){try{Nl=0;var mt=Wt(k,O,j,W);return Bs=null,mt}catch(_t){if(_t===Al||_t===Oc)throw _t;var Vt=_n(29,_t,null,k.mode);return Vt.lanes=W,Vt.return=k,Vt}finally{}}}var js=N_(!0),O_=N_(!1),Un=nt(null),or=null;function pi(n){var r=n.alternate;it(Ce,Ce.current&1),it(Un,n),or===null&&(r===null||ks.current!==null||r.memoizedState!==null)&&(or=n)}function M_(n){if(n.tag===22){if(it(Ce,Ce.current),it(Un,n),or===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(or=n)}}else yi()}function yi(){it(Ce,Ce.current),it(Un,Un.current)}function Ur(n){ct(Un),or===n&&(or=null),ct(Ce)}var Ce=nt(0);function Kc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Bm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zd(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Jd={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=bn(),f=di(u);f.payload=r,o!=null&&(f.callback=o),r=mi(n,f,u),r!==null&&(An(r,n,u),wl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=bn(),f=di(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=mi(n,f,u),r!==null&&(An(r,n,u),wl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=bn(),u=di(o);u.tag=2,r!=null&&(u.callback=r),r=mi(n,u,o),r!==null&&(An(r,n,o),wl(r,n,o))}};function P_(n,r,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!gl(o,u)||!gl(f,g):!0}function k_(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Jd.enqueueReplaceState(r,r.state,null)}function Ma(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function L_(n){Qc(n)}function U_(n){console.error(n)}function z_(n){Qc(n)}function $c(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function B_(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wd(n,r,o){return o=di(o),o.tag=3,o.payload={element:null},o.callback=function(){$c(n,r)},o}function j_(n){return n=di(n),n.tag=3,n}function q_(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){B_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){B_(r,o,u),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function lw(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&El(r,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 13:return or===null?Am():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===xd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),wm(n,u,f)),!1;case 22:return o.flags|=65536,u===xd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),wm(n,u,f)),!1}throw Error(i(435,o.tag))}return wm(n,u,f),Am(),!1}if(qt)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Td&&(n=Error(i(422),{cause:u}),vl(Mn(n,o)))):(u!==Td&&(r=Error(i(423),{cause:u}),vl(Mn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Mn(u,o),f=Wd(n.stateNode,u,f),Vd(n,f),me!==4&&(me=2)),!1;var g=Error(i(520),{cause:u});if(g=Mn(g,o),Bl===null?Bl=[g]:Bl.push(g),me!==4&&(me=2),r===null)return!0;u=Mn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Wd(o.stateNode,u,n),Vd(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ai===null||!Ai.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=j_(f),q_(f,n,o,u),Vd(o,f),!1}o=o.return}while(o!==null);return!1}var F_=Error(i(461)),Pe=!1;function Fe(n,r,o,u){r.child=n===null?O_(r,null,o,u):js(r,n.child,o,u)}function H_(n,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Va(r),u=kd(n,r,o,E,g,f),b=Ld(),n!==null&&!Pe?(Ud(n,r,f),zr(n,r,f)):(qt&&b&&vd(r),r.flags|=1,Fe(n,r,u,f),r.child)}function G_(n,r,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!pd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,K_(n,r,g,u,f)):(n=Ic(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!om(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(E,u)&&n.ref===r.ref)return zr(n,r,f)}return r.flags|=1,n=Nr(g,u),n.ref=r.ref,n.return=r,r.child=n}function K_(n,r,o,u,f){if(n!==null){var g=n.memoizedProps;if(gl(g,u)&&n.ref===r.ref)if(Pe=!1,r.pendingProps=u=g,om(n,f))(n.flags&131072)!==0&&(Pe=!0);else return r.lanes=n.lanes,zr(n,r,f)}return tm(n,r,o,u,f)}function Q_(n,r,o){var u=r.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=r.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return $_(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(r,g!==null?g.cachePool:null),g!==null?Ky(r,g):Od(),M_(r);else return r.lanes=r.childLanes=536870912,$_(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Nc(r,g.cachePool),Ky(r,g),yi(),r.memoizedState=null):(n!==null&&Nc(r,null),Od(),yi());return Fe(n,r,f,o),r.child}function $_(n,r,o,u){var f=Id();return f=f===null?null:{parent:De._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&Nc(r,null),Od(),M_(r),n!==null&&El(n,r,u,!0),null}function Yc(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function tm(n,r,o,u,f){return Va(r),o=kd(n,r,o,u,void 0,f),u=Ld(),n!==null&&!Pe?(Ud(n,r,f),zr(n,r,f)):(qt&&u&&vd(r),r.flags|=1,Fe(n,r,o,f),r.child)}function Y_(n,r,o,u,f,g){return Va(r),r.updateQueue=null,o=$y(r,u,o,f),Qy(n),u=Ld(),n!==null&&!Pe?(Ud(n,r,g),zr(n,r,g)):(qt&&u&&vd(r),r.flags|=1,Fe(n,r,o,g),r.child)}function X_(n,r,o,u,f){if(Va(r),r.stateNode===null){var g=Vs,E=o.contextType;typeof E=="object"&&E!==null&&(g=Ye(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Dd(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Ye(E):Vs,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Zd(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Jd.enqueueReplaceState(g,g.state,null),Il(r,u,g,f),Rl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){g=r.stateNode;var b=r.memoizedProps,I=Ma(o,b);g.props=I;var q=g.context,Z=o.contextType;E=Vs,typeof Z=="object"&&Z!==null&&(E=Ye(Z));var tt=o.getDerivedStateFromProps;Z=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||q!==E)&&k_(r,g,u,E),fi=!1;var H=r.memoizedState;g.state=H,Il(r,u,g,f),Rl(),q=r.memoizedState,b||H!==q||fi?(typeof tt=="function"&&(Zd(r,o,tt,u),q=r.memoizedState),(I=fi||P_(r,o,I,u,H,q,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),g.props=u,g.state=q,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Cd(n,r),E=r.memoizedProps,Z=Ma(o,E),g.props=Z,tt=r.pendingProps,H=g.context,q=o.contextType,I=Vs,typeof q=="object"&&q!==null&&(I=Ye(q)),b=o.getDerivedStateFromProps,(q=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==tt||H!==I)&&k_(r,g,u,I),fi=!1,H=r.memoizedState,g.state=H,Il(r,u,g,f),Rl();var G=r.memoizedState;E!==tt||H!==G||fi||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof b=="function"&&(Zd(r,o,b,u),G=r.memoizedState),(Z=fi||P_(r,o,Z,u,H,G,I)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,I)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),u=!1)}return g=u,Yc(n,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&u?(r.child=js(r,n.child,null,f),r.child=js(r,null,o,f)):Fe(n,r,o,f),r.memoizedState=g.state,n=r.child):n=zr(n,r,f),n}function Z_(n,r,o,u){return _l(),r.flags|=256,Fe(n,r,o,u),r.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(n){return{baseLanes:n,cachePool:Uy()}}function rm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=zn),n}function J_(n,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Ce.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(qt){if(f?pi(r):yi(),qt){var b=de,I;if(I=b){t:{for(I=b,b=sr;I.nodeType!==8;){if(!b){b=null;break t}if(I=Kn(I.nextSibling),I===null){b=null;break t}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ra!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},I=_n(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,an=r,de=null,I=!0):I=!1}I||Da(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Bm(b)?r.lanes=32:r.lanes=536870912,null;Ur(r)}return b=u.children,u=u.fallback,f?(yi(),f=r.mode,b=Xc({mode:"hidden",children:b},f),u=wa(u,f,o,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=nm(o),f.childLanes=rm(n,E,o),r.memoizedState=em,u):(pi(r),im(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(g)r.flags&256?(pi(r),r.flags&=-257,r=am(n,r,o)):r.memoizedState!==null?(yi(),r.child=n.child,r.flags|=128,r=null):(yi(),f=u.fallback,b=r.mode,u=Xc({mode:"visible",children:u.children},b),f=wa(f,b,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,js(r,n.child,null,o),u=r.child,u.memoizedState=nm(o),u.childLanes=rm(n,E,o),r.memoizedState=em,r=f);else if(pi(r),Bm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(i(419)),u.stack="",u.digest=E,vl({value:u,source:null,stack:null}),r=am(n,r,o)}else if(Pe||El(n,r,o,!1),E=(o&n.childLanes)!==0,Pe||E){if(E=ne,E!==null&&(u=o&-o,u=(u&42)!==0?1:ii(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Cs(n,u),An(E,n,u),F_;b.data==="$?"||Am(),r=am(n,r,o)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,de=Kn(b.nextSibling),an=r,qt=!0,xa=null,sr=!1,n!==null&&(kn[Ln++]=Or,kn[Ln++]=Mr,kn[Ln++]=Ra,Or=n.id,Mr=n.overflow,Ra=r),r=im(r,u.children),r.flags|=4096);return r}return f?(yi(),f=u.fallback,b=r.mode,I=n.child,q=I.sibling,u=Nr(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=Nr(q,f):(f=wa(f,b,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=nm(o):(I=b.cachePool,I!==null?(q=De._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Uy(),b={baseLanes:b.baseLanes|o,cachePool:I}),f.memoizedState=b,f.childLanes=rm(n,E,o),r.memoizedState=em,u):(pi(r),o=n.child,n=o.sibling,o=Nr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function im(n,r){return r=Xc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Xc(n,r){return n=_n(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function am(n,r,o){return js(r,n.child,null,o),n=im(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function W_(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Ad(n.return,r,o)}function sm(n,r,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function tv(n,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Fe(n,r,u.children,o),u=Ce.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W_(n,o,r);else if(n.tag===19)W_(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(it(Ce,u),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&Kc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),sm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Kc(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}sm(r,!0,o,null,g);break;case"together":sm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),bi|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(El(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=Nr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Nr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function om(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function uw(n,r,o){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),hi(r,De,n.memoizedState.cache),_l();break;case 27:case 5:ri(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:hi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(pi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?J_(n,r,o):(pi(r),n=zr(n,r,o),n!==null?n.sibling:null);pi(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(El(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return tv(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Ce,Ce.current),u)break;return null;case 22:case 23:return r.lanes=0,Q_(n,r,o);case 24:hi(r,De,n.memoizedState.cache)}return zr(n,r,o)}function ev(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pe=!0;else{if(!om(n,o)&&(r.flags&128)===0)return Pe=!1,uw(n,r,o);Pe=(n.flags&131072)!==0}else Pe=!1,qt&&(r.flags&1048576)!==0&&Vy(r,Dc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")pd(u)?(n=Ma(u,n),r.tag=1,r=X_(null,r,u,n,o)):(r.tag=0,r=tm(null,r,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===ft){r.tag=11,r=H_(null,r,u,n,o);break t}else if(f===V){r.tag=14,r=G_(null,r,u,n,o);break t}}throw r=Be(u)||u,Error(i(306,r,""))}}return r;case 0:return tm(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ma(u,r.pendingProps),X_(n,r,u,f,o);case 3:t:{if(ee(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Cd(n,r),Il(r,u,null,o);var E=r.memoizedState;if(u=E.cache,hi(r,De,u),u!==g.cache&&Sd(r,[De],o,!0),Rl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Z_(n,r,u,o);break t}else if(u!==f){f=Mn(Error(i(424)),r),vl(f),r=Z_(n,r,u,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(de=Kn(n.firstChild),an=r,qt=!0,xa=null,sr=!0,o=O_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_l(),u===f){r=zr(n,r,o);break t}Fe(n,r,u,o)}r=r.child}return r;case 26:return Yc(n,r),n===null?(o=a0(r.type,null,r.pendingProps,null))?r.memoizedState=o:qt||(o=r.type,n=r.pendingProps,u=ch(Rt.current).createElement(o),u[Re]=r,u[Te]=n,Ge(u,o,n),pe(u),r.stateNode=u):r.memoizedState=a0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ri(r),n===null&&qt&&(u=r.stateNode=n0(r.type,r.pendingProps,Rt.current),an=r,sr=!0,f=de,Ri(r.type)?(jm=f,de=Kn(u.firstChild)):de=f),Fe(n,r,r.pendingProps.children,o),Yc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qt&&((f=u=de)&&(u=Lw(u,r.type,r.pendingProps,sr),u!==null?(r.stateNode=u,an=r,de=Kn(u.firstChild),sr=!1,f=!0):f=!1),f||Da(r)),ri(r),f=r.type,g=r.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,Lm(f,g)?u=null:E!==null&&Lm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=kd(n,r,ew,null,null,o),Yl._currentValue=f),Yc(n,r),Fe(n,r,u,o),r.child;case 6:return n===null&&qt&&((n=o=de)&&(o=Uw(o,r.pendingProps,sr),o!==null?(r.stateNode=o,an=r,de=null,n=!0):n=!1),n||Da(r)),null;case 13:return J_(n,r,o);case 4:return ee(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=js(r,null,u,o):Fe(n,r,u,o),r.child;case 11:return H_(n,r,r.type,r.pendingProps,o);case 7:return Fe(n,r,r.pendingProps,o),r.child;case 8:return Fe(n,r,r.pendingProps.children,o),r.child;case 12:return Fe(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,hi(r,r.type,u.value),Fe(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Va(r),f=Ye(f),u=u(f),r.flags|=1,Fe(n,r,u,o),r.child;case 14:return G_(n,r,r.type,r.pendingProps,o);case 15:return K_(n,r,r.type,r.pendingProps,o);case 19:return tv(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=Xc(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Nr(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Q_(n,r,o);case 24:return Va(r),u=Ye(De),n===null?(f=Id(),f===null&&(f=ne,g=wd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Dd(r),hi(r,De,f)):((n.lanes&o)!==0&&(Cd(n,r),Il(r,null,null,o),Rl()),f=n.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),hi(r,De,u)):(u=g.cache,hi(r,De,u),u!==f.cache&&Sd(r,[De],o,!0))),Fe(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Br(n){n.flags|=4}function nv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c0(r)){if(r=Un.current,r!==null&&((Lt&4194048)===Lt?or!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==or))throw Sl=xd,zy;n.flags|=8192}}function Zc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Zo():536870912,n.lanes|=r,Gs|=r)}function Ml(n,r){if(!qt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function oe(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function cw(n,r,o){var u=r.pendingProps;switch(Ed(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),kr(De),$n(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(yl(r)?Br(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,My())),oe(r),null;case 26:return o=r.memoizedState,n===null?(Br(r),o!==null?(oe(r),nv(r,o)):(oe(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Br(r),oe(r),nv(r,o)):(oe(r),r.flags&=-16777217):(n.memoizedProps!==u&&Br(r),oe(r),r.flags&=-16777217),null;case 27:vr(r),o=Rt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Br(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return oe(r),null}n=Tt.current,yl(r)?Ny(r):(n=n0(f,u,o),r.stateNode=n,Br(r))}return oe(r),null;case 5:if(vr(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Br(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return oe(r),null}if(n=Tt.current,yl(r))Ny(r);else{switch(f=ch(Rt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Re]=r,n[Te]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(Ge(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Br(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Br(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=Rt.current,yl(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=an,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Re]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Yv(n.nodeValue,o)),n||Da(r)}else n=ch(n).createTextNode(u),n[Re]=r,r.stateNode=n}return oe(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=yl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Re]=r}else _l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ur(r),r):(Ur(r),null)}if(Ur(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),Zc(r,r.updateQueue),oe(r),null;case 4:return $n(),n===null&&Nm(r.stateNode.containerInfo),oe(r),null;case 10:return kr(r.type),oe(r),null;case 19:if(ct(Ce),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Ml(f,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=Kc(n),g!==null){for(r.flags|=128,Ml(f,!1),n=g.updateQueue,r.updateQueue=n,Zc(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Cy(o,n),o=o.sibling;return it(Ce,Ce.current&1|2),r.child}n=n.sibling}f.tail!==null&&xn()>th&&(r.flags|=128,u=!0,Ml(f,!1),r.lanes=4194304)}else{if(!u)if(n=Kc(g),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Zc(r,n),Ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qt)return oe(r),null}else 2*xn()-f.renderingStartTime>th&&o!==536870912&&(r.flags|=128,u=!0,Ml(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(n=f.last,n!==null?n.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xn(),r.sibling=null,n=Ce.current,it(Ce,u?n&1|2:n&1),r):(oe(r),null);case 22:case 23:return Ur(r),Md(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Zc(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ct(Na),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),kr(De),oe(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function hw(n,r){switch(Ed(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return kr(De),$n(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return vr(r),null;case 13:if(Ur(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));_l()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ct(Ce),null;case 4:return $n(),null;case 10:return kr(r.type),null;case 22:case 23:return Ur(r),Md(),n!==null&&ct(Na),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return kr(De),null;case 25:return null;default:return null}}function rv(n,r){switch(Ed(r),r.tag){case 3:kr(De),$n();break;case 26:case 27:case 5:vr(r);break;case 4:$n();break;case 13:Ur(r);break;case 19:ct(Ce);break;case 10:kr(r.type);break;case 22:case 23:Ur(r),Md(),n!==null&&ct(Na);break;case 24:kr(De)}}function Pl(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){te(r,r.return,b)}}function _i(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var I=o,q=b;try{q()}catch(Z){te(f,I,Z)}}}u=u.next}while(u!==g)}}catch(Z){te(r,r.return,Z)}}function iv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Gy(r,o)}catch(u){te(n,n.return,u)}}}function av(n,r,o){o.props=Ma(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){te(n,r,u)}}function kl(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){te(n,r,f)}}function lr(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){te(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){te(n,r,f)}else o.current=null}function sv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){te(n,n.return,f)}}function lm(n,r,o){try{var u=n.stateNode;Nw(u,n.type,o,r),u[Te]=r}catch(f){te(n,n.return,f)}}function ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ri(n.type)||n.tag===4}function um(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ri(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=uh));else if(u!==4&&(u===27&&Ri(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(cm(n,r,o),n=n.sibling;n!==null;)cm(n,r,o),n=n.sibling}function Jc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Ri(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Jc(n,r,o),n=n.sibling;n!==null;)Jc(n,r,o),n=n.sibling}function lv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ge(r,u,o),r[Re]=n,r[Te]=o}catch(g){te(n,n.return,g)}}var jr=!1,_e=!1,hm=!1,uv=typeof WeakSet=="function"?WeakSet:Set,ke=null;function fw(n,r){if(n=n.containerInfo,Pm=ph,n=Ey(n),ud(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,I=-1,q=0,Z=0,tt=n,H=null;e:for(;;){for(var G;tt!==o||f!==0&&tt.nodeType!==3||(b=E+f),tt!==g||u!==0&&tt.nodeType!==3||(I=E+u),tt.nodeType===3&&(E+=tt.nodeValue.length),(G=tt.firstChild)!==null;)H=tt,tt=G;for(;;){if(tt===n)break e;if(H===o&&++q===f&&(b=E),H===g&&++Z===u&&(I=E),(G=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=G}o=b===-1||I===-1?null:{start:b,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(km={focusedElem:n,selectionRange:o},ph=!1,ke=r;ke!==null;)if(r=ke,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,ke=n;else for(;ke!==null;){switch(r=ke,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=Ma(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(bt){te(o,o.return,bt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)zm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,ke=n;break}ke=r.return}}function cv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vi(n,o),u&4&&Pl(5,o);break;case 1:if(vi(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){te(o,o.return,E)}else{var f=Ma(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){te(o,o.return,E)}}u&64&&iv(o),u&512&&kl(o,o.return);break;case 3:if(vi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Gy(n,r)}catch(E){te(o,o.return,E)}}break;case 27:r===null&&u&4&&lv(o);case 26:case 5:vi(n,o),r===null&&u&4&&sv(o),u&512&&kl(o,o.return);break;case 12:vi(n,o);break;case 13:vi(n,o),u&4&&dv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Tw.bind(null,o),zw(n,o))));break;case 22:if(u=o.memoizedState!==null||jr,!u){r=r!==null&&r.memoizedState!==null||_e,f=jr;var g=_e;jr=u,(_e=r)&&!g?Ei(n,o,(o.subtreeFlags&8772)!==0):vi(n,o),jr=f,_e=g}break;case 30:break;default:vi(n,o)}}function hv(n){var r=n.alternate;r!==null&&(n.alternate=null,hv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&oi(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ae=null,cn=!1;function qr(n,r,o){for(o=o.child;o!==null;)fv(n,r,o),o=o.sibling}function fv(n,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fe,o)}catch{}switch(o.tag){case 26:_e||lr(o,r),qr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_e||lr(o,r);var u=ae,f=cn;Ri(o.type)&&(ae=o.stateNode,cn=!1),qr(n,r,o),Gl(o.stateNode),ae=u,cn=f;break;case 5:_e||lr(o,r);case 6:if(u=ae,f=cn,ae=null,qr(n,r,o),ae=u,cn=f,ae!==null)if(cn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(o.stateNode)}catch(g){te(o,r,g)}else try{ae.removeChild(o.stateNode)}catch(g){te(o,r,g)}break;case 18:ae!==null&&(cn?(n=ae,t0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Wl(n)):t0(ae,o.stateNode));break;case 4:u=ae,f=cn,ae=o.stateNode.containerInfo,cn=!0,qr(n,r,o),ae=u,cn=f;break;case 0:case 11:case 14:case 15:_e||_i(2,o,r),_e||_i(4,o,r),qr(n,r,o);break;case 1:_e||(lr(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&av(o,r,u)),qr(n,r,o);break;case 21:qr(n,r,o);break;case 22:_e=(u=_e)||o.memoizedState!==null,qr(n,r,o),_e=u;break;default:qr(n,r,o)}}function dv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wl(n)}catch(o){te(r,r.return,o)}}function dw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new uv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new uv),r;default:throw Error(i(435,n.tag))}}function fm(n,r){var o=dw(n);r.forEach(function(u){var f=bw.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function vn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=r,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Ri(b.type)){ae=b.stateNode,cn=!1;break t}break;case 5:ae=b.stateNode,cn=!1;break t;case 3:case 4:ae=b.stateNode.containerInfo,cn=!0;break t}b=b.return}if(ae===null)throw Error(i(160));fv(g,E,f),ae=null,cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)mv(r,n),r=r.sibling}var Gn=null;function mv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(r,n),En(n),u&4&&(_i(3,n,n.return),Pl(3,n),_i(5,n,n.return));break;case 1:vn(r,n),En(n),u&512&&(_e||o===null||lr(o,o.return)),u&64&&jr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Gn;if(vn(r,n),En(n),u&512&&(_e||o===null||lr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){t:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ua]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ge(g,u,o),g[Re]=n,pe(g),u=g;break t;case"link":var E=l0("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=f.createElement(u),Ge(g,u,o),f.head.appendChild(g);break;case"meta":if(E=l0("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=f.createElement(u),Ge(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Re]=n,pe(g),u=g}n.stateNode=u}else u0(f,n.type,n.stateNode);else n.stateNode=o0(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?u0(f,n.type,n.stateNode):o0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&lm(n,n.memoizedProps,o.memoizedProps)}break;case 27:vn(r,n),En(n),u&512&&(_e||o===null||lr(o,o.return)),o!==null&&u&4&&lm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(vn(r,n),En(n),u&512&&(_e||o===null||lr(o,o.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(G){te(n,n.return,G)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,lm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(hm=!0);break;case 6:if(vn(r,n),En(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(G){te(n,n.return,G)}}break;case 3:if(dh=null,f=Gn,Gn=hh(r.containerInfo),vn(r,n),Gn=f,En(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(r.containerInfo)}catch(G){te(n,n.return,G)}hm&&(hm=!1,gv(n));break;case 4:u=Gn,Gn=hh(n.stateNode.containerInfo),vn(r,n),En(n),Gn=u;break;case 12:vn(r,n),En(n);break;case 13:vn(r,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_m=xn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fm(n,u)));break;case 22:f=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,q=jr,Z=_e;if(jr=q||f,_e=Z||I,vn(r,n),_e=Z,jr=q,En(n),u&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||jr||_e||Pa(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(g=I.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=I.stateNode;var tt=I.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){te(I,I.return,G)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(G){te(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fm(n,o))));break;case 19:vn(r,n),En(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fm(n,u)));break;case 30:break;case 21:break;default:vn(r,n),En(n)}}function En(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(ov(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=um(n);Jc(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Cn(E,""),o.flags&=-33);var b=um(n);Jc(n,b,E);break;case 3:case 4:var I=o.stateNode.containerInfo,q=um(n);cm(n,q,I);break;default:throw Error(i(161))}}catch(Z){te(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function gv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;gv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function vi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)cv(n,r.alternate,r),r=r.sibling}function Pa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:_i(4,r,r.return),Pa(r);break;case 1:lr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&av(r,r.return,o),Pa(r);break;case 27:Gl(r.stateNode);case 26:case 5:lr(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}n=n.sibling}}function Ei(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ei(f,g,o),Pl(4,g);break;case 1:if(Ei(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){te(u,u.return,q)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Hy(I[f],b)}catch(q){te(u,u.return,q)}}o&&E&64&&iv(g),kl(g,g.return);break;case 27:lv(g);case 26:case 5:Ei(f,g,o),o&&u===null&&E&4&&sv(g),kl(g,g.return);break;case 12:Ei(f,g,o);break;case 13:Ei(f,g,o),o&&E&4&&dv(f,g);break;case 22:g.memoizedState===null&&Ei(f,g,o),kl(g,g.return);break;case 30:break;default:Ei(f,g,o)}r=r.sibling}}function dm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Tl(o))}function mm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n))}function ur(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pv(n,r,o,u),r=r.sibling}function pv(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ur(n,r,o,u),f&2048&&Pl(9,r);break;case 1:ur(n,r,o,u);break;case 3:ur(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){ur(n,r,o,u),n=r.stateNode;try{var g=r.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){te(r,r.return,I)}}else ur(n,r,o,u);break;case 13:ur(n,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?ur(n,r,o,u):Ll(n,r):g._visibility&2?ur(n,r,o,u):(g._visibility|=2,qs(n,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&dm(E,r);break;case 24:ur(n,r,o,u),f&2048&&mm(r.alternate,r);break;default:ur(n,r,o,u)}}function qs(n,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,E=r,b=o,I=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:qs(g,E,b,I,f),Pl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?qs(g,E,b,I,f):Ll(g,E):(Z._visibility|=2,qs(g,E,b,I,f)),f&&q&2048&&dm(E.alternate,E);break;case 24:qs(g,E,b,I,f),f&&q&2048&&mm(E.alternate,E);break;default:qs(g,E,b,I,f)}r=r.sibling}}function Ll(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:Ll(o,u),f&2048&&dm(u.alternate,u);break;case 24:Ll(o,u),f&2048&&mm(u.alternate,u);break;default:Ll(o,u)}r=r.sibling}}var Ul=8192;function Fs(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)yv(n),n=n.sibling}function yv(n){switch(n.tag){case 26:Fs(n),n.flags&Ul&&n.memoizedState!==null&&Jw(Gn,n.memoizedState,n.memoizedProps);break;case 5:Fs(n);break;case 3:case 4:var r=Gn;Gn=hh(n.stateNode.containerInfo),Fs(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ul,Ul=16777216,Fs(n),Ul=r):Fs(n));break;default:Fs(n)}}function _v(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function zl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ke=u,Ev(u,n)}_v(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vv(n),n=n.sibling}function vv(n){switch(n.tag){case 0:case 11:case 15:zl(n),n.flags&2048&&_i(9,n,n.return);break;case 3:zl(n);break;case 12:zl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Wc(n)):zl(n);break;default:zl(n)}}function Wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ke=u,Ev(u,n)}_v(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:_i(8,r,r.return),Wc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Wc(r));break;default:Wc(r)}n=n.sibling}}function Ev(n,r){for(;ke!==null;){var o=ke;switch(o.tag){case 0:case 11:case 15:_i(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ke=u;else t:for(o=n;ke!==null;){u=ke;var f=u.sibling,g=u.return;if(hv(u),u===o){ke=null;break t}if(f!==null){f.return=g,ke=f;break t}ke=g}}}var mw={getCacheForType:function(n){var r=Ye(De),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},gw=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Nt=null,Lt=0,Qt=0,Tn=null,Ti=!1,Hs=!1,gm=!1,Fr=0,me=0,bi=0,ka=0,pm=0,zn=0,Gs=0,Bl=null,hn=null,ym=!1,_m=0,th=1/0,eh=null,Ai=null,He=0,Si=null,Ks=null,Qs=0,vm=0,Em=null,Tv=null,jl=0,Tm=null;function bn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var n=Ms;return n!==0?n:xm()}return ai()}function bv(){zn===0&&(zn=(Lt&536870912)===0||qt?Xo():536870912);var n=Un.current;return n!==null&&(n.flags|=32),zn}function An(n,r,o){(n===ne&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)&&($s(n,0),wi(n,Lt,zn,!1)),Tr(n,o),((Kt&2)===0||n!==ne)&&(n===ne&&((Kt&2)===0&&(ka|=o),me===4&&wi(n,Lt,zn,!1)),cr(n))}function Av(n,r,o){if((Kt&6)!==0)throw Error(i(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||la(n,r),f=u?_w(n,r):Sm(n,r,!0),g=u;do{if(f===0){Hs&&!u&&wi(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!pw(o)){f=Sm(n,r,!1),g=!1;continue}if(f===2){if(g=r,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var b=n;f=Bl;var I=b.current.memoizedState.isDehydrated;if(I&&($s(b,E).flags|=256),E=Sm(b,E,!1),E!==2){if(gm&&!I){b.errorRecoveryDisabledLanes|=g,ka|=g,f=4;break t}g=hn,hn=f,g!==null&&(hn===null?hn=g:hn.push.apply(hn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){$s(n,0),wi(n,r,0,!0);break}t:{switch(u=n,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:wi(u,r,zn,!Ti);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=_m+300-xn(),10<f)){if(wi(u,r,zn,!Ti),hs(u,0,!0)!==0)break t;u.timeoutHandle=Jv(Sv.bind(null,u,o,hn,eh,ym,r,zn,ka,Gs,Ti,g,2,-0,0),f);break t}Sv(u,o,hn,eh,ym,r,zn,ka,Gs,Ti,g,0,-0,0)}}break}while(!0);cr(n)}function Sv(n,r,o,u,f,g,E,b,I,q,Z,tt,H,G){if(n.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:Zw},yv(r),tt=Ww(),tt!==null)){n.cancelPendingCommit=tt(Vv.bind(null,n,r,g,o,u,f,E,b,I,Z,1,H,G)),wi(n,g,E,!q);return}Vv(n,r,g,o,u,f,E,b,I)}function pw(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!yn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function wi(n,r,o,u){r&=~pm,r&=~ka,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var g=31-$e(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Yn(n,o,r)}function nh(){return(Kt&6)===0?(ql(0),!1):!0}function bm(){if(Nt!==null){if(Qt===0)var n=Nt.return;else n=Nt,Pr=Ca=null,zd(n),Bs=null,Nl=0,n=Nt;for(;n!==null;)rv(n.alternate,n),n=n.return;Nt=null}}function $s(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Mw(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),bm(),ne=n,Nt=o=Nr(n.current,null),Lt=r,Qt=0,Tn=null,Ti=!1,Hs=la(n,r),gm=!1,Gs=zn=pm=ka=bi=me=0,hn=Bl=null,ym=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-$e(u),g=1<<f;r|=n[f],u&=~g}return Fr=r,Sc(),o}function wv(n,r){xt=null,X.H=Fc,r===Al||r===Oc?(r=qy(),Qt=3):r===zy?(r=qy(),Qt=4):Qt=r===F_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Nt===null&&(me=1,$c(n,Mn(r,n.current)))}function Rv(){var n=X.H;return X.H=Fc,n===null?Fc:n}function Iv(){var n=X.A;return X.A=mw,n}function Am(){me=4,Ti||(Lt&4194048)!==Lt&&Un.current!==null||(Hs=!0),(bi&134217727)===0&&(ka&134217727)===0||ne===null||wi(ne,Lt,zn,!1)}function Sm(n,r,o){var u=Kt;Kt|=2;var f=Rv(),g=Iv();(ne!==n||Lt!==r)&&(eh=null,$s(n,r)),r=!1;var E=me;t:do try{if(Qt!==0&&Nt!==null){var b=Nt,I=Tn;switch(Qt){case 8:bm(),E=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var q=Qt;if(Qt=0,Tn=null,Ys(n,b,I,q),o&&Hs){E=0;break t}break;default:q=Qt,Qt=0,Tn=null,Ys(n,b,I,q)}}yw(),E=me;break}catch(Z){wv(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Pr=Ca=null,Kt=u,X.H=f,X.A=g,Nt===null&&(ne=null,Lt=0,Sc()),E}function yw(){for(;Nt!==null;)xv(Nt)}function _w(n,r){var o=Kt;Kt|=2;var u=Rv(),f=Iv();ne!==n||Lt!==r?(eh=null,th=xn()+500,$s(n,r)):Hs=la(n,r);t:do try{if(Qt!==0&&Nt!==null){r=Nt;var g=Tn;e:switch(Qt){case 1:Qt=0,Tn=null,Ys(n,r,g,1);break;case 2:case 9:if(By(g)){Qt=0,Tn=null,Dv(r);break}r=function(){Qt!==2&&Qt!==9||ne!==n||(Qt=7),cr(n)},g.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:By(g)?(Qt=0,Tn=null,Dv(r)):(Qt=0,Tn=null,Ys(n,r,g,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var b=Nt;if(!E||c0(E)){Qt=0,Tn=null;var I=b.sibling;if(I!==null)Nt=I;else{var q=b.return;q!==null?(Nt=q,rh(q)):Nt=null}break e}}Qt=0,Tn=null,Ys(n,r,g,5);break;case 6:Qt=0,Tn=null,Ys(n,r,g,6);break;case 8:bm(),me=6;break t;default:throw Error(i(462))}}vw();break}catch(Z){wv(n,Z)}while(!0);return Pr=Ca=null,X.H=u,X.A=f,Kt=o,Nt!==null?0:(ne=null,Lt=0,Sc(),me)}function vw(){for(;Nt!==null&&!Ko();)xv(Nt)}function xv(n){var r=ev(n.alternate,n,Fr);n.memoizedProps=n.pendingProps,r===null?rh(n):Nt=r}function Dv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Y_(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Y_(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:zd(r);default:rv(o,r),r=Nt=Cy(r,Fr),r=ev(o,r,Fr)}n.memoizedProps=n.pendingProps,r===null?rh(n):Nt=r}function Ys(n,r,o,u){Pr=Ca=null,zd(r),Bs=null,Nl=0;var f=r.return;try{if(lw(n,f,r,o,Lt)){me=1,$c(n,Mn(o,n.current)),Nt=null;return}}catch(g){if(f!==null)throw Nt=f,g;me=1,$c(n,Mn(o,n.current)),Nt=null;return}r.flags&32768?(qt||u===1?n=!0:Hs||(Lt&536870912)!==0?n=!1:(Ti=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cv(r,n)):rh(r)}function rh(n){var r=n;do{if((r.flags&32768)!==0){Cv(r,Ti);return}n=r.return;var o=cw(r.alternate,r,Fr);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=n}while(r!==null);me===0&&(me=5)}function Cv(n,r){do{var o=hw(n.alternate,n);if(o!==null){o.flags&=32767,Nt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=o}while(n!==null);me=6,Nt=null}function Vv(n,r,o,u,f,g,E,b,I){n.cancelPendingCommit=null;do ih();while(He!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=md,Jo(n,o,g,E,b,I),n===ne&&(Nt=ne=null,Lt=0),Ks=r,Si=n,Qs=o,vm=g,Em=f,Tv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Aw(ia,function(){return kv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ut.p,ut.p=2,E=Kt,Kt|=4;try{fw(n,r,o)}finally{Kt=E,ut.p=f,X.T=u}}He=1,Nv(),Ov(),Mv()}}function Nv(){if(He===1){He=0;var n=Si,r=Ks,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ut.p;ut.p=2;var f=Kt;Kt|=4;try{mv(r,n);var g=km,E=Ey(n.containerInfo),b=g.focusedElem,I=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&vy(b.ownerDocument.documentElement,b)){if(I!==null&&ud(b)){var q=I.start,Z=I.end;if(Z===void 0&&(Z=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Z,b.value.length);else{var tt=b.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var G=H.getSelection(),wt=b.textContent.length,bt=Math.min(I.start,wt),Wt=I.end===void 0?bt:Math.min(I.end,wt);!G.extend&&bt>Wt&&(E=Wt,Wt=bt,bt=E);var k=_y(b,bt),O=_y(b,Wt);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var j=tt.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),bt>Wt?(G.addRange(j),G.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),G.addRange(j))}}}}for(tt=[],G=b;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var W=tt[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ph=!!Pm,km=Pm=null}finally{Kt=f,ut.p=u,X.T=o}}n.current=r,He=2}}function Ov(){if(He===2){He=0;var n=Si,r=Ks,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ut.p;ut.p=2;var f=Kt;Kt|=4;try{cv(n,r.alternate,r)}finally{Kt=f,ut.p=u,X.T=o}}He=3}}function Mv(){if(He===4||He===3){He=0,Wu();var n=Si,r=Ks,o=Qs,u=Tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,Ks=Si=null,Pv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ai=null),fs(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fe,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=ut.p,ut.p=2,X.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{X.T=r,ut.p=f}}(Qs&3)!==0&&ih(),cr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Tm?jl++:(jl=0,Tm=n):jl=0,ql(0)}}function Pv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Tl(r)))}function ih(n){return Nv(),Ov(),Mv(),kv()}function kv(){if(He!==5)return!1;var n=Si,r=vm;vm=0;var o=fs(Qs),u=X.T,f=ut.p;try{ut.p=32>o?32:o,X.T=null,o=Em,Em=null;var g=Si,E=Qs;if(He=0,Ks=Si=null,Qs=0,(Kt&6)!==0)throw Error(i(331));var b=Kt;if(Kt|=4,vv(g.current),pv(g,g.current,E,o),Kt=b,ql(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fe,g)}catch{}return!0}finally{ut.p=f,X.T=u,Pv(n,r)}}function Lv(n,r,o){r=Mn(o,r),r=Wd(n.stateNode,r,2),n=mi(n,r,2),n!==null&&(Tr(n,2),cr(n))}function te(n,r,o){if(n.tag===3)Lv(n,n,o);else for(;r!==null;){if(r.tag===3){Lv(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ai===null||!Ai.has(u))){n=Mn(o,n),o=j_(2),u=mi(r,o,2),u!==null&&(q_(o,u,r,n),Tr(u,2),cr(u));break}}r=r.return}}function wm(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new gw;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(gm=!0,f.add(o),n=Ew.bind(null,n,r,o),r.then(n,n))}function Ew(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ne===n&&(Lt&o)===o&&(me===4||me===3&&(Lt&62914560)===Lt&&300>xn()-_m?(Kt&2)===0&&$s(n,0):pm|=o,Gs===Lt&&(Gs=0)),cr(n)}function Uv(n,r){r===0&&(r=Zo()),n=Cs(n,r),n!==null&&(Tr(n,r),cr(n))}function Tw(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Uv(n,o)}function bw(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Uv(n,o)}function Aw(n,r){return na(n,r)}var ah=null,Xs=null,Rm=!1,sh=!1,Im=!1,La=0;function cr(n){n!==Xs&&n.next===null&&(Xs===null?ah=Xs=n:Xs=Xs.next=n),sh=!0,Rm||(Rm=!0,ww())}function ql(n,r){if(!Im&&sh){Im=!0;do for(var o=!1,u=ah;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-$e(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,qv(u,g))}else g=Lt,g=hs(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||la(u,g)||(o=!0,qv(u,g));u=u.next}while(o);Im=!1}}function Sw(){zv()}function zv(){sh=Rm=!1;var n=0;La!==0&&(Ow()&&(n=La),La=0);for(var r=xn(),o=null,u=ah;u!==null;){var f=u.next,g=Bv(u,r);g===0?(u.next=null,o===null?ah=f:o.next=f,f===null&&(Xs=o)):(o=u,(n!==0||(g&3)!==0)&&(sh=!0)),u=f}ql(n)}function Bv(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-$e(g),b=1<<E,I=f[E];I===-1?((b&o)===0||(b&u)!==0)&&(f[E]=Yo(b,r)):I<=r&&(n.expiredLanes|=b),g&=~b}if(r=ne,o=Lt,o=hs(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ra(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||la(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&ra(u),fs(o)){case 2:case 8:o=us;break;case 32:o=ia;break;case 268435456:o=cs;break;default:o=ia}return u=jv.bind(null,n),o=na(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&ra(u),n.callbackPriority=2,n.callbackNode=null,2}function jv(n,r){if(He!==0&&He!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ih()&&n.callbackNode!==o)return null;var u=Lt;return u=hs(n,n===ne?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Av(n,u,r),Bv(n,xn()),n.callbackNode!=null&&n.callbackNode===o?jv.bind(null,n):null)}function qv(n,r){if(ih())return null;Av(n,r,!0)}function ww(){Pw(function(){(Kt&6)!==0?na(Qo,Sw):zv()})}function xm(){return La===0&&(La=Xo()),La}function Fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_s(""+n)}function Hv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function Rw(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=Fv((f[Te]||null).action),E=u.submitter;E&&(r=(r=E[Te]||null)?Fv(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var b=new vs("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(La!==0){var I=E?Hv(f,E):new FormData(f);$d(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(b.preventDefault(),I=E?Hv(f,E):new FormData(f),$d(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var Dm=0;Dm<dd.length;Dm++){var Cm=dd[Dm],Iw=Cm.toLowerCase(),xw=Cm[0].toUpperCase()+Cm.slice(1);Hn(Iw,"on"+xw)}Hn(Ay,"onAnimationEnd"),Hn(Sy,"onAnimationIteration"),Hn(wy,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(GS,"onTransitionRun"),Hn(KS,"onTransitionStart"),Hn(QS,"onTransitionCancel"),Hn(Ry,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Gv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=q;try{g(f)}catch(Z){Qc(Z)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(b=u[E],I=b.instance,q=b.currentTarget,b=b.listener,I!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=q;try{g(f)}catch(Z){Qc(Z)}f.currentTarget=null,g=I}}}}function Ot(n,r){var o=r[tl];o===void 0&&(o=r[tl]=new Set);var u=n+"__bubble";o.has(u)||(Kv(r,n,2,!1),o.add(u))}function Vm(n,r,o){var u=0;r&&(u|=4),Kv(o,n,u,r)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Nm(n){if(!n[oh]){n[oh]=!0,el.forEach(function(o){o!=="selectionchange"&&(Dw.has(o)||Vm(o,!1,n),Vm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[oh]||(r[oh]=!0,Vm("selectionchange",!1,r))}}function Kv(n,r,o,u){switch(p0(r)){case 2:var f=n1;break;case 8:f=r1;break;default:f=Km}o=f.bind(null,r,o,n),f=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function Om(n,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=br(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}b=b.parentNode}}u=u.return}uc(function(){var q=g,Z=Vn(o),tt=[];t:{var H=Iy.get(n);if(H!==void 0){var G=vs,wt=n;switch(n){case"keypress":if(er(o)===0)break t;case"keydown":case"keyup":G=ws;break;case"focusin":wt="focus",G=bs;break;case"focusout":wt="blur",G=bs;break;case"beforeblur":case"afterblur":G=bs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yc;break;case Ay:case Sy:case wy:G=As;break;case Ry:G=vc;break;case"scroll":case"scrollend":G=cc;break;case"wheel":G=Rs;break;case"copy":case"cut":case"paste":G=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=dl;break;case"toggle":case"beforetoggle":G=Tc}var bt=(r&4)!==0,Wt=!bt&&(n==="scroll"||n==="scrollend"),k=bt?H!==null?H+"Capture":null:H;bt=[];for(var O=q,j;O!==null;){var W=O;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||k===null||(W=pa(O,k),W!=null&&bt.push(Hl(O,W,j))),Wt)break;O=O.return}0<bt.length&&(H=new G(H,wt,null,o,Z),tt.push({event:H,listeners:bt}))}}if((r&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&o!==Rr&&(wt=o.relatedTarget||o.fromElement)&&(br(wt)||wt[Dn]))break t;if((G||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(wt=o.relatedTarget||o.toElement,G=q,wt=wt?br(wt):null,wt!==null&&(Wt=l(wt),bt=wt.tag,wt!==Wt||bt!==5&&bt!==27&&bt!==6)&&(wt=null)):(G=null,wt=q),G!==wt)){if(bt=On,W="onMouseLeave",k="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(bt=dl,W="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=G==null?H:Zn(G),j=wt==null?H:Zn(wt),H=new bt(W,O+"leave",G,o,Z),H.target=Wt,H.relatedTarget=j,W=null,br(Z)===q&&(bt=new bt(k,O+"enter",wt,o,Z),bt.target=j,bt.relatedTarget=Wt,W=bt),Wt=W,G&&wt)e:{for(bt=G,k=wt,O=0,j=bt;j;j=Zs(j))O++;for(j=0,W=k;W;W=Zs(W))j++;for(;0<O-j;)bt=Zs(bt),O--;for(;0<j-O;)k=Zs(k),j--;for(;O--;){if(bt===k||k!==null&&bt===k.alternate)break e;bt=Zs(bt),k=Zs(k)}bt=null}else bt=null;G!==null&&Qv(tt,H,G,bt,!1),wt!==null&&Wt!==null&&Qv(tt,Wt,wt,bt,!0)}}t:{if(H=q?Zn(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var mt=fy;else if(xe(H))if(dy)mt=qS;else{mt=BS;var Vt=zS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&sl(q.elementType)&&(mt=fy):mt=jS;if(mt&&(mt=mt(n,q))){Vr(tt,mt,o,Z);break t}Vt&&Vt(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&ui(H,"number",H.value)}switch(Vt=q?Zn(q):window,n){case"focusin":(xe(Vt)||Vt.contentEditable==="true")&&(Is=Vt,cd=q,pl=null);break;case"focusout":pl=cd=Is=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Ty(tt,o,Z);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Ty(tt,o,Z)}var _t;if(ir)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Pt?$(n,o)&&(At="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(v&&o.locale!=="ko"&&(Pt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Pt&&(_t=ll()):(tr=Z,ci="value"in tr?tr.value:tr.textContent,Pt=!0)),Vt=lh(q,At),0<Vt.length&&(At=new hl(At,n,null,o,Z),tt.push({event:At,listeners:Vt}),_t?At.data=_t:(_t=st(o),_t!==null&&(At.data=_t)))),(_t=y?Ie(n,o):kt(n,o))&&(At=lh(q,"onBeforeInput"),0<At.length&&(Vt=new hl("onBeforeInput","beforeinput",null,o,Z),tt.push({event:Vt,listeners:At}),Vt.data=_t)),Rw(tt,n,q,o,Z)}Gv(tt,r)})}function Hl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function lh(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=pa(n,o),f!=null&&u.unshift(Hl(n,f,g)),f=pa(n,r),f!=null&&u.push(Hl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Qv(n,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var b=o,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===u)break;b!==5&&b!==26&&b!==27||q===null||(I=q,f?(q=pa(o,g),q!=null&&E.unshift(Hl(o,q,I))):f||(q=pa(o,g),q!=null&&E.push(Hl(o,q,I)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var Cw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function $v(n){return(typeof n=="string"?n:""+n).replace(Cw,`
`).replace(Vw,"")}function Yv(n,r){return r=$v(r),$v(n)===r}function uh(){}function Jt(n,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Cn(n,""+u);break;case"className":Jn(n,"class",u);break;case"tabIndex":Jn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(n,o,u);break;case"style":al(n,u,g);break;case"data":if(r!=="object"){Jn(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=_s(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Jt(n,r,"name",f.name,f,null),Jt(n,r,"formEncType",f.formEncType,f,null),Jt(n,r,"formMethod",f.formMethod,f,null),Jt(n,r,"formTarget",f.formTarget,f,null)):(Jt(n,r,"encType",f.encType,f,null),Jt(n,r,"method",f.method,f,null),Jt(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=_s(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=uh);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=_s(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),li(n,"popover",u);break;case"xlinkActuate":je(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":je(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":je(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":je(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":je(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":je(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":je(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":je(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":je(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":li(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rd.get(o)||o,li(n,o,u))}}function Mm(n,r,o,u,f,g){switch(o){case"style":al(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&Cn(n,""+u);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"onClick":u!=null&&(n.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=n[Te]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break t}o in n?n[o]=u:u===!0?n.setAttribute(o,""):li(n,o,u)}}}function Ge(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Jt(n,r,g,E,o,null)}}f&&Jt(n,r,"srcSet",o.srcSet,o,null),u&&Jt(n,r,"src",o.src,o,null);return;case"input":Ot("invalid",n);var b=g=E=f=null,I=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":q=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Jt(n,r,u,Z,o,null)}}da(n,g,b,I,q,E,f,!1),ys(n);return;case"select":Ot("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Jt(n,r,f,b,o,null)}r=g,o=E,n.multiple=!!u,r!=null?wr(n,!!u,r,!1):o!=null&&wr(n,!!u,o,!0);return;case"textarea":Ot("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Jt(n,r,E,b,o,null)}ma(n,u,f,g),ys(n);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(n,r,I,u,o,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Ot(Fl[u],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Jt(n,r,q,u,o,null)}return;default:if(sl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Mm(n,r,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Jt(n,r,b,u,o,null))}function Nw(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,I=null,q=null,Z=null;for(G in o){var tt=o[G];if(o.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=tt;default:u.hasOwnProperty(G)||Jt(n,r,G,null,u,tt)}}for(var H in u){var G=u[H];if(tt=o[H],u.hasOwnProperty(H)&&(G!=null||tt!=null))switch(H){case"type":g=G;break;case"name":f=G;break;case"checked":q=G;break;case"defaultChecked":Z=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:G!==tt&&Jt(n,r,H,G,u,tt)}}pn(n,E,b,I,q,Z,g,f);return;case"select":G=E=b=H=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":G=I;default:u.hasOwnProperty(g)||Jt(n,r,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":H=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==I&&Jt(n,r,f,g,u,I)}r=b,o=E,u=G,H!=null?wr(n,!!o,H,!1):!!u!=!!o&&(r!=null?wr(n,!!o,r,!0):wr(n,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Jt(n,r,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Jt(n,r,E,f,u,g)}Xt(n,H,G);return;case"option":for(var wt in o)if(H=o[wt],o.hasOwnProperty(wt)&&H!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":n.selected=!1;break;default:Jt(n,r,wt,null,u,H)}for(I in u)if(H=u[I],G=o[I],u.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Jt(n,r,I,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!u.hasOwnProperty(bt)&&Jt(n,r,bt,null,u,H);for(q in u)if(H=u[q],G=o[q],u.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:Jt(n,r,q,H,u,G)}return;default:if(sl(r)){for(var Wt in o)H=o[Wt],o.hasOwnProperty(Wt)&&H!==void 0&&!u.hasOwnProperty(Wt)&&Mm(n,r,Wt,void 0,u,H);for(Z in u)H=u[Z],G=o[Z],!u.hasOwnProperty(Z)||H===G||H===void 0&&G===void 0||Mm(n,r,Z,H,u,G);return}}for(var k in o)H=o[k],o.hasOwnProperty(k)&&H!=null&&!u.hasOwnProperty(k)&&Jt(n,r,k,null,u,H);for(tt in u)H=u[tt],G=o[tt],!u.hasOwnProperty(tt)||H===G||H==null&&G==null||Jt(n,r,tt,H,u,G)}var Pm=null,km=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function Xv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Lm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Um=null;function Ow(){var n=window.event;return n&&n.type==="popstate"?n===Um?!1:(Um=n,!0):(Um=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(n){return Wv.resolve(null).then(n).catch(kw)}:Jv;function kw(n){setTimeout(function(){throw n})}function Ri(n){return n==="head"}function t0(n,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Gl(E.documentElement),o&2&&Gl(E.body),o&4)for(o=E.head,Gl(o),E=o.firstChild;E;){var b=E.nextSibling,I=E.nodeName;E[ua]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),Wl(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Wl(r)}function zm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zm(o),oi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Lw(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ua])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Uw(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Kn(n.nextSibling),n===null))return null;return n}function Bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function zw(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var jm=null;function e0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function n0(n,r,o){switch(r=ch(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Gl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);oi(n)}var Bn=new Map,r0=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hr=ut.d;ut.d={f:Bw,r:jw,D:qw,C:Fw,L:Hw,m:Gw,X:Qw,S:Kw,M:$w};function Bw(){var n=Hr.f(),r=nh();return n||r}function jw(n){var r=Xn(n);r!==null&&r.tag===5&&r.type==="form"?A_(r):Hr.r(n)}var Js=typeof document>"u"?null:document;function i0(n,r,o){var u=Js;if(u&&typeof r=="string"&&r){var f=be(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),r0.has(f)||(r0.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ge(r,"link",n),pe(r),u.head.appendChild(r)))}}function qw(n){Hr.D(n),i0("dns-prefetch",n,null)}function Fw(n,r){Hr.C(n,r),i0("preconnect",n,r)}function Hw(n,r,o){Hr.L(n,r,o);var u=Js;if(u&&n&&r){var f='link[rel="preload"][as="'+be(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+be(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+be(o.imageSizes)+'"]')):f+='[href="'+be(n)+'"]';var g=f;switch(r){case"style":g=Ws(n);break;case"script":g=to(n)}Bn.has(g)||(n=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Bn.set(g,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Kl(g))||r==="script"&&u.querySelector(Ql(g))||(r=u.createElement("link"),Ge(r,"link",n),pe(r),u.head.appendChild(r)))}}function Gw(n,r){Hr.m(n,r);var o=Js;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+be(u)+'"][href="'+be(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=to(n)}if(!Bn.has(g)&&(n=_({rel:"modulepreload",href:n},r),Bn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(g)))return}u=o.createElement("link"),Ge(u,"link",n),pe(u),o.head.appendChild(u)}}}function Kw(n,r,o){Hr.S(n,r,o);var u=Js;if(u&&n){var f=en(u).hoistableStyles,g=Ws(n);r=r||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Kl(g)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Bn.get(g))&&qm(n,o);var I=E=u.createElement("link");pe(I),Ge(I,"link",n),I._p=new Promise(function(q,Z){I.onload=q,I.onerror=Z}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function Qw(n,r){Hr.X(n,r);var o=Js;if(o&&n){var u=en(o).hoistableScripts,f=to(n),g=u.get(f);g||(g=o.querySelector(Ql(f)),g||(n=_({src:n,async:!0},r),(r=Bn.get(f))&&Fm(n,r),g=o.createElement("script"),pe(g),Ge(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function $w(n,r){Hr.M(n,r);var o=Js;if(o&&n){var u=en(o).hoistableScripts,f=to(n),g=u.get(f);g||(g=o.querySelector(Ql(f)),g||(n=_({src:n,async:!0,type:"module"},r),(r=Bn.get(f))&&Fm(n,r),g=o.createElement("script"),pe(g),Ge(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function a0(n,r,o,u){var f=(f=Rt.current)?hh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ws(o.href),o=en(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ws(o.href);var g=en(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Kl(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Bn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(n,o),g||Yw(f,n,o,E.state))),r&&u===null)throw Error(i(528,""));return E}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(o),o=en(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ws(n){return'href="'+be(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function s0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Yw(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ge(r,"link",o),pe(r),n.head.appendChild(r))}function to(n){return'[src="'+be(n)+'"]'}function Ql(n){return"script[async]"+n}function o0(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+be(o.href)+'"]');if(u)return r.instance=u,pe(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pe(u),Ge(u,"style",f),fh(u,o.precedence,n),r.instance=u;case"stylesheet":f=Ws(o.href);var g=n.querySelector(Kl(f));if(g)return r.state.loading|=4,r.instance=g,pe(g),g;u=s0(o),(f=Bn.get(f))&&qm(u,f),g=(n.ownerDocument||n).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Ge(g,"link",u),r.state.loading|=4,fh(g,o.precedence,n),r.instance=g;case"script":return g=to(o.src),(f=n.querySelector(Ql(g)))?(r.instance=f,pe(f),f):(u=o,(f=Bn.get(g))&&(u=_({},o),Fm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),pe(f),Ge(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,fh(u,o.precedence,n));return r.instance}function fh(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function qm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Fm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var dh=null;function l0(n,r,o){if(dh===null){var u=new Map,f=dh=new Map;f.set(o,u)}else f=dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[ua]||g[Re]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function u0(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function Xw(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function c0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $l=null;function Zw(){}function Jw(n,r,o){if($l===null)throw Error(i(475));var u=$l;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ws(o.href),g=n.querySelector(Kl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=mh.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=g,pe(g);return}g=n.ownerDocument||n,o=s0(o),(f=Bn.get(f))&&qm(o,f),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Ge(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=mh.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function Ww(){if($l===null)throw Error(i(475));var n=$l;return n.stylesheets&&n.count===0&&Hm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Hm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gh=null;function Hm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gh=new Map,r.forEach(t1,n),gh=null,mh.call(n))}function t1(n,r){if(!(r.state.loading&4)){var o=gh.get(n);if(o)var u=o.get(null);else{o=new Map,gh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Yl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function e1(n,r,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function h0(n,r,o,u,f,g,E,b,I,q,Z,tt){return n=new e1(n,r,o,E,b,I,q,tt),r=1,g===!0&&(r|=24),g=_n(3,null,null,r),n.current=g,g.stateNode=n,r=wd(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Dd(g),n}function f0(n){return n?(n=Vs,n):Vs}function d0(n,r,o,u,f,g){f=f0(f),u.context===null?u.context=f:u.pendingContext=f,u=di(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=mi(n,u,r),o!==null&&(An(o,n,r),wl(o,n,r))}function m0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Gm(n,r){m0(n,r),(n=n.alternate)&&m0(n,r)}function g0(n){if(n.tag===13){var r=Cs(n,67108864);r!==null&&An(r,n,67108864),Gm(n,67108864)}}var ph=!0;function n1(n,r,o,u){var f=X.T;X.T=null;var g=ut.p;try{ut.p=2,Km(n,r,o,u)}finally{ut.p=g,X.T=f}}function r1(n,r,o,u){var f=X.T;X.T=null;var g=ut.p;try{ut.p=8,Km(n,r,o,u)}finally{ut.p=g,X.T=f}}function Km(n,r,o,u){if(ph){var f=Qm(u);if(f===null)Om(n,r,u,yh,o),y0(n,u);else if(a1(f,n,r,o,u))u.stopPropagation();else if(y0(n,u),r&4&&-1<i1.indexOf(n)){for(;f!==null;){var g=Xn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=jn(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-$e(E);b.entanglements[1]|=I,E&=~I}cr(g),(Kt&6)===0&&(th=xn()+500,ql(0))}}break;case 13:b=Cs(g,2),b!==null&&An(b,g,2),nh(),Gm(g,2)}if(g=Qm(u),g===null&&Om(n,r,u,yh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Om(n,r,u,null,o)}}function Qm(n){return n=Vn(n),$m(n)}var yh=null;function $m(n){if(yh=null,n=br(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return yh=n,null}function p0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zf()){case Qo:return 2;case us:return 8;case ia:case Jf:return 32;case cs:return 268435456;default:return 32}default:return 32}}var Ym=!1,Ii=null,xi=null,Di=null,Xl=new Map,Zl=new Map,Ci=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(n,r){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(r.pointerId)}}function Jl(n,r,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Xn(r),r!==null&&g0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function a1(n,r,o,u,f){switch(r){case"focusin":return Ii=Jl(Ii,n,r,o,u,f),!0;case"dragenter":return xi=Jl(xi,n,r,o,u,f),!0;case"mouseover":return Di=Jl(Di,n,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Xl.set(g,Jl(Xl.get(g)||null,n,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Zl.set(g,Jl(Zl.get(g)||null,n,r,o,u,f)),!0}return!1}function _0(n){var r=br(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,nc(n.priority,function(){if(o.tag===13){var u=bn();u=ii(u);var f=Cs(o,u);f!==null&&An(f,o,u),Gm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Qm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Rr=u,o.target.dispatchEvent(u),Rr=null}else return r=Xn(o),r!==null&&g0(r),n.blockedOn=o,!1;r.shift()}return!0}function v0(n,r,o){_h(n)&&o.delete(r)}function s1(){Ym=!1,Ii!==null&&_h(Ii)&&(Ii=null),xi!==null&&_h(xi)&&(xi=null),Di!==null&&_h(Di)&&(Di=null),Xl.forEach(v0),Zl.forEach(v0)}function vh(n,r){n.blockedOn===r&&(n.blockedOn=null,Ym||(Ym=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,s1)))}var Eh=null;function E0(n){Eh!==n&&(Eh=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Eh===n&&(Eh=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if($m(u||o)===null)continue;break}var g=Xn(o);g!==null&&(n.splice(r,3),r-=3,$d(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Wl(n){function r(I){return vh(I,n)}Ii!==null&&vh(Ii,n),xi!==null&&vh(xi,n),Di!==null&&vh(Di,n),Xl.forEach(r),Zl.forEach(r);for(var o=0;o<Ci.length;o++){var u=Ci[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ci.length&&(o=Ci[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&Ci.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Te]||null;if(typeof g=="function")E||E0(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Te]||null)b=E.formAction;else if($m(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),E0(o)}}}function Xm(n){this._internalRoot=n}Th.prototype.render=Xm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=bn();d0(o,u,n,r,null,null)},Th.prototype.unmount=Xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;d0(n.current,2,null,n,null,null),nh(),r[Dn]=null}};function Th(n){this._internalRoot=n}Th.prototype.unstable_scheduleHydration=function(n){if(n){var r=ai();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Ci.length&&r!==0&&r<Ci[o].priority;o++);Ci.splice(o,0,n),o===0&&_0(n)}};var T0=t.version;if(T0!=="19.1.0")throw Error(i(527,T0,"19.1.0"));ut.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var o1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{fe=bh.inject(o1),Gt=bh}catch{}}return eu.createRoot=function(n,r){if(!s(n))throw Error(i(299));var o=!1,u="",f=L_,g=U_,E=z_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=h0(n,1,!1,null,null,o,u,f,g,E,b,null),n[Dn]=r.current,Nm(n),new Xm(r)},eu.hydrateRoot=function(n,r,o){if(!s(n))throw Error(i(299));var u=!1,f="",g=L_,E=U_,b=z_,I=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),r=h0(n,1,!0,r,o??null,u,f,g,E,b,I,q),r.context=f0(null),o=r.current,u=bn(),u=ii(u),f=di(u),f.callback=null,mi(o,f,u),o=u,r.current.lanes=o,Tr(r,o),cr(r),n[Dn]=r.current,Nm(n),new Th(r)},eu.version="19.1.0",eu}var V0;function y1(){if(V0)return Wm.exports;V0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Wm.exports=p1(),Wm.exports}var _1=y1(),nu={},N0;function v1(){if(N0)return nu;N0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=c,nu.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,x){const C=new l,K=S.length;if(K<2)return C;const L=(x==null?void 0:x.decode)||_;let Q=0;do{const et=S.indexOf("=",Q);if(et===-1)break;const Y=S.indexOf(";",Q),ft=Y===-1?K:Y;if(et>ft){Q=S.lastIndexOf(";",et-1)+1;continue}const at=d(S,Q,et),pt=m(S,et,at),V=S.slice(at,pt);if(C[V]===void 0){let w=d(S,et+1,ft),R=m(S,ft,w);const M=L(S.slice(w,R));C[V]=M}Q=ft+1}while(Q<K);return C}function d(S,x,C){do{const K=S.charCodeAt(x);if(K!==32&&K!==9)return x}while(++x<C);return C}function m(S,x,C){for(;x>C;){const K=S.charCodeAt(--x);if(K!==32&&K!==9)return x+1}return C}function p(S,x,C){const K=(C==null?void 0:C.encode)||encodeURIComponent;if(!a.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=K(x);if(!t.test(L))throw new TypeError(`argument val is invalid: ${x}`);let Q=S+"="+L;if(!C)return Q;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);Q+="; Max-Age="+C.maxAge}if(C.domain){if(!e.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);Q+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);Q+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);Q+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(Q+="; HttpOnly"),C.secure&&(Q+="; Secure"),C.partitioned&&(Q+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return Q}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return s.call(S)==="[object Date]"}return nu}v1();var O0="popstate";function E1(a={}){function t(i,s){let{pathname:l,search:c,hash:d}=i.location;return bg("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Au(s)}return b1(t,e,null,a)}function ue(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function gr(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T1(){return Math.random().toString(36).substring(2,10)}function M0(a,t){return{usr:a.state,key:a.key,idx:t}}function bg(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Lo(t):t,state:e,key:t&&t.key||i||T1()}}function Au({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Lo(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function b1(a,t,e,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let L=_(),Q=L==null?null:L-p;p=L,m&&m({action:d,location:K.location,delta:Q})}function S(L,Q){d="PUSH";let et=bg(K.location,L,Q);p=_()+1;let Y=M0(et,p),ft=K.createHref(et);try{c.pushState(Y,"",ft)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;s.location.assign(ft)}l&&m&&m({action:d,location:K.location,delta:1})}function x(L,Q){d="REPLACE";let et=bg(K.location,L,Q);p=_();let Y=M0(et,p),ft=K.createHref(et);c.replaceState(Y,"",ft),l&&m&&m({action:d,location:K.location,delta:0})}function C(L){let Q=s.location.origin!=="null"?s.location.origin:s.location.href,et=typeof L=="string"?L:Au(L);return et=et.replace(/ $/,"%20"),ue(Q,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,Q)}let K={get action(){return d},get location(){return a(s,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(O0,T),m=L,()=>{s.removeEventListener(O0,T),m=null}},createHref(L){return t(s,L)},createURL:C,encodeLocation(L){let Q=C(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:x,go(L){return c.go(L)}};return K}function IT(a,t,e="/"){return A1(a,t,e,!1)}function A1(a,t,e,i){let s=typeof t=="string"?Lo(t):t,l=Yr(s.pathname||"/",e);if(l==null)return null;let c=xT(a);S1(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=P1(l);d=O1(c[m],p,i)}return d}function xT(a,t=[],e=[],i=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Qr([i,m.relativePath]),_=e.concat(m);l.children&&l.children.length>0&&(ue(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xT(l.children,t,_,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:V1(p,l.index),routesMeta:_})};return a.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of DT(l.path))s(l,c,m)}),t}function DT(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=DT(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>a.startsWith("/")&&m===""?"/":m)}function S1(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:N1(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var w1=/^:[\w-]+$/,R1=3,I1=2,x1=1,D1=10,C1=-2,P0=a=>a==="*";function V1(a,t){let e=a.split("/"),i=e.length;return e.some(P0)&&(i+=C1),t&&(i+=I1),e.filter(s=>!P0(s)).reduce((s,l)=>s+(w1.test(l)?R1:l===""?x1:D1),i)}function N1(a,t){return a.length===t.length&&a.slice(0,-1).every((i,s)=>i===t[s])?a[a.length-1]-t[t.length-1]:0}function O1(a,t,e=!1){let{routesMeta:i}=a,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,_=l==="/"?t:t.slice(l.length)||"/",T=Kh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),S=m.route;if(!T&&p&&e&&!i[i.length-1].route.index&&(T=Kh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:Qr([l,T.pathname]),pathnameBase:z1(Qr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Qr([l,T.pathnameBase]))}return c}function Kh(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=M1(a.path,a.caseSensitive,a.end),s=t.match(e);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:T},S)=>{if(_==="*"){let C=d[S]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=d[S];return T&&!x?p[_]=void 0:p[_]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:a}}function M1(a,t=!1,e=!0){gr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],s="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),s+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":a!==""&&a!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function P1(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Yr(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function k1(a,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof a=="string"?Lo(a):a;return{pathname:e?e.startsWith("/")?e:L1(e,t):t,search:B1(i),hash:j1(s)}}function L1(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function rg(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U1(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function CT(a){let t=U1(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function VT(a,t,e,i=!1){let s;typeof a=="string"?s=Lo(a):(s={...a},ue(!s.pathname||!s.pathname.includes("?"),rg("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),rg("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),rg("#","search","hash",s)));let l=a===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}d=T>=0?t[T]:"/"}let m=k1(s,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var Qr=a=>a.join("/").replace(/\/\/+/g,"/"),z1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,j1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function q1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var F1=["GET",...NT];new Set(F1);var Uo=F.createContext(null);Uo.displayName="DataRouter";var Af=F.createContext(null);Af.displayName="DataRouterState";var OT=F.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var H1=F.createContext(new Map);H1.displayName="Fetchers";var G1=F.createContext(null);G1.displayName="Await";var _r=F.createContext(null);_r.displayName="Navigation";var ju=F.createContext(null);ju.displayName="Location";var ti=F.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var ap=F.createContext(null);ap.displayName="RouteError";function K1(a,{relative:t}={}){ue(qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=F.useContext(_r),{hash:s,pathname:l,search:c}=Fu(a,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:Qr([e,l])),i.createHref({pathname:d,search:c,hash:s})}function qu(){return F.useContext(ju)!=null}function Yi(){return ue(qu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ju).location}var MT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PT(a){F.useContext(_r).static||F.useLayoutEffect(a)}function Q1(){let{isDataRoute:a}=F.useContext(ti);return a?sR():$1()}function $1(){ue(qu(),"useNavigate() may be used only in the context of a <Router> component.");let a=F.useContext(Uo),{basename:t,navigator:e}=F.useContext(_r),{matches:i}=F.useContext(ti),{pathname:s}=Yi(),l=JSON.stringify(CT(i)),c=F.useRef(!1);return PT(()=>{c.current=!0}),F.useCallback((m,p={})=>{if(gr(c.current,MT),!c.current)return;if(typeof m=="number"){e.go(m);return}let _=VT(m,JSON.parse(l),s,p.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Qr([t,_.pathname])),(p.replace?e.replace:e.push)(_,p.state,p)},[t,e,l,s,a])}F.createContext(null);function Fu(a,{relative:t}={}){let{matches:e}=F.useContext(ti),{pathname:i}=Yi(),s=JSON.stringify(CT(e));return F.useMemo(()=>VT(a,JSON.parse(s),i,t==="path"),[a,s,i,t])}function Y1(a,t){return kT(a,t)}function kT(a,t,e,i){var et;ue(qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=F.useContext(_r),{matches:c}=F.useContext(ti),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Y=T&&T.path||"";LT(p,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Yi(),x;if(t){let Y=typeof t=="string"?Lo(t):t;ue(_==="/"||((et=Y.pathname)==null?void 0:et.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=S;let C=x.pathname||"/",K=C;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");K="/"+C.replace(/^\//,"").split("/").slice(Y.length).join("/")}let L=!l&&e&&e.matches&&e.matches.length>0?e.matches:IT(a,{pathname:K});gr(T||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=tR(L&&L.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:Qr([_,s.encodeLocation?s.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:Qr([_,s.encodeLocation?s.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,e,i);return t&&Q?F.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function X1(){let a=aR(),t=q1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:s},e):null,c)}var Z1=F.createElement(X1,null),J1=class extends F.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?F.createElement(ti.Provider,{value:this.props.routeContext},F.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W1({routeContext:a,match:t,children:e}){let i=F.useContext(Uo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(ti.Provider,{value:a},e)}function tR(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let s=a,l=e==null?void 0:e.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(e)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:_,errors:T}=e,S=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||S){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,p,_)=>{let T,S=!1,x=null,C=null;e&&(T=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||Z1,c&&(d<0&&_===0?(LT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===_&&(S=!0,C=p.route.hydrateFallbackElement||null)));let K=t.concat(s.slice(0,_+1)),L=()=>{let Q;return T?Q=x:S?Q=C:p.route.Component?Q=F.createElement(p.route.Component,null):p.route.element?Q=p.route.element:Q=m,F.createElement(W1,{match:p,routeContext:{outlet:m,matches:K,isDataRoute:e!=null},children:Q})};return e&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?F.createElement(J1,{location:e.location,revalidation:e.revalidation,component:x,error:T,children:L(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):L()},null)}function sp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eR(a){let t=F.useContext(Uo);return ue(t,sp(a)),t}function nR(a){let t=F.useContext(Af);return ue(t,sp(a)),t}function rR(a){let t=F.useContext(ti);return ue(t,sp(a)),t}function op(a){let t=rR(a),e=t.matches[t.matches.length-1];return ue(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function iR(){return op("useRouteId")}function aR(){var i;let a=F.useContext(ap),t=nR("useRouteError"),e=op("useRouteError");return a!==void 0?a:(i=t.errors)==null?void 0:i[e]}function sR(){let{router:a}=eR("useNavigate"),t=op("useNavigate"),e=F.useRef(!1);return PT(()=>{e.current=!0}),F.useCallback(async(s,l={})=>{gr(e.current,MT),e.current&&(typeof s=="number"?a.navigate(s):await a.navigate(s,{fromRouteId:t,...l}))},[a,t])}var k0={};function LT(a,t,e){!t&&!k0[a]&&(k0[a]=!0,gr(!1,e))}F.memo(oR);function oR({routes:a,future:t,state:e}){return kT(a,void 0,e,t)}function oo(a){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:l=!1}){ue(!qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof e=="string"&&(e=Lo(e));let{pathname:m="/",search:p="",hash:_="",state:T=null,key:S="default"}=e,x=F.useMemo(()=>{let C=Yr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:_,state:T,key:S},navigationType:i}},[c,m,p,_,T,S,i]);return gr(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(_r.Provider,{value:d},F.createElement(ju.Provider,{children:t,value:x}))}function uR({children:a,location:t}){return Y1(Ag(a),t)}function Ag(a,t=[]){let e=[];return F.Children.forEach(a,(i,s)=>{if(!F.isValidElement(i))return;let l=[...t,s];if(i.type===F.Fragment){e.push.apply(e,Ag(i.props.children,l));return}ue(i.type===oo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ag(i.props.children,l)),e.push(c)}),e}var Nh="get",Oh="application/x-www-form-urlencoded";function Sf(a){return a!=null&&typeof a.tagName=="string"}function cR(a){return Sf(a)&&a.tagName.toLowerCase()==="button"}function hR(a){return Sf(a)&&a.tagName.toLowerCase()==="form"}function fR(a){return Sf(a)&&a.tagName.toLowerCase()==="input"}function dR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function mR(a,t){return a.button===0&&(!t||t==="_self")&&!dR(a)}var Ah=null;function gR(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ig(a){return a!=null&&!pR.has(a)?(gr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):a}function yR(a,t){let e,i,s,l,c;if(hR(a)){let d=a.getAttribute("action");i=d?Yr(d,t):null,e=a.getAttribute("method")||Nh,s=ig(a.getAttribute("enctype"))||Oh,l=new FormData(a)}else if(cR(a)||fR(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||d.getAttribute("action");if(i=m?Yr(m,t):null,e=a.getAttribute("formmethod")||d.getAttribute("method")||Nh,s=ig(a.getAttribute("formenctype"))||ig(d.getAttribute("enctype"))||Oh,l=new FormData(d,a),!gR()){let{name:p,type:_,value:T}=a;if(_==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,T)}}else{if(Sf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Nh,i=null,s=Oh,c=a}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:l,body:c}}function lp(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function _R(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ER(a,t,e){let i=await Promise.all(a.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await _R(l,e);return c.links?c.links():[]}return[]}));return SR(i.flat(1).filter(vR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L0(a,t,e,i,s,l){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,d=(m,p)=>{var _;return e[p].pathname!==m.pathname||((_=e[p].route.path)==null?void 0:_.endsWith("*"))&&e[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var T;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=e[0])==null?void 0:T.params)||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function TR(a,t,{includeHydrateFallback:e}={}){return bR(a.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function bR(a){return[...new Set(a)]}function AR(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function SR(a,t){let e=new Set;return new Set(t),a.reduce((i,s)=>{let l=JSON.stringify(AR(s));return e.has(l)||(e.add(l),i.push({key:l,link:s})),i},[])}var wR=new Set([100,101,204,205]);function RR(a,t){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":t&&Yr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function UT(){let a=F.useContext(Uo);return lp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function IR(){let a=F.useContext(Af);return lp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var up=F.createContext(void 0);up.displayName="FrameworkContext";function zT(){let a=F.useContext(up);return lp(a,"You must render this element inside a <HydratedRouter> element"),a}function xR(a,t){let e=F.useContext(up),[i,s]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=t,S=F.useRef(null);F.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let K=Q=>{Q.forEach(et=>{c(et.isIntersecting)})},L=new IntersectionObserver(K,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[a]),F.useEffect(()=>{if(i){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[i]);let x=()=>{s(!0)},C=()=>{s(!1),c(!1)};return e?a!=="intent"?[l,S,{}]:[l,S,{onFocus:ru(d,x),onBlur:ru(m,C),onMouseEnter:ru(p,x),onMouseLeave:ru(_,C),onTouchStart:ru(T,x)}]:[!1,S,{}]}function ru(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function DR({page:a,...t}){let{router:e}=UT(),i=F.useMemo(()=>IT(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?F.createElement(VR,{page:a,matches:i,...t}):null}function CR(a){let{manifest:t,routeModules:e}=zT(),[i,s]=F.useState([]);return F.useEffect(()=>{let l=!1;return ER(a,t,e).then(c=>{l||s(c)}),()=>{l=!0}},[a,t,e]),i}function VR({page:a,matches:t,...e}){let i=Yi(),{manifest:s,routeModules:l}=zT(),{basename:c}=UT(),{loaderData:d,matches:m}=IR(),p=F.useMemo(()=>L0(a,t,m,s,i,"data"),[a,t,m,s,i]),_=F.useMemo(()=>L0(a,t,m,s,i,"assets"),[a,t,m,s,i]),T=F.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let C=new Set,K=!1;if(t.forEach(Q=>{var Y;let et=s.routes[Q.route.id];!et||!et.hasLoader||(!p.some(ft=>ft.route.id===Q.route.id)&&Q.route.id in d&&((Y=l[Q.route.id])!=null&&Y.shouldRevalidate)||et.hasClientLoader?K=!0:C.add(Q.route.id))}),C.size===0)return[];let L=RR(a,c);return K&&C.size>0&&L.searchParams.set("_routes",t.filter(Q=>C.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[L.pathname+L.search]},[c,d,i,s,p,t,a,l]),S=F.useMemo(()=>TR(_,s),[_,s]),x=CR(_);return F.createElement(F.Fragment,null,T.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...e})),S.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...e})),x.map(({key:C,link:K})=>F.createElement("link",{key:C,...K})))}function NR(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var BT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BT&&(window.__reactRouterVersion="7.5.3")}catch{}function OR({basename:a,children:t,window:e}){let i=F.useRef();i.current==null&&(i.current=E1({window:e,v5Compat:!0}));let s=i.current,[l,c]=F.useState({action:s.action,location:s.location}),d=F.useCallback(m=>{F.startTransition(()=>c(m))},[c]);return F.useLayoutEffect(()=>s.listen(d),[s,d]),F.createElement(lR,{basename:a,children:t,location:l.location,navigationType:l.action,navigator:s})}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=F.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:T,...S},x){let{basename:C}=F.useContext(_r),K=typeof p=="string"&&jT.test(p),L,Q=!1;if(typeof p=="string"&&K&&(L=p,BT))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=Yr(M.pathname,C);M.origin===R.origin&&P!=null?p=P+M.search+M.hash:Q=!0}catch{gr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=K1(p,{relative:s}),[Y,ft,at]=xR(i,S),pt=LR(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:s,viewTransition:T});function V(R){t&&t(R),R.defaultPrevented||pt(R)}let w=F.createElement("a",{...S,...at,href:L||et,onClick:Q||l?t:V,ref:NR(x,ft),target:m,"data-discover":!K&&e==="render"?"true":void 0});return Y&&!K?F.createElement(F.Fragment,null,w,F.createElement(DR,{page:et})):w});$r.displayName="Link";var MR=F.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let T=Fu(c,{relative:p.relative}),S=Yi(),x=F.useContext(Af),{navigator:C,basename:K}=F.useContext(_r),L=x!=null&&qR(T)&&d===!0,Q=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,et=S.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(et=et.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&K&&(Y=Yr(Y,K)||Y);const ft=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let at=et===Q||!s&&et.startsWith(Q)&&et.charAt(ft)==="/",pt=Y!=null&&(Y===Q||!s&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),V={isActive:at,isPending:pt,isTransitioning:L},w=at?t:void 0,R;typeof i=="function"?R=i(V):R=[i,at?"active":null,pt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return F.createElement($r,{...p,"aria-current":w,className:R,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(V):m)});MR.displayName="NavLink";var PR=F.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:l,method:c=Nh,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,...S},x)=>{let C=BR(),K=jR(d,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&jT.test(d),et=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ft=Y.nativeEvent.submitter,at=(ft==null?void 0:ft.getAttribute("formmethod"))||c;C(ft||Y.currentTarget,{fetcherKey:t,method:at,navigate:e,replace:s,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:x,method:L,action:K,onSubmit:i?m:et,...S,"data-discover":!Q&&a==="render"?"true":void 0})});PR.displayName="Form";function kR(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(a){let t=F.useContext(Uo);return ue(t,kR(a)),t}function LR(a,{target:t,replace:e,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Q1(),m=Yi(),p=Fu(a,{relative:l});return F.useCallback(_=>{if(mR(_,t)){_.preventDefault();let T=e!==void 0?e:Au(m)===Au(p);d(a,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,p,e,i,t,a,s,l,c])}var UR=0,zR=()=>`__${String(++UR)}__`;function BR(){let{router:a}=qT("useSubmit"),{basename:t}=F.useContext(_r),e=iR();return F.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=yR(i,t);if(s.navigate===!1){let _=s.fetcherKey||zR();await a.fetch(_,e,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await a.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[a,t,e])}function jR(a,{relative:t}={}){let{basename:e}=F.useContext(_r),i=F.useContext(ti);ue(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Fu(a||".",{relative:t})},c=Yi();if(a==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!a||a===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Qr([e,l.pathname])),Au(l)}function qR(a,t={}){let e=F.useContext(OT);ue(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qT("useViewTransitionState"),s=Fu(a,{relative:t.relative});if(!e.isTransitioning)return!1;let l=Yr(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Yr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Kh(s.pathname,c)!=null||Kh(s.pathname,l)!=null}new TextEncoder;[...wR];var FR=RT();function cp({children:a}){return lt.jsx("div",{className:"p-4 max-w-xl mx-auto h-full",children:a})}var FT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U0=$a.createContext&&$a.createContext(FT),HR=["attr","size","title"];function GR(a,t){if(a==null)return{};var e=KR(a,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(e[i]=a[i])}return e}function KR(a,t){if(a==null)return{};var e={};for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){if(t.indexOf(i)>=0)continue;e[i]=a[i]}return e}function Qh(){return Qh=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i])}return a},Qh.apply(this,arguments)}function z0(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),e.push.apply(e,i)}return e}function $h(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?z0(Object(e),!0).forEach(function(i){QR(a,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):z0(Object(e)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))})}return a}function QR(a,t,e){return t=$R(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function $R(a){var t=YR(a,"string");return typeof t=="symbol"?t:t+""}function YR(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var i=e.call(a,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function HT(a){return a&&a.map((t,e)=>$a.createElement(t.tag,$h({key:e},t.attr),HT(t.child)))}function Hu(a){return t=>$a.createElement(XR,Qh({attr:$h({},a.attr)},t),HT(a.child))}function XR(a){var t=e=>{var{attr:i,size:s,title:l}=a,c=GR(a,HR),d=s||e.size||"1em",m;return e.className&&(m=e.className),a.className&&(m=(m?m+" ":"")+a.className),$a.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:m,style:$h($h({color:a.color||e.color},e.style),a.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&$a.createElement("title",null,l),a.children)};return U0!==void 0?$a.createElement(U0.Consumer,null,e=>t(e)):t(FT)}function ZR(a){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(a)}function hp(a){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(a)}function JR(a){return Hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m268 112 144 144-144 144m124-144H100"},child:[]}]})(a)}const WR="https://github.com/gabriellaarchibong/Task-Manager-App/assets/welcome-image-D0ss417F.svg";function tI(){return lt.jsx(cp,{children:lt.jsx("div",{className:"h-screen flex flex-col",children:lt.jsxs("div",{className:"max-w-96 mx-auto my-auto",children:[lt.jsx("div",{className:"mx-auto pt-10",children:lt.jsx("img",{src:WR,alt:"welcome image"})}),lt.jsxs("div",{className:"mt-10",children:[lt.jsxs("p",{className:"text-4xl",children:[lt.jsx("span",{className:"text-green-200 mr-2",children:"Better "}),"Task Management"]}),lt.jsx("p",{className:"mt-4 text-gray-300 text-opacity-90",children:"A simple and efficient task manager app to help you organize, track, and complete your daily tasks with ease."})]}),lt.jsx("div",{className:"mt-5",children:lt.jsxs($r,{to:"/tasks",className:"w-fit flex gap-2 rounded-full bg-yellow-200 text-black",children:[lt.jsx("span",{className:"my-auto inline-block pl-5 pr-3",children:"Get Started"}),lt.jsx("div",{className:"p-4 rounded-full m-1 text-white bg-black",children:lt.jsx(JR,{className:"my-auto text-2xl text-white"})})]})})]})})})}const eI=()=>{};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(a){const t=[];let e=0;for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},nI=function(a){const t=[];let e=0,i=0;for(;e<a.length;){const s=a[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[e++];t[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[e++],c=a[e++],d=a[e++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=a[e++],c=a[e++];t[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,d=c?a[s+1]:0,m=s+2<a.length,p=m?a[s+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(S=64)),i.push(e[_],e[T],e[S],e[x])}return i.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(GT(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):nI(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<a.length;){const l=e[a.charAt(s++)],d=s<a.length?e[a.charAt(s)]:0;++s;const p=s<a.length?e[a.charAt(s)]:64;++s;const T=s<a.length?e[a.charAt(s)]:64;if(++s,l==null||d==null||p==null||T==null)throw new rI;const S=l<<2|d>>4;if(i.push(S),p!==64){const x=d<<4&240|p>>2;if(i.push(x),T!==64){const C=p<<6&192|T;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(a){const t=GT(a);return KT.encodeByteArray(t,!0)},Yh=function(a){return iI(a).replace(/\./g,"")},aI=function(a){try{return KT.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=()=>QT().__FIREBASE_DEFAULTS__,oI=()=>{if(typeof process>"u"||typeof B0>"u")return;const a=B0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},lI=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&aI(a[1]);return t&&JSON.parse(t)},fp=()=>{try{return eI()||sI()||oI()||lI()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uI=a=>{var t,e;return(e=(t=fp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[a]},cI=a=>{const t=uI(a);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},$T=()=>{var a;return(a=fp())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=a.iat||0,l=a.sub||a.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Yh(JSON.stringify(e)),Yh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dI(){var a;const t=(a=fp())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((a,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),a(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var l;t(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class zo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=gI,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZT.prototype.create)}}class ZT{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?pI(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new zo(s,d,i)}}function pI(a,t){return a.replace(yI,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const yI=/\{\$([^}]+)}/g;function Su(a,t){if(a===t)return!0;const e=Object.keys(a),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const l=a[s],c=t[s];if(j0(l)&&j0(c)){if(!Su(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function j0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(a){return a&&a._delegate?a._delegate:a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(a){return a.endsWith(".cloudworkstations.dev")}async function JT(a){return(await fetch(a,{credentials:"include"})).ok}class wu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _I=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new hI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EI(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vI(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vI(a){return a===za?void 0:a}function EI(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _I(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(zt||(zt={}));const bI={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},AI=zt.INFO,SI={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},wI=(a,t,...e)=>{if(t<a.logLevel)return;const i=new Date().toISOString(),s=SI[t];if(s)console[s](`[${i}]  ${a.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class WT{constructor(t){this.name=t,this._logLevel=AI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const RI=(a,t)=>t.some(e=>a instanceof e);let q0,F0;function II(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xI(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,Sg=new WeakMap,eb=new WeakMap,ag=new WeakMap,mp=new WeakMap;function DI(a){const t=new Promise((e,i)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{e(Ui(a.result)),s()},c=()=>{i(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&tb.set(e,a)}).catch(()=>{}),mp.set(t,a),t}function CI(a){if(Sg.has(a))return;const t=new Promise((e,i)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{e(),s()},c=()=>{i(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});Sg.set(a,t)}let wg={get(a,t,e){if(a instanceof IDBTransaction){if(t==="done")return Sg.get(a);if(t==="objectStoreNames")return a.objectStoreNames||eb.get(a);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ui(a[t])},set(a,t,e){return a[t]=e,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function VI(a){wg=a(wg)}function NI(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=a.call(sg(this),t,...e);return eb.set(i,t.sort?t.sort():[t]),Ui(i)}:xI().includes(a)?function(...t){return a.apply(sg(this),t),Ui(tb.get(this))}:function(...t){return Ui(a.apply(sg(this),t))}}function OI(a){return typeof a=="function"?NI(a):(a instanceof IDBTransaction&&CI(a),RI(a,II())?new Proxy(a,wg):a)}function Ui(a){if(a instanceof IDBRequest)return DI(a);if(ag.has(a))return ag.get(a);const t=OI(a);return t!==a&&(ag.set(a,t),mp.set(t,a)),t}const sg=a=>mp.get(a);function MI(a,t,{blocked:e,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(a,t),d=Ui(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ui(c.result),m.oldVersion,m.newVersion,Ui(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const PI=["get","getKey","getAll","getAllKeys","count"],kI=["put","add","delete","clear"],og=new Map;function H0(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(og.get(t))return og.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=kI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||PI.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),s&&m.done]))[0]};return og.set(t,l),l}VI(a=>({...a,get:(t,e,i)=>H0(t,e)||a.get(t,e,i),has:(t,e)=>!!H0(t,e)||a.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(UI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function UI(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rg="@firebase/app",G0="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new WT("@firebase/app"),zI="@firebase/app-compat",BI="@firebase/analytics-compat",jI="@firebase/analytics",qI="@firebase/app-check-compat",FI="@firebase/app-check",HI="@firebase/auth",GI="@firebase/auth-compat",KI="@firebase/database",QI="@firebase/data-connect",$I="@firebase/database-compat",YI="@firebase/functions",XI="@firebase/functions-compat",ZI="@firebase/installations",JI="@firebase/installations-compat",WI="@firebase/messaging",t2="@firebase/messaging-compat",e2="@firebase/performance",n2="@firebase/performance-compat",r2="@firebase/remote-config",i2="@firebase/remote-config-compat",a2="@firebase/storage",s2="@firebase/storage-compat",o2="@firebase/firestore",l2="@firebase/vertexai",u2="@firebase/firestore-compat",c2="firebase",h2="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",f2={[Rg]:"fire-core",[zI]:"fire-core-compat",[jI]:"fire-analytics",[BI]:"fire-analytics-compat",[FI]:"fire-app-check",[qI]:"fire-app-check-compat",[HI]:"fire-auth",[GI]:"fire-auth-compat",[KI]:"fire-rtdb",[QI]:"fire-data-connect",[$I]:"fire-rtdb-compat",[YI]:"fire-fn",[XI]:"fire-fn-compat",[ZI]:"fire-iid",[JI]:"fire-iid-compat",[WI]:"fire-fcm",[t2]:"fire-fcm-compat",[e2]:"fire-perf",[n2]:"fire-perf-compat",[r2]:"fire-rc",[i2]:"fire-rc-compat",[a2]:"fire-gcs",[s2]:"fire-gcs-compat",[o2]:"fire-fst",[u2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[c2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,d2=new Map,xg=new Map;function K0(a,t){try{a.container.addComponent(t)}catch(e){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,e)}}function Jh(a){const t=a.name;if(xg.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;xg.set(t,a);for(const e of Zh.values())K0(e,a);for(const e of d2.values())K0(e,a);return!0}function nb(a,t){const e=a.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),a.container.getProvider(t)}function m2(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new ZT("app","Firebase",g2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=h2;function rb(a,t={}){let e=a;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ig,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(e||(e=$T()),!e)throw zi.create("no-options");const l=Zh.get(s);if(l){if(Su(e,l.options)&&Su(i,l.config))return l;throw zi.create("duplicate-app",{appName:s})}const c=new TI(s);for(const m of xg.values())c.addComponent(m);const d=new p2(e,i,c);return Zh.set(s,d),d}function _2(a=Ig){const t=Zh.get(a);if(!t&&a===Ig&&$T())return rb();if(!t)throw zi.create("no-app",{appName:a});return t}function mo(a,t,e){var i;let s=(i=f2[a])!==null&&i!==void 0?i:a;e&&(s+=`-${e}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}Jh(new wu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",E2=1,Ru="firebase-heartbeat-store";let lg=null;function ib(){return lg||(lg=MI(v2,E2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ru)}catch(e){console.warn(e)}}}}).catch(a=>{throw zi.create("idb-open",{originalErrorMessage:a.message})})),lg}async function T2(a){try{const e=(await ib()).transaction(Ru),i=await e.objectStore(Ru).get(ab(a));return await e.done,i}catch(t){if(t instanceof zo)Xr.warn(t.message);else{const e=zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(e.message)}}}async function Q0(a,t){try{const i=(await ib()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(t,ab(a)),await i.done}catch(e){if(e instanceof zo)Xr.warn(e.message);else{const i=zi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(i.message)}}}function ab(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1024,A2=30;class S2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new R2(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>A2){const c=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$0(),{heartbeatsToSend:i,unsentEntries:s}=w2(this._heartbeatsCache.heartbeats),l=Yh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Xr.warn(e),""}}}function $0(){return new Date().toISOString().substring(0,10)}function w2(a,t=b2){const e=[];let i=a.slice();for(const s of a){const l=e.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Y0(e)>t){l.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Y0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class R2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?mI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await T2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Y0(a){return Yh(JSON.stringify({version:2,heartbeats:a})).length}function I2(a){if(a.length===0)return-1;let t=0,e=a[0].date;for(let i=1;i<a.length;i++)a[i].date<e&&(e=a[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(a){Jh(new wu("platform-logger",t=>new LI(t),"PRIVATE")),Jh(new wu("heartbeat",t=>new S2(t),"PRIVATE")),mo(Rg,G0,a),mo(Rg,G0,"esm2017"),mo("fire-js","")}x2("");var D2="firebase",C2="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(D2,C2,"app");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,sb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,P,U){for(var D=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)D[Be-2]=arguments[Be];return w.prototype[P].apply(M,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,w,R){R||(R=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],P=V.g[2];var U=V.g[3],D=w+(U^R&(P^U))+M[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+M[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+M[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+M[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+M[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+M[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+M[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+M[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+M[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+M[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+M[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+M[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+M[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+M[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+M[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+M[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^U&(R^P))+M[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+M[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+M[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+M[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+M[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+M[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+M[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+M[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+M[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+M[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+M[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+M[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+M[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+M[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+M[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+M[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^U)+M[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+M[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+M[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+M[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+M[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+M[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+M[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+M[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+M[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+M[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+M[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+M[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+M[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+M[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+M[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+M[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~U))+M[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+M[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+M[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+M[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+M[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+M[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+M[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+M[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+M[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+M[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+M[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+M[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+M[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+M[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+M[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}i.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,M=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)s(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<w;)if(M[P++]=V.charCodeAt(U++),P==this.blockSize){s(this,M),P=0;break}}else for(;U<w;)if(M[P++]=V[U++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var M=0;32>M;M+=8)V[R++]=this.g[w]>>>M&255;return V};function l(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],M=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;M&&U==w||(R[P]=U,M=!1)}this.g=R}var d={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return L(p(-V));for(var w=[],R=1,M=0;V>=R;M++)w[M]=V/R|0,R*=4294967296;return new c(w,0)}function _(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return L(_(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),M=T,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+U),w);8>U?(U=p(Math.pow(w,U)),M=M.j(U).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var T=m(0),S=m(1),x=m(16777216);a=c.prototype,a.m=function(){if(K(this))return-L(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*w,w*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(K(this))return"-"+L(this).toString(V);for(var w=p(Math.pow(V,6)),R=this,M="";;){var P=ft(R,w).g;R=Q(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,C(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function K(V){return V.h==-1}a.l=function(V){return V=Q(this,V),K(V)?-1:C(V)?0:1};function L(V){for(var w=V.g.length,R=[],M=0;M<w;M++)R[M]=~V.g[M];return new c(R,~V.h).add(S)}a.abs=function(){return K(this)?L(this):this},a.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0,P=0;P<=w;P++){var U=M+(this.i(P)&65535)+(V.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);M=D>>>16,U&=65535,D&=65535,R[P]=D<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Q(V,w){return V.add(L(w))}a.j=function(V){if(C(this)||C(V))return T;if(K(this))return K(V)?L(this).j(L(V)):L(L(this).j(V));if(K(V))return L(this.j(L(V)));if(0>this.l(x)&&0>V.l(x))return p(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<V.g.length;P++){var U=this.i(M)>>>16,D=this.i(M)&65535,Be=V.i(P)>>>16,he=V.i(P)&65535;R[2*M+2*P]+=D*he,et(R,2*M+2*P),R[2*M+2*P+1]+=U*he,et(R,2*M+2*P+1),R[2*M+2*P+1]+=D*Be,et(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Be,et(R,2*M+2*P+2)}for(M=0;M<w;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=w;M<2*w;M++)R[M]=0;return new c(R,0)};function et(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Y(V,w){this.g=V,this.h=w}function ft(V,w){if(C(w))throw Error("division by zero");if(C(V))return new Y(T,T);if(K(V))return w=ft(L(V),w),new Y(L(w.g),L(w.h));if(K(w))return w=ft(V,L(w)),new Y(L(w.g),w.h);if(30<V.g.length){if(K(V)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;0>=M.l(V);)R=at(R),M=at(M);var P=pt(R,1),U=pt(M,1);for(M=pt(M,2),R=pt(R,2);!C(M);){var D=U.add(M);0>=D.l(V)&&(P=P.add(R),U=D),M=pt(M,1),R=pt(R,1)}return w=Q(V,P.j(w)),new Y(P,w)}for(P=T;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(R),D=U.j(w);K(D)||0<D.l(V);)R-=M,U=p(R),D=U.j(w);C(U)&&(U=S),P=P.add(U),V=Q(V,D)}return new Y(P,V)}a.A=function(V){return ft(this,V).h},a.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)&V.i(M);return new c(R,this.h&V.h)},a.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)|V.i(M);return new c(R,this.h|V.h)},a.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)^V.i(M);return new c(R,this.h^V.h)};function at(V){for(var w=V.g.length+1,R=[],M=0;M<w;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(R,V.h)}function pt(V,w){var R=w>>5;w%=32;for(var M=V.g.length-R,P=[],U=0;U<M;U++)P[U]=0<w?V.i(U+R)>>>w|V.i(U+R+1)<<32-w:V.i(U+R);return new c(P,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sb=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Bi=c}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ob,uu,lb,Mh,Dg,ub,cb,hb;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=e(this);function s(h,y){if(y)t:{var v=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in v))break t;v=v[z]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&t(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,A=!1,z={next:function(){if(!A&&v<h.length){var $=v++;return{value:y($,h[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),h.apply(y,z)}}return function(){return h.apply(y,arguments)}}function S(h,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function x(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,z,$){for(var st=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)st[Pt-2]=arguments[Pt];return y.prototype[z].apply(A,st)}}function K(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function L(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const z=h.length||0,$=A.length||0;h.length=z+$;for(let st=0;st<$;st++)h[z+st]=A[st]}else h.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function et(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ft(h){return ft[" "](h),h}ft[" "]=function(){};var at=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function pt(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function w(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)h[v]=A[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function P(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function U(h){d.setTimeout(()=>{throw h},0)}function D(){var h=jt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,v){const A=he.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new Q(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,vt=!1,jt=new Be,N=()=>{const h=d.Promise.resolve(void 0);ut=()=>{h.then(nt)}};var nt=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(v){U(v)}var y=he;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}vt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function Ct(h,y){if(it.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(at){t:{try{ft(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ct.aa.h.call(this)}}C(Ct,it);var Rt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),ee=0;function $n(h,y,v,A,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++ee,this.da=this.fa=!1}function ri(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function vr(h){this.src=h,this.g={},this.h=0}vr.prototype.add=function(h,y,v,A,z){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var st=na(h,y,A,z);return-1<st?(y=h[st],v||(y.fa=!1)):(y=new $n(y,this.src,$,!!A,z),y.fa=v,h.push(y)),y};function ea(h,y){var v=y.type;if(v in h.g){var A=h.g[v],z=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(A,z,1),$&&(ri(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function na(h,y,v,A){for(var z=0;z<h.length;++z){var $=h[z];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==A)return z}return-1}var ra="closure_lm_"+(1e6*Math.random()|0),Ko={};function Wu(h,y,v,A,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Wu(h,y[$],v,A,z);return null}return v=tc(v),h&&h[Ne]?h.K(y,v,p(A)?!!A.capture:!1,z):xn(h,y,v,!1,A,z)}function xn(h,y,v,A,z,$){if(!y)throw Error("Invalid event type");var st=p(z)?!!z.capture:!!z,Pt=cs(h);if(Pt||(h[ra]=Pt=new vr(h)),v=Pt.add(y,v,A,st,$),v.proxy)return v;if(A=Zf(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)Tt||(z=st),z===void 0&&(z=!1),h.addEventListener(y.toString(),A,z);else if(h.attachEvent)h.attachEvent(ia(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zf(){function h(v){return y.call(h.src,h.listener,v)}const y=Jf;return h}function Qo(h,y,v,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Qo(h,y[$],v,A,z);else A=p(A)?!!A.capture:!!A,v=tc(v),h&&h[Ne]?(h=h.i,y=String(y).toString(),y in h.g&&($=h.g[y],v=na($,v,A,z),-1<v&&(ri($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete h.g[y],h.h--)))):h&&(h=cs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=na(y,v,A,z)),(v=-1<h?y[h]:null)&&us(v))}function us(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ne])ea(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(ia(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=cs(y))?(ea(v,h),v.h==0&&(v.src=null,y[ra]=null)):ri(h)}}}function ia(h){return h in Ko?Ko[h]:Ko[h]="on"+h}function Jf(h,y){if(h.da)h=!0;else{y=new Ct(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&us(h),h=v.call(A,y)}return h}function cs(h){return h=h[ra],h instanceof vr?h:null}var $o="__closure_events_fn_"+(1e9*Math.random()>>>0);function tc(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(y){return h.handleEvent(y)}),h[$o])}function fe(){ct.call(this),this.i=new vr(this),this.M=this,this.F=null}C(fe,ct),fe.prototype[Ne]=!0,fe.prototype.removeEventListener=function(h,y,v,A){Qo(this,h,y,v,A)};function Gt(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new it(y,h);else if(y instanceof it)y.target=y.target||h;else{var z=y;y=new it(A,h),M(y,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var st=y.g=v[$];z=gn(st,A,!0,y)&&z}if(st=y.g=h,z=gn(st,A,!0,y)&&z,z=gn(st,A,!1,y)&&z,v)for($=0;$<v.length;$++)st=y.g=v[$],z=gn(st,A,!1,y)&&z}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)ri(v[A]);delete h.g[y],h.h--}}this.F=null},fe.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},fe.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function gn(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var st=y[$];if(st&&!st.da&&st.capture==v){var Pt=st.listener,Ie=st.ha||st.src;st.fa&&ea(h.i,st),z=Pt.call(Ie,A)!==!1&&z}}return z&&!A.defaultPrevented}function $e(h,y,v){if(typeof h=="function")v&&(h=S(h,v));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ec(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,ec(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Wf extends ct{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){ct.call(this),this.h=h,this.g={}}C(aa,ct);var sa=[];function oa(h){pt(h.g,function(y,v){this.g.hasOwnProperty(v)&&us(y)},h),h.g={}}aa.prototype.N=function(){aa.aa.N.call(this),oa(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,hs=d.JSON.parse,la=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Yo(){}Yo.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Zo(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){it.call(this,"d")}C(Tr,it);function Jo(){it.call(this,"c")}C(Jo,it);var Yn={},Wo=null;function ii(){return Wo=Wo||new fe}Yn.La="serverreachability";function fs(h){it.call(this,Yn.La,h)}C(fs,it);function ai(h){const y=ii();Gt(y,new fs(y))}Yn.STAT_EVENT="statevent";function nc(h,y){it.call(this,Yn.STAT_EVENT,h),this.stat=y}C(nc,it);function ie(h){const y=ii();Gt(y,new nc(y,h))}Yn.Ma="timingevent";function Re(h,y){it.call(this,Yn.Ma,h),this.size=y}C(Re,it);function Te(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function tl(h,y,v,A,z,$){h.info(function(){if(h.g)if($)for(var st="",Pt=$.split("&"),Ie=0;Ie<Pt.length;Ie++){var kt=Pt[Ie].split("=");if(1<kt.length){var Me=kt[0];kt=kt[1];var xe=Me.split("_");st=2<=xe.length&&xe[1]=="type"?st+(Me+"="+kt+"&"):st+(Me+"=redacted&")}}else st=null;else st=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+st})}function td(h,y,v,A,z,$,st){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+$+" "+st})}function si(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ua(h,v)+(A?" "+A:"")})}function rc(h,y){h.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function ua(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return jn(v)}catch{return y}}var oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Zn(){}C(Zn,Yo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Xn=new Zn;function en(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var el={},ds={};function qn(h,y,v){h.L=1,h.v=ma(pn(y)),h.m=v,h.P=!0,Ar(h,null)}function Ar(h,y){h.F=Date.now(),ca(h),h.A=pn(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ol(v.i,"t",A),h.C=0,v=h.j.J,h.h=new pe,h.g=vc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new Wf(S(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(sa[0]=z.toString()),z=sa);for(var $=0;$<z.length;$++){var st=Wu(v,z[$],A||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ai(),tl(h.i,h.u,h.A,h.l,h.R,h.m)}en.prototype.ca=function(h){h=h.target;const y=this.M;y&&On(h)==3?y.j():this.Y(h)},en.prototype.Y=function(h){try{if(h==this.g)t:{const xe=On(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||xe!=4||y==7||(y==8||0>=Vr?ai(3):ai(2)),li(this);var v=this.g.Z();this.X=v;e:if(ic(this)){var A=hc(this.g);h="";var z=A.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),Jn(this);var st="";break e}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!($&&y==z-1)});A.length=0,this.h.g+=h,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,td(this.i,this.u,this.A,this.l,this.R,xe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ie=this.g;if((Pt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Pt)){var kt=Pt;break e}}kt=null}if(v=kt)si(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,v);else{this.o=!1,this.s=3,ie(12),je(this),Jn(this);break t}}if(this.P){v=!0;let qe;for(;!this.J&&this.C<st.length;)if(qe=ac(this,st),qe==ds){xe==4&&(this.s=4,ie(14),v=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==el){this.s=4,ie(15),si(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else si(this.i,this.l,qe,null),ha(this,qe);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||st.length!=0||this.h.h||(this.s=1,ie(16),v=!1),this.o=this.o&&v,!v)si(this.i,this.l,st,"[Invalid Chunked Response]"),je(this),Jn(this);else if(0<st.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ba(Me),Me.M=!0,ie(11))}}else si(this.i,this.l,st,null),ha(this,st);xe==4&&je(this),this.o&&!this.J&&(xe==4?pc(this.j,this):(this.o=!1,ca(this)))}else ad(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),je(this),Jn(this)}}}catch{}finally{}};function ic(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ac(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?ds:(v=Number(y.substring(v,A)),isNaN(v)?el:(A+=1,A+v>y.length?ds:(y=y.slice(A,A+v),h.C=A+v,y)))}en.prototype.cancel=function(){this.J=!0,je(this)};function ca(h){h.S=Date.now()+h.I,sc(h,h.I)}function sc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(S(h.ba,h),y)}function li(h){h.B&&(d.clearTimeout(h.B),h.B=null)}en.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(rc(this.i,this.A),this.L!=2&&(ai(),ie(17)),je(this),this.s=2,Jn(this)):sc(this,this.S-h)};function Jn(h){h.j.G==0||h.J||pc(h.j,h)}function je(h){li(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,oa(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ha(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||nl(v.h,h))){if(!h.K&&nl(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)ws(v),As(v);else break t;fl(v),ie(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Te(S(v.Za,v),6e3));if(1>=gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Cr(v,11)}else if((h.K||v.g==h)&&ws(v),!et(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let kt=z[y];if(v.T=kt[0],kt=kt[1],v.G==2)if(kt[0]=="c"){v.K=kt[1],v.ia=kt[2];const Me=kt[3];Me!=null&&(v.la=Me,v.j.info("VER="+v.la));const xe=kt[4];xe!=null&&(v.Aa=xe,v.j.info("SVER="+v.Aa));const Vr=kt[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(A=1.5*Vr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const qe=h.g;if(qe){const ar=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var $=A.h;$.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ps($,$.h),$.h=null))}if(A.D){const ml=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(A.ya=ml,Xt(A.I,A.D,ml))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var st=h;if(A.qa=_c(A,A.J?A.ia:null,A.W),st.K){nn(A.h,st);var Pt=st,Ie=A.L;Ie&&(Pt.I=Ie),Pt.B&&(li(Pt),ca(Pt)),A.g=st}else mc(A);0<v.i.length&&Ss(v)}else kt[0]!="stop"&&kt[0]!="close"||Cr(v,7);else v.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Cr(v,7):cl(v):kt[0]!="noop"&&v.l&&v.l.ta(kt),v.v=0)}}ai(4)}catch{}}var oc=class{constructor(h,y){this.g=h,this.map=y}};function Sr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gs(h){return h.h?1:h.g?h.g.size:0}function nl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ps(h,y){h.g?h.g.add(y):h.h=y}function nn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Sr.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return K(h.i)}function ed(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function ys(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function il(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=ys(h),A=ed(h),z=A.length,$=0;$<z;$++)y.call(void 0,A[$],v&&v[$],h)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),z=null;if(0<=A){var $=h[v].substring(0,A);z=h[v].substring(A+1)}else $=h[v];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function be(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof be){this.h=h.h,da(this,h.j),this.o=h.o,this.g=h.g,ui(this,h.s),this.l=h.l;var y=h.i,v=new Rr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),wr(this,v),this.m=h.m}else h&&(y=String(h).match(fa))?(this.h=!1,da(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),ui(this,y[4]),this.l=Cn(y[5]||"",!0),wr(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}be.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ga(y,al,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ga(y,al,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ga(v,v.charAt(0)=="/"?rd:sl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ga(v,_s)),h.join("")};function pn(h){return new be(h)}function da(h,y,v){h.j=v?Cn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ui(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function wr(h,y,v){y instanceof Rr?(h.i=y,uc(h.i,h.h)):(v||(y=ga(y,id)),h.i=new Rr(y,h.h))}function Xt(h,y,v){h.i.set(y,v)}function ma(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Cn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,lc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function lc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var al=/[#\/\?@]/g,sl=/[#\?:]/g,rd=/[#\?]/g,id=/[#\?@]/g,_s=/#/g;function Rr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&nd(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=Rr.prototype,a.add=function(h,y){Vn(this),this.i=null,h=Wn(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ir(h,y){Vn(h),y=Wn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function xr(h,y){return Vn(h),y=Wn(h,y),h.g.has(y)}a.forEach=function(h,y){Vn(this),this.g.forEach(function(v,A){v.forEach(function(z){h.call(y,z,A,this)},this)},this)},a.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=h[A];for(let $=0;$<z.length;$++)v.push(y[A])}return v},a.V=function(h){Vn(this);let y=[];if(typeof h=="string")xr(this,h)&&(y=y.concat(this.g.get(Wn(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},a.set=function(h,y){return Vn(this),this.i=null,h=Wn(this,h),xr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},a.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ol(h,y,v){Ir(h,y),0<v.length&&(h.i=null,h.g.set(Wn(h,y),K(v)),h.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const $=encodeURIComponent(String(A)),st=this.V(A);for(A=0;A<st.length;A++){var z=$;st[A]!==""&&(z+="="+encodeURIComponent(String(st[A]))),h.push(z)}}return this.i=h.join("&")};function Wn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function uc(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Ir(this,A),ol(this,z,v))},h)),h.j=y}function pa(h,y){const v=new Dn;if(d.Image){const A=new Image;A.onload=x(Nn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Nn,v,"TestLoadImage: error",!1,y,A),A.onabort=x(Nn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Nn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Fn(h,y){const v=new Dn,A=new AbortController,z=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,y)})}function Nn(h,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function ya(){this.g=new la}function tr(h,y,v){const A=v||"";try{il(h,function(z,$){let st=z;p(z)&&(st=jn(z)),y.push(A+$+"="+encodeURIComponent(st))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function ci(h){this.l=h.Ub||null,this.j=h.eb||!1}C(ci,Yo),ci.prototype.g=function(){return new Dr(this.l,this.j)},ci.prototype.i=function(h){return function(){return h}}({});function Dr(h,y){fe.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Dr,fe),a=Dr.prototype,a.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,nr(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},a.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}a.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?er(this):nr(this),this.readyState==3&&ll(this)}},a.Ra=function(h){this.g&&(this.response=this.responseText=h,er(this))},a.Qa=function(h){this.g&&(this.response=h,er(this))},a.ga=function(){this.g&&er(this)};function er(h){h.readyState=4,h.l=null,h.j=null,h.v=null,nr(h)}a.setRequestHeader=function(h,y){this.u.append(h,y)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function nr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ul(h){let y="";return pt(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Oe(h,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=ul(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Xt(h,y,v))}function Ft(h){fe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ft,fe);var vs=/^https?$/i,_a=["POST","PUT"];a=Ft.prototype,a.Ha=function(h){this.J=h},a.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Xo(this.o):Xo(Xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){cc(this,$);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(_a,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,st]of v)this.g.setRequestHeader($,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(h),this.u=!1}catch($){cc(this,$)}};function cc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Es(h),rr(h)}function Es(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),rr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),Ft.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},a.bb=function(){Ts(this)};function Ts(h){if(h.h&&typeof c<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)$e(h.Ea,0,h);else if(Gt(h,"readystatechange"),On(h)==4){h.h=!1;try{const st=h.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=st===0){var z=String(h.D).match(fa)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!vs.test(z?z.toLowerCase():"")}v=A}if(v)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var $=2<On(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",Es(h)}}finally{rr(h)}}}}function rr(h,y){if(h.g){va(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{v.onreadystatechange=A}catch{}}}function va(h){h.I&&(d.clearTimeout(h.I),h.I=null)}a.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}a.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hs(y)}};function hc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(h){const y={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(et(h[A]))continue;var v=P(h[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[z]||[];y[z]=$,$.push(v)}V(y,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function bs(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,h),this.cb=Ea("retryDelaySeedMs",1e4,h),this.Wa=Ea("forwardChannelMaxRetries",2,h),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Sr(h&&h.concurrentRequestLimit),this.Da=new ya,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=bs.prototype,a.la=8,a.G=1,a.connect=function(h,y,v,A){ie(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=_c(this,null,this.W),Ss(this)};function cl(h){if(fc(h),h.G==3){var y=h.U++,v=pn(h.I);if(Xt(v,"SID",h.K),Xt(v,"RID",y),Xt(v,"TYPE","terminate"),Ta(h,v),y=new en(h,h.j,y),y.L=2,y.v=ma(pn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=vc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ca(y)}yc(h)}function As(h){h.g&&(ba(h),h.g.cancel(),h.g=null)}function fc(h){As(h),h.u&&(d.clearTimeout(h.u),h.u=null),ws(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ss(h){if(!ms(h.h)&&!h.s){h.s=!0;var y=h.Ga;ut||N(),vt||(ut(),vt=!0),jt.add(y,h),h.B=0}}function sd(h,y){return gs(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(S(h.Ga,h,y),dl(h,h.B)),h.B++,!0)}a.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new en(this,this.j,h);let $=this.o;if(this.S&&($?($=w($),M($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=dc(this,z,y),v=pn(this.I),Xt(v,"RID",h),Xt(v,"CVER",22),this.D&&Xt(v,"X-HTTP-Session-Id",this.D),Ta(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(ul($)))+"&"+y:this.m&&Oe(v,this.m,$)),ps(this.h,z),this.Ua&&Xt(v,"TYPE","init"),this.P?(Xt(v,"$req",y),Xt(v,"SID","null"),z.T=!0,qn(z,v,null)):qn(z,v,y),this.G=2}}else this.G==3&&(h?hl(this,h):this.i.length==0||ms(this.h)||hl(this))};function hl(h,y){var v;y?v=y.l:v=h.U++;const A=pn(h.I);Xt(A,"SID",h.K),Xt(A,"RID",v),Xt(A,"AID",h.T),Ta(h,A),h.m&&h.o&&Oe(A,h.m,h.o),v=new en(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=dc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ps(h.h,v),qn(v,A,y)}function Ta(h,y){h.H&&pt(h.H,function(v,A){Xt(y,A,v)}),h.l&&il({},function(v,A){Xt(y,A,v)})}function dc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?S(h.l.Na,h.l,h):null;t:{var z=h.i;let $=-1;for(;;){const st=["count="+v];$==-1?0<v?($=z[0].g,st.push("ofs="+$)):$=0:st.push("ofs="+$);let Pt=!0;for(let Ie=0;Ie<v;Ie++){let kt=z[Ie].g;const Me=z[Ie].map;if(kt-=$,0>kt)$=Math.max(0,z[Ie].g-100),Pt=!1;else try{tr(Me,st,"req"+kt+"_")}catch{A&&A(Me)}}if(Pt){A=st.join("&");break t}}}return h=h.i.splice(0,v),y.D=h,A}function mc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ut||N(),vt||(ut(),vt=!0),jt.add(y,h),h.v=0}}function fl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(S(h.Fa,h),dl(h,h.v)),h.v++,!0)}a.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(S(this.ab,this),h)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),As(this),gc(this))};function ba(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function gc(h){h.g=new en(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=pn(h.qa);Xt(y,"RID","rpc"),Xt(y,"SID",h.K),Xt(y,"AID",h.T),Xt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(y,"TO",h.ja),Xt(y,"TYPE","xmlhttp"),Ta(h,y),h.m&&h.o&&Oe(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=ma(pn(y)),v.m=null,v.P=!0,Ar(v,h)}a.Za=function(){this.C!=null&&(this.C=null,As(this),fl(this),ie(19))};function ws(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function pc(h,y){var v=null;if(h.g==y){ws(h),ba(h),h.g=null;var A=2}else if(nl(h.h,y))v=y.D,nn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=h.B;A=ii(),Gt(A,new Re(A,v)),Ss(h)}else mc(h);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&sd(h,y)||A==2&&fl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),z){case 1:Cr(h,5);break;case 4:Cr(h,10);break;case 3:Cr(h,6);break;default:Cr(h,2)}}}function dl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Cr(h,y){if(h.j.info("Error code "+y),y==2){var v=S(h.fb,h),A=h.Xa;const z=!A;A=new be(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||da(A,"https"),ma(A),z?pa(A.toString(),v):Fn(A.toString(),v)}else ie(2);h.G=0,h.l&&h.l.sa(y),yc(h),fc(h)}a.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function yc(h){if(h.G=0,h.ka=[],h.l){const y=rl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ka,y),L(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function _c(h,y,v){var A=v instanceof be?pn(v):new be(v);if(A.g!="")y&&(A.g=y+"."+A.g),ui(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new be(null);A&&da($,A),y&&($.g=y),z&&ui($,z),v&&($.l=v),A=$}return v=h.D,y=h.ya,v&&y&&Xt(A,v,y),Xt(A,"VER",h.la),Ta(h,A),A}function vc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ft(new ci({eb:v})):new Ft(h.pa),y.Ha(h.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}a=Ec.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Rs(){}Rs.prototype.g=function(h,y){return new rn(h,y)};function rn(h,y){fe.call(this),this.g=new bs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!et(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!et(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}C(rn,fe),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){cl(this.g)},rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=jn(h),h=v);y.i.push(new oc(y.Ya++,h)),y.G==3&&Ss(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,rn.aa.N.call(this)};function Tc(h){Tr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const v in y){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Tc,Tr);function bc(){Jo.call(this),this.status=1}C(bc,Jo);function ir(h){this.g=h}C(ir,Ec),ir.prototype.ua=function(){Gt(this.g,"a")},ir.prototype.ta=function(h){Gt(this.g,new Tc(h))},ir.prototype.sa=function(h){Gt(this.g,new bc)},ir.prototype.ra=function(){Gt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,hb=function(){return new Rs},cb=function(){return ii()},ub=Yn,Dg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,Mh=oi,br.COMPLETE="complete",lb=br,Zo.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",fe.prototype.listen=fe.prototype.K,uu=Zo,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ob=Ft}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const Z0="@firebase/firestore",J0="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new WT("@firebase/firestore");function lo(){return Wa.logLevel}function rt(a,...t){if(Wa.logLevel<=zt.DEBUG){const e=t.map(gp);Wa.debug(`Firestore (${Bo}): ${a}`,...e)}}function ve(a,...t){if(Wa.logLevel<=zt.ERROR){const e=t.map(gp);Wa.error(`Firestore (${Bo}): ${a}`,...e)}}function po(a,...t){if(Wa.logLevel<=zt.WARN){const e=t.map(gp);Wa.warn(`Firestore (${Bo}): ${a}`,...e)}}function gp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,fb(a,i,e)}function fb(a,t,e){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ve(i),new Error(i)}function yt(a,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,a||fb(t,s,i)}function gt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends zo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ze.UNAUTHENTICATED))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class O2{constructor(t){this.t=t,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){yt(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new db(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string",2055,{h:t}),new ze(t)}}class M2{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,m2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){yt(this.o===void 0,3512);const i=l=>{l.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const s=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new W0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<a;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=L2(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<e&&(i+=t.charAt(s[l]%62))}return i}}function St(a,t){return a<t?-1:a>t?1:0}function Cg(a,t){let e=0;for(;e<a.length&&e<t.length;){const i=a.codePointAt(e),s=t.codePointAt(e);if(i!==s){if(i<128&&s<128)return St(i,s);{const l=mb(),c=U2(l.encode(tE(a,e)),l.encode(tE(t,e)));return c!==0?c:St(i,s)}}e+=i>65535?2:1}return St(a.length,t.length)}function tE(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function U2(a,t){for(let e=0;e<a.length&&e<t.length;++e)if(a[e]!==t[e])return St(a[e],t[e]);return St(a.length,t.length)}function yo(a,t,e){return a.length===t.length&&a.every((i,s)=>e(i,t[s]))}function pb(a){return a+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=-62135596800,nE=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*nE);return new ce(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<eE)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-eE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ce(0,0))}static max(){return new Et(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__name__";class hr{constructor(t,e,i){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return hr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const l=hr.compareSegments(t.get(s),e.get(s));if(l!==0)return l}return St(t.length,e.length)}static compareSegments(t,e){const i=hr.isNumericId(t),s=hr.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?hr.extractNumericId(t).compare(hr.extractNumericId(e)):Cg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bi.fromString(t.substring(4,t.length-2))}}class Ht extends hr{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new Ht(e)}static emptyPath(){return new Ht([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends hr{construct(t,e,i){return new le(t,e,i)}static isValidIdentifier(t){return z2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rE}static keyField(){return new le([rE])}static fromServerFormat(t){const e=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new le(e)}static emptyPath(){return new le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=-1;class Wh{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function Vg(a){return a.fields.find(t=>t.kind===2)}function Ba(a){return a.fields.filter(t=>t.kind!==2)}Wh.UNKNOWN_ID=-1;class Ph{constructor(t,e){this.fieldPath=t,this.kind=e}}class Iu{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Iu(0,In.min())}}function yb(a,t){const e=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,s=Et.fromTimestamp(i===1e9?new ce(e+1,0):new ce(e,i));return new In(s,ht.empty(),t)}function _b(a){return new In(a.readTime,a.key,_o)}class In{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new In(Et.min(),ht.empty(),_o)}static max(){return new In(Et.max(),ht.empty(),_o)}}function pp(a,t){let e=a.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(a.documentKey,t.documentKey),e!==0?e:St(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==vb)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new B((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof B?e:B.resolve(e)}catch(e){return B.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):B.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):B.reject(e)}static resolve(t){return new B((e,i)=>{e(t)})}static reject(t){return new B((e,i)=>{i(t)})}static waitFor(t){return new B((e,i)=>{let s=0,l=0,c=!1;t.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&e()},m=>i(m))}),c=!0,l===s&&e()})}static or(t){let e=B.resolve(!1);for(const i of t)e=e.next(s=>s?B.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,l)=>{i.push(e.call(this,s,l))}),this.waitFor(i)}static mapArray(t,e){return new B((i,s)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next(_=>{c[p]=_,++d,d===l&&i(c)},_=>s(_))}})}static doWhile(t,e){return new B((i,s)=>{const l=()=>{t()===!0?e().next(()=>{l()},s):i()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="SimpleDb";class wf{static open(t,e,i,s){try{return new wf(e,t.transaction(s,i))}catch(l){throw new gu(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new ji,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new gu(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=yp(i.target.error);this.S.reject(new gu(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(rt(Sn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new j2(e)}}class qi{static delete(t){return rt(Sn,"Removing database:",t),qa(QT().indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!XT())return!1;if(qi.F())return!0;const t=Xh(),e=qi.M(t),i=0<e&&e<10,s=Tb(t),l=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.O)==="YES"}static N(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.B=i,this.L=null,qi.M(Xh())===12.2&&ve("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(t){return this.db||(rt(Sn,"Opening database:",this.name),this.db=await new Promise((e,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=l=>{const c=l.target.result;e(c)},s.onblocked=()=>{i(new gu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ot(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ot(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new gu(t,c))},s.onupgradeneeded=l=>{rt(Sn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;if(this.L!==null&&this.L!==l.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${l.oldVersion}, event.newVersion=${l.newVersion}, db.version=${c.version}`);this.B.q(c,s.transaction,l.oldVersion,this.version).next(()=>{rt(Sn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",e=>{const i=e.target;this.L=i.version},{passive:!0})),this.$&&(this.db.onversionchange=e=>this.$(e)),this.db}U(t){this.$=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,s){const l=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(t);const d=wf.open(this.db,t,l?"readonly":"readwrite",i),m=s(d).next(p=>(d.v(),p)).catch(p=>(d.abort(p),B.reject(p))).toPromise();return m.catch(()=>{}),await d.D,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(rt(Sn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Tb(a){const t=a.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class B2{constructor(t){this.K=t,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(t){this.K=t}done(){this.W=!0}H(t){this.G=t}delete(){return qa(this.K.delete())}}class gu extends ot{constructor(t,e){super(J.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Zi(a){return a.name==="IndexedDbTransactionError"}class j2{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(rt(Sn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(rt(Sn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),qa(i)}add(t){return rt(Sn,"ADD",this.store.name,t,t),qa(this.store.add(t))}get(t){return qa(this.store.get(t)).next(e=>(e===void 0&&(e=null),rt(Sn,"GET",this.store.name,t,e),e))}delete(t){return rt(Sn,"DELETE",this.store.name,t),qa(this.store.delete(t))}count(){return rt(Sn,"COUNT",this.store.name),qa(this.store.count())}J(t,e){const i=this.options(t,e),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const l=s.getAll(i.range);return new B((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(i),c=[];return this.Y(l,(d,m)=>{c.push(m)}).next(()=>c)}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new B((s,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}X(t,e){rt(Sn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.ee=!1;const s=this.cursor(i);return this.Y(s,(l,c,d)=>d.delete())}te(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.Y(s,e)}ne(t){const e=this.cursor({});return new B((i,s)=>{e.onerror=l=>{const c=yp(l.target.error);s(c)},e.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Y(t,e){const i=[];return new B((s,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void s();const m=new B2(d),p=e(d.primaryKey,d.value,m);if(p instanceof B){const _=p.catch(T=>(m.done(),B.reject(T)));i.push(_)}m.isDone?s():m.j===null?d.continue():d.continue(m.j)}}).next(()=>B.waitFor(i))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.ee?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function qa(a){return new B((t,e)=>{a.onsuccess=i=>{const s=i.target.result;t(s)},a.onerror=i=>{const s=yp(i.target.error);e(s)}})}let iE=!1;function yp(a){const t=qi.M(Xh());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(e)>=0){const i=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iE||(iE=!0,setTimeout(()=>{throw i},0)),i}}return a}const pu="IndexBackfiller";class q2{constructor(t,e){this.asyncQueue=t,this.re=e,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(t){rt(pu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{const e=await this.re.se();rt(pu,`Documents written: ${e}`)}catch(e){Zi(e)?rt(pu,"Ignoring IndexedDB error during index backfill: ",e):await Xi(e)}await this.ie(6e4)})}}class F2{constructor(t,e){this.localStore=t,this.persistence=e}async se(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.oe(e,t))}oe(t,e){const i=new Set;let s=e,l=!0;return B.doWhile(()=>l===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(c!==null&&!i.has(c))return rt(pu,`Processing collection: ${c}`),this._e(t,c,s).next(d=>{s-=d,i.add(c)});l=!1})).next(()=>e-s)}_e(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ae(s,l)).next(d=>(rt(pu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ae(t,e){let i=t;return e.changes.forEach((s,l)=>{const c=_b(l);pp(c,i)>0&&(i=c)}),new In(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}fn.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=-1;function Rf(a){return a==null}function xu(a){return a===0&&1/a==-1/0}function bb(a){return typeof a=="number"&&Number.isInteger(a)&&!xu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="";function tn(a){let t="";for(let e=0;e<a.length;e++)t.length>0&&(t=aE(t)),t=H2(a.get(e),t);return aE(t)}function H2(a,t){let e=t;const i=a.length;for(let s=0;s<i;s++){const l=a.charAt(s);switch(l){case"\0":e+="";break;case tf:e+="";break;default:e+=l}}return e}function aE(a){return a+tf+""}function dr(a){const t=a.length;if(yt(t>=2,64408,{path:a}),t===2)return yt(a.charAt(0)===tf&&a.charAt(1)==="",56145,{path:a}),Ht.emptyPath();const e=t-2,i=[];let s="";for(let l=0;l<t;){const c=a.indexOf(tf,l);switch((c<0||c>e)&&dt(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let m;s.length===0?m=d:(s+=d,m=s,s=""),i.push(m);break;case"":s+=a.substring(l,c),s+="\0";break;case"":s+=a.substring(l,c+1);break;default:dt(61167,{path:a})}l=c+2}return new Ht(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="remoteDocuments",Gu="owner",eo="owner",Du="mutationQueues",G2="userId",Qn="mutations",sE="batchId",Ka="userMutationsIndex",oE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(a,t){return[a,tn(t)]}function Ab(a,t,e){return[a,tn(t),e]}const K2={},vo="documentMutations",ef="remoteDocumentsV14",Q2=["prefixPath","collectionGroup","readTime","documentId"],Lh="documentKeyIndex",$2=["prefixPath","collectionGroup","documentId"],Sb="collectionGroupIndex",Y2=["collectionGroup","readTime","prefixPath","documentId"],Cu="remoteDocumentGlobal",Ng="remoteDocumentGlobalKey",Eo="targets",wb="queryTargetsIndex",X2=["canonicalId","targetId"],To="targetDocuments",Z2=["targetId","path"],_p="documentTargetsIndex",J2=["path","targetId"],nf="targetGlobalKey",Xa="targetGlobal",Vu="collectionParents",W2=["collectionId","parent"],bo="clientMetadata",tx="clientId",If="bundles",ex="bundleId",xf="namedQueries",nx="name",vp="indexConfiguration",rx="indexId",Og="collectionGroupIndex",ix="collectionGroup",rf="indexState",ax=["indexId","uid"],Rb="sequenceNumberIndex",sx=["uid","sequenceNumber"],af="indexEntries",ox=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ib="documentKeyIndex",lx=["indexId","uid","orderedDocumentKey"],Df="documentOverlays",ux=["userId","collectionPath","documentId"],Mg="collectionPathOverlayIndex",cx=["userId","collectionPath","largestBatchId"],xb="collectionGroupOverlayIndex",hx=["userId","collectionGroup","largestBatchId"],Ep="globals",fx="name",Db=[Du,Qn,vo,ja,Eo,Gu,Xa,To,bo,Cu,Vu,If,xf],dx=[...Db,Df],Cb=[Du,Qn,vo,ef,Eo,Gu,Xa,To,bo,Cu,Vu,If,xf,Df],Vb=Cb,Tp=[...Vb,vp,rf,af],mx=Tp,gx=[...Tp,Ep];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Eb{constructor(t,e){super(),this.he=t,this.currentSequenceNumber=e}}function Ve(a,t){const e=gt(a);return qi.N(e.he,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(a){let t=0;for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&t++;return t}function Ji(a,t){for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&t(e,a[e])}function Nb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wh(this.root,t,this.comparator,!0)}}class wh{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,i,s,l){this.key=t,this.value=e,this.color=i??Qe.RED,this.left=s??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,l){return new Qe(t??this.key,e??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,e,i),null):l===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Qe.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,i,s,l){return this}insert(t,e,i){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(t){return new uE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yt(this.comparator);return e.data=t,e}}class uE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function no(a){return a.hasNext()?a.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.fields=t,t.sort(le.comparator)}static empty(){return new dn([])}unionWith(t){let e=new Yt(le.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new dn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ob("Invalid base64 string: "+l):l}}(t);return new Ee(e)}static fromUint8Array(t){const e=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(t);return new Ee(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ee.EMPTY_BYTE_STRING=new Ee("");const px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(a){if(yt(!!a,39018),typeof a=="string"){let t=0;const e=px.exec(a);if(yt(!!e,46558,{timestamp:a}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:se(a.seconds),nanos:se(a.nanos)}}function se(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Jr(a){return typeof a=="string"?Ee.fromBase64String(a):Ee.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="server_timestamp",Pb="__type__",kb="__previous_value__",Lb="__local_write_time__";function bp(a){var t,e;return((e=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Pb])===null||e===void 0?void 0:e.stringValue)===Mb}function Cf(a){const t=a.mapValue.fields[kb];return bp(t)?Cf(t):t}function Nu(a){const t=Zr(a.mapValue.fields[Lb].timestampValue);return new ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e,i,s,l,c,d,m,p,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const Ou="(default)";class ts{constructor(t,e){this.projectId=t,this.database=e||Ou}static empty(){return new ts("","")}get isDefaultDatabase(){return this.database===Ou}isEqual(t){return t instanceof ts&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="__type__",Ub="__max__",Li={mapValue:{fields:{__type__:{stringValue:Ub}}}},Sp="__vector__",Ao="value",Uh={nullValue:"NULL_VALUE"};function Gi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?bp(a)?4:zb(a)?9007199254740991:Vf(a)?10:11:dt(28295,{value:a})}function yr(a,t){if(a===t)return!0;const e=Gi(a);if(e!==Gi(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Nu(a).isEqual(Nu(t));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Zr(s.timestampValue),d=Zr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(s,l){return Jr(s.bytesValue).isEqual(Jr(l.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(s,l){return se(s.geoPointValue.latitude)===se(l.geoPointValue.latitude)&&se(s.geoPointValue.longitude)===se(l.geoPointValue.longitude)}(a,t);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return se(s.integerValue)===se(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=se(s.doubleValue),d=se(l.doubleValue);return c===d?xu(c)===xu(d):isNaN(c)&&isNaN(d)}return!1}(a,t);case 9:return yo(a.arrayValue.values||[],t.arrayValue.values||[],yr);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(lE(c)!==lE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!yr(c[m],d[m])))return!1;return!0}(a,t);default:return dt(52216,{left:a})}}function Mu(a,t){return(a.values||[]).find(e=>yr(e,t))!==void 0}function Ki(a,t){if(a===t)return 0;const e=Gi(a),i=Gi(t);if(e!==i)return St(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,t.booleanValue);case 2:return function(l,c){const d=se(l.integerValue||l.doubleValue),m=se(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(a,t);case 3:return cE(a.timestampValue,t.timestampValue);case 4:return cE(Nu(a),Nu(t));case 5:return Cg(a.stringValue,t.stringValue);case 6:return function(l,c){const d=Jr(l),m=Jr(c);return d.compareTo(m)}(a.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=St(d[p],m[p]);if(_!==0)return _}return St(d.length,m.length)}(a.referenceValue,t.referenceValue);case 8:return function(l,c){const d=St(se(l.latitude),se(c.latitude));return d!==0?d:St(se(l.longitude),se(c.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return hE(a.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,_;const T=l.fields||{},S=c.fields||{},x=(d=T[Ao])===null||d===void 0?void 0:d.arrayValue,C=(m=S[Ao])===null||m===void 0?void 0:m.arrayValue,K=St(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return K!==0?K:hE(x,C)}(a.mapValue,t.mapValue);case 11:return function(l,c){if(l===Li.mapValue&&c===Li.mapValue)return 0;if(l===Li.mapValue)return 1;if(c===Li.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const S=Cg(m[T],_[T]);if(S!==0)return S;const x=Ki(d[m[T]],p[_[T]]);if(x!==0)return x}return St(m.length,_.length)}(a.mapValue,t.mapValue);default:throw dt(23264,{Pe:e})}}function cE(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return St(a,t);const e=Zr(a),i=Zr(t),s=St(e.seconds,i.seconds);return s!==0?s:St(e.nanos,i.nanos)}function hE(a,t){const e=a.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const l=Ki(e[s],i[s]);if(l)return l}return St(e.length,i.length)}function So(a){return kg(a)}function kg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(e){const i=Zr(e);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(e){return Jr(e).toBase64()}(a.bytesValue):"referenceValue"in a?function(e){return ht.fromName(e).toString()}(a.referenceValue):"geoPointValue"in a?function(e){return`geo(${e.latitude},${e.longitude})`}(a.geoPointValue):"arrayValue"in a?function(e){let i="[",s=!0;for(const l of e.values||[])s?s=!1:i+=",",i+=kg(l);return i+"]"}(a.arrayValue):"mapValue"in a?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${kg(e.fields[c])}`;return s+"}"}(a.mapValue):dt(61005,{value:a})}function zh(a){switch(Gi(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cf(a);return t?16+zh(t):16;case 5:return 2*a.stringValue.length;case 6:return Jr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+zh(l),0)}(a.arrayValue);case 10:case 11:return function(i){let s=0;return Ji(i.fields,(l,c)=>{s+=l.length+zh(c)}),s}(a.mapValue);default:throw dt(13486,{value:a})}}function Pu(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Lg(a){return!!a&&"integerValue"in a}function ku(a){return!!a&&"arrayValue"in a}function fE(a){return!!a&&"nullValue"in a}function dE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Bh(a){return!!a&&"mapValue"in a}function Vf(a){var t,e;return((e=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ap])===null||e===void 0?void 0:e.stringValue)===Sp}function yu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Ji(a.mapValue.fields,(e,i)=>t.mapValue.fields[e]=yu(i)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(a.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(a.arrayValue.values[e]);return t}return Object.assign({},a)}function zb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ub}const Bb={mapValue:{fields:{[Ap]:{stringValue:Sp},[Ao]:{arrayValue:{}}}}};function _x(a){return"nullValue"in a?Uh:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Pu(ts.empty(),ht.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Vf(a)?Bb:{mapValue:{}}:dt(35942,{value:a})}function vx(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Pu(ts.empty(),ht.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Bb:"mapValue"in a?Vf(a)?{mapValue:{}}:Li:dt(61959,{value:a})}function mE(a,t){const e=Ki(a.value,t.value);return e!==0?e:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function gE(a,t){const e=Ki(a.value,t.value);return e!==0?e:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.value=t}static empty(){return new We({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=le.emptyPath(),i={},s=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,i,s),i={},s=[],e=d.popLast()}c?i[d.lastSegment()]=yu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,s)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return yr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Bh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Ji(e,(s,l)=>t[s]=l);for(const s of i)delete t[s]}clone(){return new We(yu(this.value))}}function jb(a){const t=[];return Ji(a.fields,(e,i)=>{const s=new le([e]);if(Bh(i)){const l=jb(i.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)}),new dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e,i,s,l,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ge(t,0,Et.min(),Et.min(),Et.min(),We.empty(),0)}static newFoundDocument(t,e,i,s){return new ge(t,1,e,Et.min(),i,s,0)}static newNoDocument(t,e){return new ge(t,2,e,Et.min(),Et.min(),We.empty(),0)}static newUnknownDocument(t,e){return new ge(t,3,e,Et.min(),Et.min(),We.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,e){this.position=t,this.inclusive=e}}function pE(a,t,e){let i=0;for(let s=0;s<a.position.length;s++){const l=t[s],c=a.position[s];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(c.referenceValue),e.key):i=Ki(c,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function yE(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let e=0;e<a.position.length;e++)if(!yr(a.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ex(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{}class Mt extends qb{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Tx(t,e,i):e==="array-contains"?new Sx(t,i):e==="in"?new $b(t,i):e==="not-in"?new wx(t,i):e==="array-contains-any"?new Rx(t,i):new Mt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new bx(t,i):new Ax(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ki(e,this.value)):e!==null&&Gi(this.value)===Gi(e)&&this.matchesComparison(Ki(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends qb{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new $t(t,e)}matches(t){return Ro(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ro(a){return a.op==="and"}function Ug(a){return a.op==="or"}function wp(a){return Fb(a)&&Ro(a)}function Fb(a){for(const t of a.filters)if(t instanceof $t)return!1;return!0}function zg(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+So(a.value);if(wp(a))return a.filters.map(t=>zg(t)).join(",");{const t=a.filters.map(e=>zg(e)).join(",");return`${a.op}(${t})`}}function Hb(a,t){return a instanceof Mt?function(i,s){return s instanceof Mt&&i.op===s.op&&i.field.isEqual(s.field)&&yr(i.value,s.value)}(a,t):a instanceof $t?function(i,s){return s instanceof $t&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&Hb(c,s.filters[d]),!0):!1}(a,t):void dt(19439)}function Gb(a,t){const e=a.filters.concat(t);return $t.create(e,a.op)}function Kb(a){return a instanceof Mt?function(e){return`${e.field.canonicalString()} ${e.op} ${So(e.value)}`}(a):a instanceof $t?function(e){return e.op.toString()+" {"+e.getFilters().map(Kb).join(" ,")+"}"}(a):"Filter"}class Tx extends Mt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class bx extends Mt{constructor(t,e){super(t,"in",e),this.keys=Qb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ax extends Mt{constructor(t,e){super(t,"not-in",e),this.keys=Qb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Qb(a,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>ht.fromName(i.referenceValue))}class Sx extends Mt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ku(e)&&Mu(e.arrayValue,this.value)}}class $b extends Mt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Mu(this.value.arrayValue,e)}}class wx extends Mt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Mu(this.value.arrayValue,e)}}class Rx extends Mt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ku(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t,e=null,i=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function Bg(a,t=null,e=[],i=[],s=null,l=null,c=null){return new Ix(a,t,e,i,s,l,c)}function es(a){const t=gt(a);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>zg(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Rf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>So(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>So(i)).join(",")),t.Ie=e}return t.Ie}function Ku(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<a.orderBy.length;e++)if(!Ex(a.orderBy[e],t.orderBy[e]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let e=0;e<a.filters.length;e++)if(!Hb(a.filters[e],t.filters[e]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!yE(a.startAt,t.startAt)&&yE(a.endAt,t.endAt)}function sf(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function of(a,t){return a.filters.filter(e=>e instanceof Mt&&e.field.isEqual(t))}function _E(a,t,e){let i=Uh,s=!0;for(const l of of(a,t)){let c=Uh,d=!0;switch(l.op){case"<":case"<=":c=_x(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Uh}mE({value:i,inclusive:s},{value:c,inclusive:d})<0&&(i=c,s=d)}if(e!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=e.position[l];mE({value:i,inclusive:s},{value:c,inclusive:e.inclusive})<0&&(i=c,s=e.inclusive);break}}return{value:i,inclusive:s}}function vE(a,t,e){let i=Li,s=!0;for(const l of of(a,t)){let c=Li,d=!0;switch(l.op){case">=":case">":c=vx(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=Li}gE({value:i,inclusive:s},{value:c,inclusive:d})>0&&(i=c,s=d)}if(e!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=e.position[l];gE({value:i,inclusive:s},{value:c,inclusive:e.inclusive})>0&&(i=c,s=e.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,e=null,i=[],s=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yb(a,t,e,i,s,l,c,d){return new jo(a,t,e,i,s,l,c,d)}function Nf(a){return new jo(a)}function EE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Xb(a){return a.collectionGroup!==null}function _u(a){const t=gt(a);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(le.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Lu(l,i))}),e.has(le.keyField().canonicalString())||t.Ee.push(new Lu(le.keyField(),i))}return t.Ee}function Rn(a){const t=gt(a);return t.de||(t.de=xx(t,_u(a))),t.de}function xx(a,t){if(a.limitType==="F")return Bg(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Lu(s.field,l)});const e=a.endAt?new wo(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new wo(a.startAt.position,a.startAt.inclusive):null;return Bg(a.path,a.collectionGroup,t,a.filters,a.limit,e,i)}}function jg(a,t){const e=a.filters.concat([t]);return new jo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),e,a.limit,a.limitType,a.startAt,a.endAt)}function qg(a,t,e){return new jo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,e,a.startAt,a.endAt)}function Of(a,t){return Ku(Rn(a),Rn(t))&&a.limitType===t.limitType}function Zb(a){return`${es(Rn(a))}|lt:${a.limitType}`}function uo(a){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>Kb(s)).join(", ")}]`),Rf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>So(s)).join(",")),`Target(${i})`}(Rn(a))}; limitType=${a.limitType})`}function Qu(a,t){return t.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(a,t)&&function(i,s){for(const l of _u(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(a,t)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(a,t)&&function(i,s){return!(i.startAt&&!function(c,d,m){const p=pE(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,_u(i),s)||i.endAt&&!function(c,d,m){const p=pE(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,_u(i),s))}(a,t)}function Jb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Wb(a){return(t,e)=>{let i=!1;for(const s of _u(a)){const l=Dx(s,t,e);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function Dx(a,t,e){const i=a.field.isKeyField()?ht.comparator(t.key,e.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ki(m,p):dt(42886)}(a.field,t,e);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ji(this.inner,(e,i)=>{for(const[s,l]of i)t(s,l)})}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new re(ht.comparator);function wn(){return Cx}const tA=new re(ht.comparator);function cu(...a){let t=tA;for(const e of a)t=t.insert(e.key,e);return t}function eA(a){let t=tA;return a.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function mr(){return vu()}function nA(){return vu()}function vu(){return new ei(a=>a.toString(),(a,t)=>a.isEqual(t))}const Vx=new re(ht.comparator),Nx=new Yt(ht.comparator);function Dt(...a){let t=Nx;for(const e of a)t=t.add(e);return t}const Ox=new Yt(St);function Rp(){return Ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(t)?"-0":t}}function rA(a){return{integerValue:""+a}}function Mx(a,t){return bb(t)?rA(t):Ip(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function Px(a,t,e){return a instanceof Io?function(s,l){const c={fields:{[Pb]:{stringValue:Mb},[Lb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&bp(l)&&(l=Cf(l)),l&&(c.fields[kb]=l),{mapValue:c}}(e,t):a instanceof xo?aA(a,t):a instanceof Do?sA(a,t):function(s,l){const c=iA(s,l),d=TE(c)+TE(s.Re);return Lg(c)&&Lg(s.Re)?rA(d):Ip(s.serializer,d)}(a,t)}function kx(a,t,e){return a instanceof xo?aA(a,t):a instanceof Do?sA(a,t):e}function iA(a,t){return a instanceof Uu?function(i){return Lg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class Io extends Mf{}class xo extends Mf{constructor(t){super(),this.elements=t}}function aA(a,t){const e=oA(t);for(const i of a.elements)e.some(s=>yr(s,i))||e.push(i);return{arrayValue:{values:e}}}class Do extends Mf{constructor(t){super(),this.elements=t}}function sA(a,t){let e=oA(t);for(const i of a.elements)e=e.filter(s=>!yr(s,i));return{arrayValue:{values:e}}}class Uu extends Mf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function TE(a){return se(a.integerValue||a.doubleValue)}function oA(a){return ku(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,e){this.field=t,this.transform=e}}function Lx(a,t){return a.field.isEqual(t.field)&&function(i,s){return i instanceof xo&&s instanceof xo||i instanceof Do&&s instanceof Do?yo(i.elements,s.elements,yr):i instanceof Uu&&s instanceof Uu?yr(i.Re,s.Re):i instanceof Io&&s instanceof Io}(a.transform,t.transform)}class Ux{constructor(t,e){this.version=t,this.transformResults=e}}class on{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new on}static exists(t){return new on(void 0,t)}static updateTime(t){return new on(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Pf{}function uA(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new kf(a.key,on.none()):new qo(a.key,a.data,on.none());{const e=a.data,i=We.empty();let s=new Yt(le.comparator);for(let l of t.fields)if(!s.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new ni(a.key,i,new dn(s.toArray()),on.none())}}function zx(a,t,e){a instanceof qo?function(s,l,c){const d=s.value.clone(),m=AE(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(a,t,e):a instanceof ni?function(s,l,c){if(!jh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=AE(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(cA(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(a,t,e):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Eu(a,t,e,i){return a instanceof qo?function(l,c,d,m){if(!jh(l.precondition,c))return d;const p=l.value.clone(),_=SE(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(a,t,e,i):a instanceof ni?function(l,c,d,m){if(!jh(l.precondition,c))return d;const p=SE(l.fieldTransforms,m,c),_=c.data;return _.setAll(cA(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(a,t,e,i):function(l,c,d){return jh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(a,t,e)}function Bx(a,t){let e=null;for(const i of a.fieldTransforms){const s=t.data.field(i.field),l=iA(i.transform,s||null);l!=null&&(e===null&&(e=We.empty()),e.set(i.field,l))}return e||null}function bE(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&yo(i,s,(l,c)=>Lx(l,c))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class qo extends Pf{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ni extends Pf{constructor(t,e,i,s,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cA(a){const t=new Map;return a.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=a.data.field(e);t.set(e,i)}}),t}function AE(a,t,e){const i=new Map;yt(a.length===e.length,32656,{Ve:e.length,me:a.length});for(let s=0;s<e.length;s++){const l=a[s],c=l.transform,d=t.data.field(l.field);i.set(l.field,kx(c,d,e[s]))}return i}function SE(a,t,e){const i=new Map;for(const s of a){const l=s.transform,c=e.data.field(s.field);i.set(s.field,Px(l,c,t))}return i}class kf extends Pf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hA extends Pf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&zx(l,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Eu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Eu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=nA();return this.mutations.forEach(s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(s.key)?null:d;const m=uA(c,d);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Dt())}isEqual(t){return this.batchId===t.batchId&&yo(this.mutations,t.mutations,(e,i)=>bE(e,i))&&yo(this.baseMutations,t.baseMutations,(e,i)=>bE(e,i))}}class Dp{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){yt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return Vx}();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Dp(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ut;function qx(a){switch(a){case J.OK:return dt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function fA(a){if(a===void 0)return ve("GRPC error has no .code"),J.UNKNOWN;switch(a){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return dt(39323,{code:a})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Bi([4294967295,4294967295],0);function wE(a){const t=mb().encode(a),e=new sb;return e.update(t),new Uint8Array(e.digest())}function RE(a){const t=new DataView(a.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Bi([e,i],0),new Bi([s,l],0)]}class Vp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new hu(`Invalid padding: ${e}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new hu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Bi.fromNumber(this.pe)}we(t,e,i){let s=t.add(e.multiply(Bi.fromNumber(i)));return s.compare(Fx)===1&&(s=new Bi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=wE(t),[i,s]=RE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Vp(l,s,e);return i.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=wE(t),[i,s]=RE(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e,i,s,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Yu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new $u(Et.min(),s,new re(St),wn(),Dt())}}class Yu{constructor(t,e,i,s,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Yu(i,e,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,e,i,s){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=s}}class dA{constructor(t,e){this.targetId=t,this.Ce=e}}class mA{constructor(t,e,i=Ee.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class IE{constructor(){this.Fe=0,this.Me=xE(),this.xe=Ee.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Dt(),e=Dt(),i=Dt();return this.Me.forEach((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:dt(38017,{changeType:l})}}),new Yu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=xE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Hx{constructor(t){this.ze=t,this.je=new Map,this.He=wn(),this.Je=Rh(),this.Ye=Rh(),this.Ze=new re(St)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:dt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,i=t.Ce.count,s=this._t(e);if(s){const l=s.target;if(sf(l))if(i===0){const c=new ht(l.path);this.tt(e,c,ge.newNoDocument(c,Et.min()))}else yt(i===1,20013,{expectedCount:i});else{const c=this.ut(e);if(c!==i){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=e;let c,d;try{c=Jr(i).toUint8Array()}catch(m){if(m instanceof Ob)return po("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Vp(c,s,l)}catch(m){return po(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),s++)}),s}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&sf(d.target)){const m=new ht(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,ge.newNoDocument(m,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let i=Dt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const s=new $u(t,e,this.Ze,this.He,i);return this.He=wn(),this.Je=Rh(),this.Ye=Rh(),this.Ze=new re(St),s}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new IE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Yt(St),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Yt(St),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||rt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new IE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Rh(){return new re(ht.comparator)}function xE(){return new re(ht.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qx={and:"AND",or:"OR"};class $x{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Fg(a,t){return a.useProto3Json||Rf(t)?t:{value:t}}function Co(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gA(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Yx(a,t){return Co(a,t.toTimestamp())}function ln(a){return yt(!!a,49232),Et.fromTimestamp(function(e){const i=Zr(e);return new ce(i.seconds,i.nanos)}(a))}function Np(a,t){return Hg(a,t).canonicalString()}function Hg(a,t){const e=function(s){return new Ht(["projects",s.projectId,"databases",s.database])}(a).child("documents");return t===void 0?e:e.child(t)}function pA(a){const t=Ht.fromString(a);return yt(wA(t),10190,{key:t.toString()}),t}function lf(a,t){return Np(a.databaseId,t.path)}function Za(a,t){const e=pA(t);if(e.get(1)!==a.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+a.databaseId.projectId);if(e.get(3)!==a.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+a.databaseId.database);return new ht(vA(e))}function yA(a,t){return Np(a.databaseId,t)}function _A(a){const t=pA(a);return t.length===4?Ht.emptyPath():vA(t)}function Gg(a){return new Ht(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function vA(a){return yt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function DE(a,t,e){return{name:lf(a,t),fields:e.value.mapValue.fields}}function Xx(a,t,e){const i=Za(a,t.name),s=ln(t.updateTime),l=t.createTime?ln(t.createTime):Et.min(),c=new We({mapValue:{fields:t.fields}}),d=ge.newFoundDocument(i,s,l,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function Zx(a,t){let e;if("targetChange"in t){t.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(yt(_===void 0||typeof _=="string",58123),Ee.fromBase64String(_||"")):(yt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ee.fromUint8Array(_||new Uint8Array))}(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=p.code===void 0?J.UNKNOWN:fA(p.code);return new ot(_,p.message||"")}(c);e=new mA(i,s,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Za(a,i.document.name),l=ln(i.document.updateTime),c=i.document.createTime?ln(i.document.createTime):Et.min(),d=new We({mapValue:{fields:i.document.fields}}),m=ge.newFoundDocument(s,l,c,d),p=i.targetIds||[],_=i.removedTargetIds||[];e=new qh(p,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Za(a,i.document),l=i.readTime?ln(i.readTime):Et.min(),c=ge.newNoDocument(s,l),d=i.removedTargetIds||[];e=new qh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Za(a,i.document),l=i.removedTargetIds||[];e=new qh([],l,s,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new jx(s,l),d=i.targetId;e=new dA(d,c)}}return e}function uf(a,t){let e;if(t instanceof qo)e={update:DE(a,t.key,t.value)};else if(t instanceof kf)e={delete:lf(a,t.key)};else if(t instanceof ni)e={update:DE(a,t.key,t.data),updateMask:rD(t.fieldMask)};else{if(!(t instanceof hA))return dt(16599,{ft:t.type});e={verify:lf(a,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Io)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Do)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw dt(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:Yx(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)}(a,t.precondition)),e}function Kg(a,t){const e=t.currentDocument?function(l){return l.updateTime!==void 0?on.updateTime(ln(l.updateTime)):l.exists!==void 0?on.exists(l.exists):on.none()}(t.currentDocument):on.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(c,d){let m=null;if("setToServerValue"in d)yt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Io;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new xo(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new Do(_)}else"increment"in d?m=new Uu(c,d.increment):dt(16584,{proto:d});const p=le.fromServerFormat(d.fieldPath);return new lA(p,m)}(a,s)):[];if(t.update){t.update.name;const s=Za(a,t.update.name),l=new We({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=function(m){const p=m.fieldPaths||[];return new dn(p.map(_=>le.fromServerFormat(_)))}(t.updateMask);return new ni(s,l,c,e,i)}return new qo(s,l,e,i)}if(t.delete){const s=Za(a,t.delete);return new kf(s,e)}if(t.verify){const s=Za(a,t.verify);return new hA(s,e)}return dt(1463,{proto:t})}function Jx(a,t){return a&&a.length>0?(yt(t!==void 0,14353),a.map(e=>function(s,l){let c=s.updateTime?ln(s.updateTime):ln(l);return c.isEqual(Et.min())&&(c=ln(l)),new Ux(c,s.transformResults||[])}(e,t))):[]}function EA(a,t){return{documents:[yA(a,t.path)]}}function TA(a,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=yA(a,s);const l=function(p){if(p.length!==0)return SA($t.create(p,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(_=>function(S){return{field:co(S.field),direction:tD(S.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Fg(a,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:e,parent:s}}function bA(a){let t=_A(a.parent);const e=a.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){yt(i===1,65062);const _=e.from[0];_.allDescendants?s=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(T){const S=AA(T);return S instanceof $t&&wp(S)?S.getFilters():[S]}(e.where));let c=[];e.orderBy&&(c=function(T){return T.map(S=>function(C){return new Lu(ho(C.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Rf(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(T){const S=!!T.before,x=T.values||[];return new wo(x,S)}(e.startAt));let p=null;return e.endAt&&(p=function(T){const S=!T.before,x=T.values||[];return new wo(x,S)}(e.endAt)),Yb(t,s,c,l,d,"F",m,p)}function Wx(a,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function AA(a){return a.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ho(e.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(e.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ho(e.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ho(e.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(a):a.fieldFilter!==void 0?function(e){return Mt.create(ho(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(e){return $t.create(e.compositeFilter.filters.map(i=>AA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(e.compositeFilter.op))}(a):dt(30097,{filter:a})}function tD(a){return Gx[a]}function eD(a){return Kx[a]}function nD(a){return Qx[a]}function co(a){return{fieldPath:a.canonicalString()}}function ho(a){return le.fromServerFormat(a.fieldPath)}function SA(a){return a instanceof Mt?function(e){if(e.op==="=="){if(dE(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NAN"}};if(fE(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dE(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NAN"}};if(fE(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(e.field),op:eD(e.op),value:e.value}}}(a):a instanceof $t?function(e){const i=e.getFilters().map(s=>SA(s));return i.length===1?i[0]:{compositeFilter:{op:nD(e.op),filters:i}}}(a):dt(54877,{filter:a})}function rD(a){const t=[];return a.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wA(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,e,i,s,l=Et.min(),c=Et.min(),d=Ee.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.wt=t}}function iD(a,t){let e;if(t.document)e=Xx(a.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),s=rs(t.noDocument.readTime);e=ge.newNoDocument(i,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const i=ht.fromSegments(t.unknownDocument.path),s=rs(t.unknownDocument.version);e=ge.newUnknownDocument(i,s)}}return t.readTime&&e.setReadTime(function(s){const l=new ce(s[0],s[1]);return Et.fromTimestamp(l)}(t.readTime)),e}function CE(a,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:cf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(l,c){return{name:lf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Co(l,c.version.toTimestamp()),createTime:Co(l,c.createTime.toTimestamp())}}(a.wt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ns(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:ns(t.version)}}return i}function cf(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function ns(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rs(a){const t=new ce(a.seconds,a.nanoseconds);return Et.fromTimestamp(t)}function Fa(a,t){const e=(t.baseMutations||[]).map(l=>Kg(a.wt,l));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map(l=>Kg(a.wt,l)),s=ce.fromMillis(t.localWriteTimeMs);return new xp(t.batchId,s,e,i)}function fu(a){const t=rs(a.readTime),e=a.lastLimboFreeSnapshotVersion!==void 0?rs(a.lastLimboFreeSnapshotVersion):Et.min();let i;return i=function(l){return l.documents!==void 0}(a.query)?function(l){const c=l.documents.length;return yt(c===1,1966,{count:c}),Rn(Nf(_A(l.documents[0])))}(a.query):function(l){return Rn(bA(l))}(a.query),new Kr(i,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,e,Ee.fromBase64String(a.resumeToken))}function IA(a,t){const e=ns(t.snapshotVersion),i=ns(t.lastLimboFreeSnapshotVersion);let s;s=sf(t.target)?EA(a.wt,t.target):TA(a.wt,t.target).gt;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:es(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function xA(a){const t=bA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qg(t,t.limit,"L"):t}function ug(a,t){return new Cp(t.largestBatchId,Kg(a.wt,t.overlayMutation))}function VE(a,t){const e=t.path.lastSegment();return[a,tn(t.path.popLast()),e]}function NE(a,t,e,i){return{indexId:a,uid:t,sequenceNumber:e,readTime:ns(i.readTime),documentKey:tn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{getBundleMetadata(t,e){return OE(t).get(e).next(i=>{if(i)return function(l){return{id:l.bundleId,createTime:rs(l.createTime),version:l.version}}(i)})}saveBundleMetadata(t,e){return OE(t).put(function(s){return{bundleId:s.id,createTime:ns(ln(s.createTime)),version:s.version}}(e))}getNamedQuery(t,e){return ME(t).get(e).next(i=>{if(i)return function(l){return{name:l.name,query:xA(l.bundledQuery),readTime:rs(l.readTime)}}(i)})}saveNamedQuery(t,e){return ME(t).put(function(s){return{name:s.name,readTime:ns(ln(s.readTime)),bundledQuery:s.bundledQuery}}(e))}}function OE(a){return Ve(a,If)}function ME(a){return Ve(a,xf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e){this.serializer=t,this.userId=e}static bt(t,e){const i=e.uid||"";return new Lf(t,i)}getOverlay(t,e){return iu(t).get(VE(this.userId,e)).next(i=>i?ug(this.serializer,i):null)}getOverlays(t,e){const i=mr();return B.forEach(e,s=>this.getOverlay(t,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((l,c)=>{const d=new Cp(e,c);s.push(this.St(t,d))}),B.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(c=>s.add(tn(c.getCollectionPath())));const l=[];return s.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(iu(t).X(Mg,d))}),B.waitFor(l)}getOverlaysForCollection(t,e,i){const s=mr(),l=tn(e),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return iu(t).J(Mg,c).next(d=>{for(const m of d){const p=ug(this.serializer,m);s.set(p.getKey(),p)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const l=mr();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return iu(t).te({index:xb,range:d},(m,p,_)=>{const T=ug(this.serializer,p);l.size()<s||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()}).next(()=>l)}St(t,e){return iu(t).put(function(s,l,c){const[d,m,p]=VE(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:uf(s.wt,c.mutation)}}(this.serializer,this.userId,e))}}function iu(a){return Ve(a,Df)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{Dt(t){return Ve(t,Ep)}getSessionToken(t){return this.Dt(t).get("sessionToken").next(e=>{const i=e==null?void 0:e.value;return i?Ee.fromUint8Array(i):Ee.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Dt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){}vt(t,e){this.Ct(t,e),e.Ft()}Ct(t,e){if("nullValue"in t)this.Mt(e,5);else if("booleanValue"in t)this.Mt(e,10),e.xt(t.booleanValue?1:0);else if("integerValue"in t)this.Mt(e,15),e.xt(se(t.integerValue));else if("doubleValue"in t){const i=se(t.doubleValue);isNaN(i)?this.Mt(e,13):(this.Mt(e,15),xu(i)?e.xt(0):e.xt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Mt(e,20),typeof i=="string"&&(i=Zr(i)),e.Ot(`${i.seconds||""}`),e.xt(i.nanos||0)}else if("stringValue"in t)this.Nt(t.stringValue,e),this.Bt(e);else if("bytesValue"in t)this.Mt(e,30),e.Lt(Jr(t.bytesValue)),this.Bt(e);else if("referenceValue"in t)this.kt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Mt(e,45),e.xt(i.latitude||0),e.xt(i.longitude||0)}else"mapValue"in t?zb(t)?this.Mt(e,Number.MAX_SAFE_INTEGER):Vf(t)?this.qt(t.mapValue,e):(this.Qt(t.mapValue,e),this.Bt(e)):"arrayValue"in t?(this.$t(t.arrayValue,e),this.Bt(e)):dt(19022,{Ut:t})}Nt(t,e){this.Mt(e,25),this.Kt(t,e)}Kt(t,e){e.Ot(t)}Qt(t,e){const i=t.fields||{};this.Mt(e,55);for(const s of Object.keys(i))this.Nt(s,e),this.Ct(i[s],e)}qt(t,e){var i,s;const l=t.fields||{};this.Mt(e,53);const c=Ao,d=((s=(i=l[c].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.Mt(e,15),e.xt(se(d)),this.Nt(c,e),this.Ct(l[c],e)}$t(t,e){const i=t.values||[];this.Mt(e,50);for(const s of i)this.Ct(s,e)}kt(t,e){this.Mt(e,37),ht.fromName(t).path.forEach(i=>{this.Mt(e,60),this.Kt(i,e)})}Mt(t,e){t.xt(e)}Bt(t){t.xt(2)}}Ha.Wt=new Ha;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=255;function oD(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function PE(a){const t=64-function(i){let s=0;for(let l=0;l<8;++l){const c=oD(255&i[l]);if(s+=c,c!==8)break}return s}(a);return Math.ceil(t/8)}class lD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.zt(i.value),i=e.next();this.jt()}Ht(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Jt(i.value),i=e.next();this.Yt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.zt(i);else if(i<2048)this.zt(960|i>>>6),this.zt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.zt(480|i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i);else{const s=e.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const s=e.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(t){const e=this.tn(t),i=PE(e);this.nn(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}rn(t){const e=this.tn(t),i=PE(e);this.nn(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}sn(){this._n(ro),this._n(255)}an(){this.un(ro),this.un(255)}reset(){this.position=0}seed(t){this.nn(t.length),this.buffer.set(t,this.position),this.position+=t.length}cn(){return this.buffer.slice(0,this.position)}tn(t){const e=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}zt(t){const e=255&t;e===0?(this._n(0),this._n(255)):e===ro?(this._n(ro),this._n(0)):this._n(e)}Jt(t){const e=255&t;e===0?(this.un(0),this.un(255)):e===ro?(this.un(ro),this.un(0)):this.un(t)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(t){this.nn(1),this.buffer[this.position++]=t}un(t){this.nn(1),this.buffer[this.position++]=~t}nn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class uD{constructor(t){this.ln=t}Lt(t){this.ln.Gt(t)}Ot(t){this.ln.Zt(t)}xt(t){this.ln.en(t)}Ft(){this.ln.sn()}}class cD{constructor(t){this.ln=t}Lt(t){this.ln.Ht(t)}Ot(t){this.ln.Xt(t)}xt(t){this.ln.rn(t)}Ft(){this.ln.an()}}class au{constructor(){this.ln=new lD,this.hn=new uD(this.ln),this.Pn=new cD(this.ln)}seed(t){this.ln.seed(t)}Tn(t){return t===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,e,i,s){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=s}In(){const t=this.directionalValue.length,e=t===0||this.directionalValue[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Ga(this.indexId,this.documentKey,this.arrayValue,i)}}function Ni(a,t){let e=a.indexId-t.indexId;return e!==0?e:(e=kE(a.arrayValue,t.arrayValue),e!==0?e:(e=kE(a.directionalValue,t.directionalValue),e!==0?e:ht.comparator(a.documentKey,t.documentKey)))}function kE(a,t){for(let e=0;e<a.length&&e<t.length;++e){const i=a[e]-t[e];if(i!==0)return i}return a.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.En=new Yt((e,i)=>le.comparator(e.field,i.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.An=[];for(const e of t.filters){const i=e;i.isInequality()?this.En=this.En.add(i):this.An.push(i)}}get Rn(){return this.En.size>1}Vn(t){if(yt(t.collectionGroup===this.collectionId,49279),this.Rn)return!1;const e=Vg(t);if(e!==void 0&&!this.mn(e))return!1;const i=Ba(t);let s=new Set,l=0,c=0;for(;l<i.length&&this.mn(i[l]);++l)s=s.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.En.size>0){const d=this.En.getIterator().getNext();if(!s.has(d.field.canonicalString())){const m=i[l];if(!this.fn(d,m)||!this.gn(this.dn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.dn.length||!this.gn(this.dn[c++],d))return!1}return!0}pn(){if(this.Rn)return null;let t=new Yt(le.comparator);const e=[];for(const i of this.An)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Ph(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Ph(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Ph(i.field,i.dir==="asc"?0:1)));return new Wh(Wh.UNKNOWN_ID,this.collectionId,e,Iu.empty())}mn(t){for(const e of this.An)if(this.fn(e,t))return!0;return!1}fn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}gn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(a){var t,e;if(yt(a instanceof Mt||a instanceof $t,20012),a instanceof Mt){if(a instanceof $b){const s=((e=(t=a.value.arrayValue)===null||t===void 0?void 0:t.values)===null||e===void 0?void 0:e.map(l=>Mt.create(a.field,"==",l)))||[];return $t.create(s,"or")}return a}const i=a.filters.map(s=>DA(s));return $t.create(i,a.op)}function hD(a){if(a.getFilters().length===0)return[];const t=Yg(DA(a));return yt(CA(t),7391),Qg(t)||$g(t)?[t]:t.getFilters()}function Qg(a){return a instanceof Mt}function $g(a){return a instanceof $t&&wp(a)}function CA(a){return Qg(a)||$g(a)||function(e){if(e instanceof $t&&Ug(e)){for(const i of e.getFilters())if(!Qg(i)&&!$g(i))return!1;return!0}return!1}(a)}function Yg(a){if(yt(a instanceof Mt||a instanceof $t,34018),a instanceof Mt)return a;if(a.filters.length===1)return Yg(a.filters[0]);const t=a.filters.map(i=>Yg(i));let e=$t.create(t,a.op);return e=hf(e),CA(e)?e:(yt(e instanceof $t,64498),yt(Ro(e),40251),yt(e.filters.length>1,57927),e.filters.reduce((i,s)=>Op(i,s)))}function Op(a,t){let e;return yt(a instanceof Mt||a instanceof $t,38388),yt(t instanceof Mt||t instanceof $t,25473),e=a instanceof Mt?t instanceof Mt?function(s,l){return $t.create([s,l],"and")}(a,t):UE(a,t):t instanceof Mt?UE(t,a):function(s,l){if(yt(s.filters.length>0&&l.filters.length>0,48005),Ro(s)&&Ro(l))return Gb(s,l.getFilters());const c=Ug(s)?s:l,d=Ug(s)?l:s,m=c.filters.map(p=>Op(p,d));return $t.create(m,"or")}(a,t),hf(e)}function UE(a,t){if(Ro(t))return Gb(t,a.getFilters());{const e=t.filters.map(i=>Op(a,i));return $t.create(e,"or")}}function hf(a){if(yt(a instanceof Mt||a instanceof $t,11850),a instanceof Mt)return a;const t=a.getFilters();if(t.length===1)return hf(t[0]);if(Fb(a))return a;const e=t.map(s=>hf(s)),i=[];return e.forEach(s=>{s instanceof Mt?i.push(s):s instanceof $t&&(s.op===a.op?i.push(...s.filters):i.push(s))}),i.length===1?i[0]:$t.create(i,a.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.yn=new Mp}addToCollectionParentIndex(t,e){return this.yn.add(e),B.resolve()}getCollectionParents(t,e){return B.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return B.resolve()}deleteFieldIndex(t,e){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,e){return B.resolve()}getDocumentsMatchingTarget(t,e){return B.resolve(null)}getIndexType(t,e){return B.resolve(0)}getFieldIndexes(t,e){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,e){return B.resolve(In.min())}getMinOffsetFromCollectionGroup(t,e){return B.resolve(In.min())}updateCollectionGroup(t,e,i){return B.resolve()}updateIndexEntries(t,e){return B.resolve()}}class Mp{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Yt(Ht.comparator),l=!s.has(i);return this.index[e]=s.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Yt(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="IndexedDbIndexManager",Ih=new Uint8Array(0);class dD{constructor(t,e){this.databaseId=e,this.wn=new Mp,this.bn=new ei(i=>es(i),(i,s)=>Ku(i,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.wn.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.wn.add(e)});const l={collectionId:i,parent:tn(s)};return BE(t).put(l)}return B.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[pb(e),""],!1,!0);return BE(t).J(s).next(l=>{for(const c of l){if(c.collectionId!==e)break;i.push(dr(c.parent))}return i})}addFieldIndex(t,e){const i=su(t),s=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(e);delete s.indexId;const l=i.add(s);if(e.indexState){const c=ao(t);return l.next(d=>{c.put(NE(d,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const i=su(t),s=ao(t),l=io(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=su(t),i=io(t),s=ao(t);return e.X().next(()=>i.X()).next(()=>s.X())}createTargetIndexes(t,e){return B.forEach(this.Sn(e),i=>this.getIndexType(t,i).next(s=>{if(s===0||s===1){const l=new LE(i).pn();if(l!=null)return this.addFieldIndex(t,l)}}))}getDocumentsMatchingTarget(t,e){const i=io(t);let s=!0;const l=new Map;return B.forEach(this.Sn(e),c=>this.Dn(t,c).next(d=>{s&&(s=!!d),l.set(c,d)})).next(()=>{if(s){let c=Dt();const d=[];return B.forEach(l,(m,p)=>{rt(zE,`Using index ${function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`}(m)} to execute ${es(e)}`);const _=function(Y,ft){const at=Vg(ft);if(at===void 0)return null;for(const pt of of(Y,at.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(p,m),T=function(Y,ft){const at=new Map;for(const pt of Ba(ft))for(const V of of(Y,pt.fieldPath))switch(V.op){case"==":case"in":at.set(pt.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return at.set(pt.fieldPath.canonicalString(),V.value),Array.from(at.values())}return null}(p,m),S=function(Y,ft){const at=[];let pt=!0;for(const V of Ba(ft)){const w=V.kind===0?_E(Y,V.fieldPath,Y.startAt):vE(Y,V.fieldPath,Y.startAt);at.push(w.value),pt&&(pt=w.inclusive)}return new wo(at,pt)}(p,m),x=function(Y,ft){const at=[];let pt=!0;for(const V of Ba(ft)){const w=V.kind===0?vE(Y,V.fieldPath,Y.endAt):_E(Y,V.fieldPath,Y.endAt);at.push(w.value),pt&&(pt=w.inclusive)}return new wo(at,pt)}(p,m),C=this.vn(m,p,S),K=this.vn(m,p,x),L=this.Cn(m,p,T),Q=this.Fn(m.indexId,_,C,S.inclusive,K,x.inclusive,L);return B.forEach(Q,et=>i.Z(et,e.limit).next(Y=>{Y.forEach(ft=>{const at=ht.fromSegments(ft.documentKey);c.has(at)||(c=c.add(at),d.push(at))})}))}).next(()=>d)}return B.resolve(null)})}Sn(t){let e=this.bn.get(t);return e||(t.filters.length===0?e=[t]:e=hD($t.create(t.filters,"and")).map(i=>Bg(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.bn.set(t,e),e)}Fn(t,e,i,s,l,c,d){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),p=m/(e!=null?e.length:1),_=[];for(let T=0;T<m;++T){const S=e?this.Mn(e[T/p]):Ih,x=this.xn(t,S,i[T%p],s),C=this.On(t,S,l[T%p],c),K=d.map(L=>this.xn(t,S,L,!0));_.push(...this.createRange(x,C,K))}return _}xn(t,e,i,s){const l=new Ga(t,ht.empty(),e,i);return s?l:l.In()}On(t,e,i,s){const l=new Ga(t,ht.empty(),e,i);return s?l.In():l}Dn(t,e){const i=new LE(e),s=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(l=>{let c=null;for(const d of l)i.Vn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;const s=this.Sn(e);return B.forEach(s,l=>this.Dn(t,l).next(c=>{c?i!==0&&c.fields.length<function(m){let p=new Yt(le.comparator),_=!1;for(const T of m.filters)for(const S of T.getFlattenedFilters())S.field.isKeyField()||(S.op==="array-contains"||S.op==="array-contains-any"?_=!0:p=p.add(S.field));for(const T of m.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(_?1:0)}(l)&&(i=1):i=0})).next(()=>function(c){return c.limit!==null}(e)&&s.length>1&&i===2?1:i)}Nn(t,e){const i=new au;for(const s of Ba(t)){const l=e.data.field(s.fieldPath);if(l==null)return null;const c=i.Tn(s.kind);Ha.Wt.vt(l,c)}return i.cn()}Mn(t){const e=new au;return Ha.Wt.vt(t,e.Tn(0)),e.cn()}Bn(t,e){const i=new au;return Ha.Wt.vt(Pu(this.databaseId,e),i.Tn(function(l){const c=Ba(l);return c.length===0?0:c[c.length-1].kind}(t))),i.cn()}Cn(t,e,i){if(i===null)return[];let s=[];s.push(new au);let l=0;for(const c of Ba(t)){const d=i[l++];for(const m of s)if(this.Ln(e,c.fieldPath)&&ku(d))s=this.kn(s,c,d);else{const p=m.Tn(c.kind);Ha.Wt.vt(d,p)}}return this.qn(s)}vn(t,e,i){return this.Cn(t,e,i.position)}qn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].cn();return e}kn(t,e,i){const s=[...t],l=[];for(const c of i.arrayValue.values||[])for(const d of s){const m=new au;m.seed(d.cn()),Ha.Wt.vt(c,m.Tn(e.kind)),l.push(m)}return l}Ln(t,e){return!!t.filters.find(i=>i instanceof Mt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(t,e){const i=su(t),s=ao(t);return(e?i.J(Og,IDBKeyRange.bound(e,e)):i.J()).next(l=>{const c=[];return B.forEach(l,d=>s.get([d.indexId,this.uid]).next(m=>{c.push(function(_,T){const S=T?new Iu(T.sequenceNumber,new In(rs(T.readTime),new ht(dr(T.documentKey)),T.largestBatchId)):Iu.empty(),x=_.fields.map(([C,K])=>new Ph(le.fromServerFormat(C),K));return new Wh(_.indexId,_.collectionGroup,x,S)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>e.length===0?null:(e.sort((i,s)=>{const l=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return l!==0?l:St(i.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=su(t),l=ao(t);return this.Qn(t).next(c=>s.J(Og,IDBKeyRange.bound(e,e)).next(d=>B.forEach(d,m=>l.put(NE(m.indexId,this.uid,c,i)))))}updateIndexEntries(t,e){const i=new Map;return B.forEach(e,(s,l)=>{const c=i.get(s.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(t,s.collectionGroup)).next(d=>(i.set(s.collectionGroup,d),B.forEach(d,m=>this.$n(t,s,m).next(p=>{const _=this.Un(l,m);return p.isEqual(_)?B.resolve():this.Kn(t,l,m,p,_)}))))})}Wn(t,e,i,s){return io(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Bn(i,e.key),documentKey:e.key.path.toArray()})}Gn(t,e,i,s){return io(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Bn(i,e.key),e.key.path.toArray()])}$n(t,e,i){const s=io(t);let l=new Yt(Ni);return s.te({index:Ib,range:IDBKeyRange.only([i.indexId,this.uid,this.Bn(i,e)])},(c,d)=>{l=l.add(new Ga(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>l)}Un(t,e){let i=new Yt(Ni);const s=this.Nn(e,t);if(s==null)return i;const l=Vg(e);if(l!=null){const c=t.data.field(l.fieldPath);if(ku(c))for(const d of c.arrayValue.values||[])i=i.add(new Ga(e.indexId,t.key,this.Mn(d),s))}else i=i.add(new Ga(e.indexId,t.key,Ih,s));return i}Kn(t,e,i,s,l){rt(zE,"Updating index entries for document '%s'",e.key);const c=[];return function(m,p,_,T,S){const x=m.getIterator(),C=p.getIterator();let K=no(x),L=no(C);for(;K||L;){let Q=!1,et=!1;if(K&&L){const Y=_(K,L);Y<0?et=!0:Y>0&&(Q=!0)}else K!=null?et=!0:Q=!0;Q?(T(L),L=no(C)):et?(S(K),K=no(x)):(K=no(x),L=no(C))}}(s,l,Ni,d=>{c.push(this.Wn(t,e,i,d))},d=>{c.push(this.Gn(t,e,i,d))}),B.waitFor(c)}Qn(t){let e=1;return ao(t).te({index:Rb,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,l)=>{l.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Ni(c,d)).filter((c,d,m)=>!d||Ni(c,m[d-1])!==0);const s=[];s.push(t);for(const c of i){const d=Ni(c,t),m=Ni(c,e);if(d===0)s[0]=t.In();else if(d>0&&m<0)s.push(c),s.push(c.In());else if(m>0)break}s.push(e);const l=[];for(let c=0;c<s.length;c+=2){if(this.zn(s[c],s[c+1]))return[];const d=[s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,Ih,[]],m=[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,Ih,[]];l.push(IDBKeyRange.bound(d,m))}return l}zn(t,e){return Ni(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(jE)}getMinOffset(t,e){return B.mapArray(this.Sn(e),i=>this.Dn(t,i).next(s=>s||dt(44426))).next(jE)}}function BE(a){return Ve(a,Vu)}function io(a){return Ve(a,af)}function su(a){return Ve(a,vp)}function ao(a){return Ve(a,rf)}function jE(a){yt(a.length!==0,28825);let t=a[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<a.length;i++){const s=a[i].indexState.offset;pp(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new In(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VA=41943040;class Je{static withCacheSize(t){return new Je(t,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(a,t,e){const i=a.store(Qn),s=a.store(vo),l=[],c=IDBKeyRange.only(e.batchId);let d=0;const m=i.te({range:c},(_,T,S)=>(d++,S.delete()));l.push(m.next(()=>{yt(d===1,47070,{batchId:e.batchId})}));const p=[];for(const _ of e.mutations){const T=Ab(t,_.key.path,e.batchId);l.push(s.delete(T)),p.push(_.key)}return B.waitFor(l).next(()=>p)}function ff(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw dt(14731);t=a.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(VA,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);class Uf{constructor(t,e,i,s){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=s,this.jn={}}static bt(t,e,i,s){yt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Uf(l,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oi(t).te({index:Ka,range:i},(s,l,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const l=fo(t),c=Oi(t);return c.add({}).next(d=>{yt(typeof d=="number",49019);const m=new xp(d,e,i,s),p=function(x,C,K){const L=K.baseMutations.map(et=>uf(x.wt,et)),Q=K.mutations.map(et=>uf(x.wt,et));return{userId:C,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:L,mutations:Q}}(this.serializer,this.userId,m),_=[];let T=new Yt((S,x)=>St(S.canonicalString(),x.canonicalString()));for(const S of s){const x=Ab(this.userId,S.key.path,d);T=T.add(S.key.path.popLast()),_.push(c.put(p)),_.push(l.put(x,K2))}return T.forEach(S=>{_.push(this.indexManager.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(()=>{this.jn[d]=m.keys()}),B.waitFor(_).next(()=>m)})}lookupMutationBatch(t,e){return Oi(t).get(e).next(i=>i?(yt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Fa(this.serializer,i)):null)}Hn(t,e){return this.jn[e]?B.resolve(this.jn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.jn[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Oi(t).te({index:Ka,range:s},(c,d,m)=>{d.userId===this.userId&&(yt(d.batchId>=i,47524,{Jn:i}),l=Fa(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ya;return Oi(t).te({index:Ka,range:e,reverse:!0},(s,l,c)=>{i=l.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ya],[this.userId,Number.POSITIVE_INFINITY]);return Oi(t).J(Ka,e).next(i=>i.map(s=>Fa(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=kh(this.userId,e.path),s=IDBKeyRange.lowerBound(i),l=[];return fo(t).te({range:s},(c,d,m)=>{const[p,_,T]=c,S=dr(_);if(p===this.userId&&e.path.isEqual(S))return Oi(t).get(T).next(x=>{if(!x)throw dt(61480,{Yn:c,batchId:T});yt(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:T}),l.push(Fa(this.serializer,x))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yt(St);const s=[];return e.forEach(l=>{const c=kh(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=fo(t).te({range:d},(p,_,T)=>{const[S,x,C]=p,K=dr(x);S===this.userId&&l.path.isEqual(K)?i=i.add(C):T.done()});s.push(m)}),B.waitFor(s).next(()=>this.Zn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,l=kh(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new Yt(St);return fo(t).te({range:c},(m,p,_)=>{const[T,S,x]=m,C=dr(S);T===this.userId&&i.isPrefixOf(C)?C.length===s&&(d=d.add(x)):_.done()}).next(()=>this.Zn(t,d))}Zn(t,e){const i=[],s=[];return e.forEach(l=>{s.push(Oi(t).get(l).next(c=>{if(c===null)throw dt(35274,{batchId:l});yt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(Fa(this.serializer,c))}))}),B.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return NA(t.he,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Xn(e.batchId)}),B.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}Xn(t){delete this.jn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return B.resolve();const i=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),s=[];return fo(t).te({range:i},(l,c,d)=>{if(l[0]===this.userId){const m=dr(l[1]);s.push(m)}else d.done()}).next(()=>{yt(s.length===0,56720,{er:s.map(l=>l.canonicalString())})})})}containsKey(t,e){return OA(t,this.userId,e)}tr(t){return MA(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ya,lastStreamToken:""})}}function OA(a,t,e){const i=kh(t,e.path),s=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return fo(a).te({range:l,ee:!0},(d,m,p)=>{const[_,T,S]=d;_===t&&T===s&&(c=!0),p.done()}).next(()=>c)}function Oi(a){return Ve(a,Qn)}function fo(a){return Ve(a,vo)}function MA(a){return Ve(a,Du)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new is(0)}static ir(){return new is(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.sr(t).next(e=>{const i=new is(e.highestTargetId);return e.highestTargetId=i.next(),this._r(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.sr(t).next(e=>Et.fromTimestamp(new ce(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.sr(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.sr(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this._r(t,s)))}addTargetData(t,e){return this.ar(t,e).next(()=>this.sr(t).next(i=>(i.targetCount+=1,this.ur(e,i),this._r(t,i))))}updateTargetData(t,e){return this.ar(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>so(t).delete(e.targetId)).next(()=>this.sr(t)).next(i=>(yt(i.targetCount>0,8065),i.targetCount-=1,this._r(t,i)))}removeTargets(t,e,i){let s=0;const l=[];return so(t).te((c,d)=>{const m=fu(d);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(s++,l.push(this.removeTargetData(t,m)))}).next(()=>B.waitFor(l)).next(()=>s)}forEachTarget(t,e){return so(t).te((i,s)=>{const l=fu(s);e(l)})}sr(t){return FE(t).get(nf).next(e=>(yt(e!==null,2888),e))}_r(t,e){return FE(t).put(nf,e)}ar(t,e){return so(t).put(IA(this.serializer,e))}ur(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.sr(t).next(e=>e.targetCount)}getTargetData(t,e){const i=es(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return so(t).te({range:s,index:wb},(c,d,m)=>{const p=fu(d);Ku(e,p.target)&&(l=p,m.done())}).next(()=>l)}addMatchingKeys(t,e,i){const s=[],l=Pi(t);return e.forEach(c=>{const d=tn(c.path);s.push(l.put({targetId:i,path:d})),s.push(this.referenceDelegate.addReference(t,i,c))}),B.waitFor(s)}removeMatchingKeys(t,e,i){const s=Pi(t);return B.forEach(e,l=>{const c=tn(l.path);return B.waitFor([s.delete([i,c]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=Pi(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=Pi(t);let l=Dt();return s.te({range:i,ee:!0},(c,d,m)=>{const p=dr(c[1]),_=new ht(p);l=l.add(_)}).next(()=>l)}containsKey(t,e){const i=tn(e.path),s=IDBKeyRange.bound([i],[pb(i)],!1,!0);let l=0;return Pi(t).te({index:_p,ee:!0,range:s},([c,d],m,p)=>{c!==0&&(l++,p.done())}).next(()=>l>0)}Rt(t,e){return so(t).get(e).next(i=>i?fu(i):null)}}function so(a){return Ve(a,Eo)}function FE(a){return Ve(a,Xa)}function Pi(a){return Ve(a,To)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LruGarbageCollector",PA=1048576;function GE([a,t],[e,i]){const s=St(a,e);return s===0?St(t,i):s}class gD{constructor(t){this.cr=t,this.buffer=new Yt(GE),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();GE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kA{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){rt(HE,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zi(e)?rt(HE,"Ignoring IndexedDB error during garbage collection: ",e):await Xi(e)}await this.Ir(3e5)})}}class pD{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return B.resolve(fn.le);const i=new gD(e);return this.Er.forEachTarget(t,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(t,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(qE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,s,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(t,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(t,i,e))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(p=Date.now(),lo()<=zt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function LA(a,t){return new pD(a,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,e){this.db=t,this.garbageCollector=LA(this,e)}dr(t){const e=this.Vr(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ar(t,e){return this.mr(t,(i,s)=>e(s))}addReference(t,e,i){return xh(t,i)}removeReference(t,e,i){return xh(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return xh(t,e)}gr(t,e){return function(s,l){let c=!1;return MA(s).ne(d=>OA(s,d,l).next(m=>(m&&(c=!0),B.resolve(!m)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.mr(t,(c,d)=>{if(d<=e){const m=this.gr(t,c).next(p=>{if(!p)return l++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Et.min()),Pi(t).delete(function(T){return[0,tn(T.path)]}(c))))});s.push(m)}}).next(()=>B.waitFor(s)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return xh(t,e)}mr(t,e){const i=Pi(t);let s,l=fn.le;return i.te({index:_p},([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==fn.le&&e(new ht(dr(s)),l),l=p,s=m):l=fn.le}).next(()=>{l!==fn.le&&e(new ht(dr(s)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function xh(a,t){return Pi(a).put(function(i,s){return{targetId:0,path:tn(i.path),sequenceNumber:s}}(t,a.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.changes=new ei(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?B.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ua(t).put(i)}removeEntry(t,e,i){return Ua(t).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],cf(c),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.pr(t,i)))}getEntry(t,e){let i=ge.newInvalidDocument(e);return Ua(t).te({index:Lh,range:IDBKeyRange.only(ou(e))},(s,l)=>{i=this.yr(e,l)}).next(()=>i)}wr(t,e){let i={size:0,document:ge.newInvalidDocument(e)};return Ua(t).te({index:Lh,range:IDBKeyRange.only(ou(e))},(s,l)=>{i={document:this.yr(e,l),size:ff(l)}}).next(()=>i)}getEntries(t,e){let i=wn();return this.br(t,e,(s,l)=>{const c=this.yr(s,l);i=i.insert(s,c)}).next(()=>i)}Sr(t,e){let i=wn(),s=new re(ht.comparator);return this.br(t,e,(l,c)=>{const d=this.yr(l,c);i=i.insert(l,d),s=s.insert(l,ff(c))}).next(()=>({documents:i,Dr:s}))}br(t,e,i){if(e.isEmpty())return B.resolve();let s=new Yt($E);e.forEach(m=>s=s.add(m));const l=IDBKeyRange.bound(ou(s.first()),ou(s.last())),c=s.getIterator();let d=c.getNext();return Ua(t).te({index:Lh,range:l},(m,p,_)=>{const T=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&$E(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,p),d=c.hasNext()?c.getNext():null),d?_.H(ou(d)):_.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,s,l){const c=e.path,d=[c.popLast().toArray(),c.lastSegment(),cf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(t).J(IDBKeyRange.bound(d,m,!0)).next(p=>{l==null||l.incrementDocumentReadCount(p.length);let _=wn();for(const T of p){const S=this.yr(ht.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);S.isFoundDocument()&&(Qu(e,S)||s.has(S.key))&&(_=_.insert(S.key,S))}return _})}getAllFromCollectionGroup(t,e,i,s){let l=wn();const c=QE(e,i),d=QE(e,In.max());return Ua(t).te({index:Sb,range:IDBKeyRange.bound(c,d,!0)},(m,p,_)=>{const T=this.yr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===s&&_.done()}).next(()=>l)}newChangeBuffer(t){return new vD(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return KE(t).get(Ng).next(e=>(yt(!!e,20021),e))}pr(t,e){return KE(t).put(Ng,e)}yr(t,e){if(e){const i=iD(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return ge.newInvalidDocument(t)}}function zA(a){return new _D(a)}class vD extends UA{constructor(t,e){super(),this.vr=t,this.trackRemovals=e,this.Cr=new ei(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new Yt((l,c)=>St(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Cr.get(l);if(e.push(this.vr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const m=CE(this.vr.serializer,c);s=s.add(l.path.popLast());const p=ff(m);i+=p-d.size,e.push(this.vr.addEntry(t,l,m))}else if(i-=d.size,this.trackRemovals){const m=CE(this.vr.serializer,c.convertToNoDocument(Et.min()));e.push(this.vr.addEntry(t,l,m))}}),s.forEach(l=>{e.push(this.vr.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.vr.updateMetadata(t,i)),B.waitFor(e)}getFromCache(t,e){return this.vr.wr(t,e).next(i=>(this.Cr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.vr.Sr(t,e).next(({documents:i,Dr:s})=>(s.forEach((l,c)=>{this.Cr.set(l,{size:c,readTime:i.get(l).readTime})}),i))}}function KE(a){return Ve(a,Cu)}function Ua(a){return Ve(a,ef)}function ou(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function QE(a,t){const e=t.documentKey.path.toArray();return[a,cf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $E(a,t){const e=a.path.toArray(),i=t.path.toArray();let s=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(s=St(e[l],i[l]),s)return s;return s=St(e.length,i.length),s||(s=St(e[e.length-2],i[i.length-2]),s||St(e[e.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Eu(i.mutation,s,dn.empty(),ce.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Dt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Dt()){const s=mr();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(l=>{let c=cu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=mr();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Dt()))}populateOverlays(t,e,i){const s=[];return i.forEach(l=>{e.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(t,s).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,s){let l=wn();const c=vu(),d=function(){return vu()}();return e.forEach((m,p)=>{const _=i.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof ni)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Eu(_.mutation,p,_.mutation.getFieldMask(),ce.now())):c.set(p.key,dn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,_)=>c.set(p,_)),e.forEach((p,_)=>{var T;return d.set(p,new ED(_,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(t,e){const i=vu();let s=new re((c,d)=>c-d),l=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let _=i.get(m)||dn.empty();_=d.applyToLocalView(p,_),i.set(m,_);const T=(s.get(d.batchId)||Dt()).add(m);s=s.insert(d.batchId,T)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,T=nA();_.forEach(S=>{if(!l.has(S)){const x=uA(e.get(S),i.get(S));x!==null&&T.set(S,x),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return B.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(c){return ht.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Xb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-l.size):B.resolve(mr());let d=_o,m=l;return c.next(p=>B.forEach(p,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{m=m.insert(_,S)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Dt())).next(_=>({batchId:d,changes:eA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next(i=>{let s=cu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const l=e.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,l).next(d=>B.forEach(d,m=>{const p=function(T,S){return new jo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,s).next(_=>{_.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,s))).next(c=>{l.forEach((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,ge.newInvalidDocument(_)))});let d=cu();return c.forEach((m,p)=>{const _=l.get(m);_!==void 0&&Eu(_.mutation,p,dn.empty(),ce.now()),Qu(e,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return B.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ln(s.createTime)}}(e)),B.resolve()}getNamedQuery(t,e){return B.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(s){return{name:s.name,query:xA(s.bundledQuery),readTime:ln(s.readTime)}}(e)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.overlays=new re(ht.comparator),this.Or=new Map}getOverlay(t,e){return B.resolve(this.overlays.get(e))}getOverlays(t,e){const i=mr();return B.forEach(e,s=>this.getOverlay(t,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,l)=>{this.St(t,e,l)}),B.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),B.resolve()}getOverlaysForCollection(t,e,i){const s=mr(),l=e.length+1,c=new ht(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return B.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let l=new re((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let _=l.get(p.largestBatchId);_===null&&(_=mr(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=mr(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=s)););return B.resolve(d)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Cp(e,i));let l=this.Or.get(e);l===void 0&&(l=Dt(),this.Or.set(e,l)),this.Or.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sessionToken=Ee.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.Nr=new Yt(Ue.Br),this.Lr=new Yt(Ue.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new Ue(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new Ue(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new ht(new Ht([])),i=new Ue(e,t),s=new Ue(e,t+1),l=[];return this.Lr.forEachInRange([i,s],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new ht(new Ht([])),i=new Ue(e,t),s=new Ue(e,t+1);let l=Dt();return this.Lr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Ue(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ue{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return ht.comparator(t.key,e.key)||St(t.Gr,e.Gr)}static kr(t,e){return St(t.Gr,e.Gr)||ht.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Yt(Ue.Br)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xp(l,e,i,s);this.mutationQueue.push(c);for(const d of s)this.zr=this.zr.add(new Ue(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(t,e){return B.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Hr(i),l=s<0?0:s;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ya:this.Jn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ue(e,0),s=new Ue(e,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,s],c=>{const d=this.jr(c.Gr);l.push(d)}),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yt(St);return e.forEach(s=>{const l=new Ue(s,0),c=new Ue(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),B.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const c=new Ue(new ht(l),0);let d=new Yt(St);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(d=d.add(m.Gr)),!0)},c),B.resolve(this.Jr(d))}Jr(t){const e=[];return t.forEach(i=>{const s=this.jr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){yt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return B.forEach(e.mutations,s=>{const l=new Ue(s.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new Ue(e,0),s=this.zr.firstAfterOrEqual(i);return B.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t){this.Zr=t,this.docs=function(){return new re(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),l=s?s.size:0,c=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return B.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(e))}getEntries(t,e){let i=wn();return e.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():ge.newInvalidDocument(s))}),B.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let l=wn();const c=e.path,d=new ht(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||pp(_b(_),i)<=0||(s.has(_.key)||Qu(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(t,e,i,s){dt(9500)}Xr(t,e){return B.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new RD(this)}getSize(t){return B.resolve(this.size)}}class RD extends UA{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.vr.addEntry(t,s)):this.vr.removeEntry(i)}),B.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.persistence=t,this.ei=new ei(e=>es(e),Ku),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new Pp,this.targetCount=0,this.ri=is.rr()}forEachTarget(t,e){return this.ei.forEach((i,s)=>e(s)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),B.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new is(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,B.resolve()}updateTargetData(t,e){return this.ar(e),B.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,e,i){let s=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=e&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),B.waitFor(l).next(()=>s)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return B.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),B.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const s=this.persistence.referenceDelegate,l=[];return s&&e.forEach(c=>{l.push(s.markPotentiallyOrphaned(t,c))}),B.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),B.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return B.resolve(i)}containsKey(t,e){return B.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t,e){this.ii={},this.overlays={},this.si=new fn(0),this.oi=!1,this.oi=!0,this._i=new AD,this.referenceDelegate=t(this),this.ai=new ID(this),this.indexManager=new fD,this.remoteDocumentCache=function(s){return new wD(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new RA(e),this.ci=new TD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new SD(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){rt("MemoryPersistence","Starting transaction:",t);const s=new xD(this.si.next());return this.referenceDelegate.li(),i(s).next(l=>this.referenceDelegate.hi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Pi(t,e){return B.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class xD extends Eb{constructor(t){super(),this.currentSequenceNumber=t}}class zf{constructor(t){this.persistence=t,this.Ti=new Pp,this.Ii=null}static Ei(t){return new zf(t)}get di(){if(this.Ii)return this.Ii;throw dt(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),B.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),B.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),B.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,i=>{const s=ht.fromPath(i);return this.Ai(t,s).next(l=>{l||e.removeEntry(s,Et.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return B.or([()=>B.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class df{constructor(t,e){this.persistence=t,this.Ri=new ei(i=>tn(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=LA(this,e)}static Ei(t,e){return new df(t,e)}li(){}hi(t){return B.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return B.forEach(this.Ri,(i,s)=>this.gr(t,i,s).next(l=>l?B.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Xr(t,c=>this.gr(t,c,e).next(d=>{d||(i++,l.removeEntry(c,Et.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),B.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),B.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),B.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zh(t.data.value)),e}gr(t,e,i){return B.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.Ri.get(e);return B.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.serializer=t}q(t,e,i,s){const l=new wf("createOrUpgrade",e);i<1&&s>=1&&(function(m){m.createObjectStore(Gu)}(t),function(m){m.createObjectStore(Du,{keyPath:G2}),m.createObjectStore(Qn,{keyPath:sE,autoIncrement:!0}).createIndex(Ka,oE,{unique:!0}),m.createObjectStore(vo)}(t),YE(t),function(m){m.createObjectStore(ja)}(t));let c=B.resolve();return i<3&&s>=3&&(i!==0&&(function(m){m.deleteObjectStore(To),m.deleteObjectStore(Eo),m.deleteObjectStore(Xa)}(t),YE(t)),c=c.next(()=>function(m){const p=m.store(Xa),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put(nf,_)}(l))),i<4&&s>=4&&(i!==0&&(c=c.next(()=>function(m,p){return p.store(Qn).J().next(T=>{m.deleteObjectStore(Qn),m.createObjectStore(Qn,{keyPath:sE,autoIncrement:!0}).createIndex(Ka,oE,{unique:!0});const S=p.store(Qn),x=T.map(C=>S.put(C));return B.waitFor(x)})}(t,l))),c=c.next(()=>{(function(m){m.createObjectStore(bo,{keyPath:tx})})(t)})),i<5&&s>=5&&(c=c.next(()=>this.Vi(l))),i<6&&s>=6&&(c=c.next(()=>(function(m){m.createObjectStore(Cu)}(t),this.mi(l)))),i<7&&s>=7&&(c=c.next(()=>this.fi(l))),i<8&&s>=8&&(c=c.next(()=>this.gi(t,l))),i<9&&s>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)})),i<10&&s>=10&&(c=c.next(()=>this.pi(l))),i<11&&s>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(If,{keyPath:ex})})(t),function(m){m.createObjectStore(xf,{keyPath:nx})}(t)})),i<12&&s>=12&&(c=c.next(()=>{(function(m){const p=m.createObjectStore(Df,{keyPath:ux});p.createIndex(Mg,cx,{unique:!1}),p.createIndex(xb,hx,{unique:!1})})(t)})),i<13&&s>=13&&(c=c.next(()=>function(m){const p=m.createObjectStore(ef,{keyPath:Q2});p.createIndex(Lh,$2),p.createIndex(Sb,Y2)}(t)).next(()=>this.yi(t,l)).next(()=>t.deleteObjectStore(ja))),i<14&&s>=14&&(c=c.next(()=>this.wi(t,l))),i<15&&s>=15&&(c=c.next(()=>function(m){m.createObjectStore(vp,{keyPath:rx,autoIncrement:!0}).createIndex(Og,ix,{unique:!1}),m.createObjectStore(rf,{keyPath:ax}).createIndex(Rb,sx,{unique:!1}),m.createObjectStore(af,{keyPath:ox}).createIndex(Ib,lx,{unique:!1})}(t))),i<16&&s>=16&&(c=c.next(()=>{e.objectStore(rf).clear()}).next(()=>{e.objectStore(af).clear()})),i<17&&s>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(Ep,{keyPath:fx})})(t)})),c}mi(t){let e=0;return t.store(ja).te((i,s)=>{e+=ff(s)}).next(()=>{const i={byteSize:e};return t.store(Cu).put(Ng,i)})}Vi(t){const e=t.store(Du),i=t.store(Qn);return e.J().next(s=>B.forEach(s,l=>{const c=IDBKeyRange.bound([l.userId,Ya],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Ka,c).next(d=>B.forEach(d,m=>{yt(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=Fa(this.serializer,m);return NA(t,l.userId,p).next(()=>{})}))}))}fi(t){const e=t.store(To),i=t.store(ja);return t.store(Xa).get(nf).next(s=>{const l=[];return i.te((c,d)=>{const m=new Ht(c),p=function(T){return[0,tn(T)]}(m);l.push(e.get(p).next(_=>_?B.resolve():(T=>e.put({targetId:0,path:tn(T),sequenceNumber:s.highestListenSequenceNumber}))(m)))}).next(()=>B.waitFor(l))})}gi(t,e){t.createObjectStore(Vu,{keyPath:W2});const i=e.store(Vu),s=new Mp,l=c=>{if(s.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:tn(m)})}};return e.store(ja).te({ee:!0},(c,d)=>{const m=new Ht(c);return l(m.popLast())}).next(()=>e.store(vo).te({ee:!0},([c,d,m],p)=>{const _=dr(d);return l(_.popLast())}))}pi(t){const e=t.store(Eo);return e.te((i,s)=>{const l=fu(s),c=IA(this.serializer,l);return e.put(c)})}yi(t,e){const i=e.store(ja),s=[];return i.te((l,c)=>{const d=e.store(ef),m=function(T){return T.document?new ht(Ht.fromString(T.document.name).popFirst(5)):T.noDocument?ht.fromSegments(T.noDocument.path):T.unknownDocument?ht.fromSegments(T.unknownDocument.path):dt(36783)}(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(d.put(p))}).next(()=>B.waitFor(s))}wi(t,e){const i=e.store(Qn),s=zA(this.serializer),l=new kp(zf.Ei,this.serializer.wt);return i.J().next(c=>{const d=new Map;return c.forEach(m=>{var p;let _=(p=d.get(m.userId))!==null&&p!==void 0?p:Dt();Fa(this.serializer,m).keys().forEach(T=>_=_.add(T)),d.set(m.userId,_)}),B.forEach(d,(m,p)=>{const _=new ze(p),T=Lf.bt(this.serializer,_),S=l.getIndexManager(_),x=Uf.bt(_,this.serializer,S,l.referenceDelegate);return new BA(s,x,T,S).recalculateAndSaveOverlaysForDocumentKeys(new Pg(e,fn.le),m).next()})})}}function YE(a){a.createObjectStore(To,{keyPath:Z2}).createIndex(_p,J2,{unique:!0}),a.createObjectStore(Eo,{keyPath:"targetId"}).createIndex(wb,X2,{unique:!0}),a.createObjectStore(Xa)}const Mi="IndexedDbPersistence",cg=18e5,hg=5e3,fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CD="main";class Lp{constructor(t,e,i,s,l,c,d,m,p,_,T=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.bi=l,this.window=c,this.document=d,this.Si=p,this.Di=_,this.Ci=T,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=S=>Promise.resolve(),!Lp.C())throw new ot(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yD(this,s),this.Bi=e+CD,this.serializer=new RA(m),this.Li=new qi(this.Bi,this.Ci,new DD(this.serializer)),this._i=new sD,this.ai=new mD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zA(this.serializer),this.ci=new aD,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,_===!1&&ve(Mi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(J.FAILED_PRECONDITION,fg);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ai.getHighestSequenceNumber(t))}).then(t=>{this.si=new fn(t,this.Si)}).then(()=>{this.oi=!0}).catch(t=>(this.Li&&this.Li.close(),Promise.reject(t)))}Ki(t){return this.Ni=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Li.U(async e=>{e.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Dh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(t).next(e=>{e||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(t)).next(e=>this.isPrimary&&!e?this.zi(t).next(()=>!1):!!e&&this.ji(t).next(()=>!0))).catch(t=>{if(Zi(t))return rt(Mi,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return rt(Mi,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.bi.enqueueRetryable(()=>this.Ni(t)),this.isPrimary=t})}Wi(t){return lu(t).get(eo).next(e=>B.resolve(this.Hi(e)))}Ji(t){return Dh(t).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,cg)){this.Oi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const i=Ve(e,bo);return i.J().next(s=>{const l=this.Xi(s,cg),c=s.filter(d=>l.indexOf(d)===-1);return B.forEach(c,d=>i.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.ki)for(const e of t)this.ki.removeItem(this.es(e.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(t){return!!t&&t.ownerId===this.clientId}Gi(t){return this.Di?B.resolve(!0):lu(t).get(eo).next(e=>{if(e!==null&&this.Zi(e.leaseTimestampMs,hg)&&!this.ts(e.ownerId)){if(this.Hi(e)&&this.networkEnabled)return!0;if(!this.Hi(e)){if(!e.allowTabSynchronization)throw new ot(J.FAILED_PRECONDITION,fg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dh(t).J().next(i=>this.Xi(i,hg).find(s=>{if(this.clientId!==s.clientId){const l=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(e=>(this.isPrimary!==e&&rt(Mi,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Gu,bo],t=>{const e=new Pg(t,fn.le);return this.zi(e).next(()=>this.Ji(e))}),this.Li.close(),this._s()}Xi(t,e){return t.filter(i=>this.Zi(i.updateTimeMs,e)&&!this.ts(i.clientId))}us(){return this.runTransaction("getActiveClients","readonly",t=>Dh(t).J().next(e=>this.Xi(e,cg).map(i=>i.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(t,e){return Uf.bt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new dD(t,this.serializer.wt.databaseId)}getDocumentOverlayCache(t){return Lf.bt(this.serializer,t)}getBundleCache(){return this.ci}runTransaction(t,e,i){rt(Mi,"Starting transaction:",t);const s=e==="readonly"?"readonly":"readwrite",l=function(m){return m===17?gx:m===16?mx:m===15?Tp:m===14?Vb:m===13?Cb:m===12?dx:m===11?Db:void dt(60245)}(this.Ci);let c;return this.Li.runTransaction(t,s,l,d=>(c=new Pg(d,this.si?this.si.next():fn.le),e==="readwrite-primary"?this.Wi(c).next(m=>!!m||this.Gi(c)).next(m=>{if(!m)throw ve(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new ot(J.FAILED_PRECONDITION,vb);return i(c)}).next(m=>this.ji(c).next(()=>m)):this.cs(c).next(()=>i(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}cs(t){return lu(t).get(eo).next(e=>{if(e!==null&&this.Zi(e.leaseTimestampMs,hg)&&!this.ts(e.ownerId)&&!this.Hi(e)&&!(this.Di||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ot(J.FAILED_PRECONDITION,fg)})}ji(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lu(t).put(eo,e)}static C(){return qi.C()}zi(t){const e=lu(t);return e.get(eo).next(i=>this.Hi(i)?(rt(Mi,"Releasing primary lease."),e.delete(eo)):B.resolve())}Zi(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(ve(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const e=/(?:Version|Mobile)\/1[456]/;YT()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(t){var e;try{const i=((e=this.ki)===null||e===void 0?void 0:e.getItem(this.es(t)))!==null;return rt(Mi,`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ve(Mi,"Failed to get zombied client id.",i),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(t){ve("Failed to set zombie client id.",t)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function lu(a){return Ve(a,Gu)}function Dh(a){return Ve(a,bo)}function jA(a,t){let e=a.projectId;return a.isDefaultDatabase||(e+="."+a.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=s}static Ps(t,e){let i=Dt(),s=Dt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Up(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return YT()?8:Tb(Xh())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,s){const l={result:null};return this.Rs(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(t,e,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new VD;return this.fs(t,e,c).next(d=>{if(l.result=d,this.Is)return this.gs(t,e,c,d.size)})}).next(()=>l.result)}gs(t,e,i,s){return i.documentReadCount<this.Es?(lo()<=zt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",uo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),B.resolve()):(lo()<=zt.DEBUG&&rt("QueryEngine","Query:",uo(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(lo()<=zt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",uo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(e))):B.resolve())}Rs(t,e){if(EE(e))return B.resolve(null);let i=Rn(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=qg(e,null,"F"),i=Rn(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const c=Dt(...l);return this.As.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(m=>{const p=this.ps(e,d);return this.ys(e,p,c,m.readTime)?this.Rs(t,qg(e,null,"F")):this.ws(t,p,e,m)}))})))}Vs(t,e,i,s){return EE(e)||s.isEqual(Et.min())?B.resolve(null):this.As.getDocuments(t,i).next(l=>{const c=this.ps(e,l);return this.ys(e,c,i,s)?B.resolve(null):(lo()<=zt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),uo(e)),this.ws(t,c,e,yb(s,_o)).next(d=>d))})}ps(t,e){let i=new Yt(Wb(t));return e.forEach((s,l)=>{Qu(t,l)&&(i=i.add(l))}),i}ys(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}fs(t,e,i){return lo()<=zt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",uo(e)),this.As.getDocumentsMatchingQuery(t,e,In.min(),i)}ws(t,e,i,s){return this.As.getDocumentsMatchingQuery(t,i,s).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",ND=3e8;class OD{constructor(t,e,i,s){this.persistence=t,this.bs=e,this.serializer=s,this.Ss=new re(St),this.Ds=new ei(l=>es(l),Ku),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BA(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function FA(a,t,e,i){return new OD(a,t,e,i)}async function HA(a,t){const e=gt(a);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Dt();for(const p of s){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(i,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function MD(a,t){const e=gt(a);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),l=e.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,_){const T=p.batch,S=T.keys();let x=B.resolve();return S.forEach(C=>{x=x.next(()=>_.getEntry(m,C)).next(K=>{const L=p.docVersions.get(C);yt(L!==null,48541),K.version.compareTo(L)<0&&(T.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),_.addEntry(K)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Dt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function GA(a){const t=gt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function PD(a,t){const e=gt(a),i=t.snapshotVersion;let s=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Cs.newChangeBuffer({trackRemovals:!0});s=e.Ss;const d=[];t.targetChanges.forEach((_,T)=>{const S=s.get(T);if(!S)return;d.push(e.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>e.ai.addMatchingKeys(l,_.addedDocuments,T)));let x=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(Ee.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),s=s.insert(T,x),function(K,L,Q){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=ND?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,x,_)&&d.push(e.ai.updateTargetData(l,x))});let m=wn(),p=Dt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(kD(l,c,t.documentUpdates).next(_=>{m=_.xs,p=_.Os})),!i.isEqual(Et.min())){const _=e.ai.getLastRemoteSnapshotVersion(l).next(T=>e.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return B.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(e.Ss=s,l))}function kD(a,t,e){let i=Dt(),s=Dt();return e.forEach(l=>i=i.add(l)),t.getEntries(a,i).next(l=>{let c=wn();return e.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Et.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):rt(zp,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:s}})}function LD(a,t){const e=gt(a);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Ya),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function mf(a,t){const e=gt(a);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.ai.getTargetData(i,t).next(l=>l?(s=l,B.resolve(s)):e.ai.allocateTargetId(i).next(c=>(s=new Kr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function Vo(a,t,e){const i=gt(a),s=i.Ss.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Zi(c))throw c;rt(zp,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(s.target)}function Xg(a,t,e){const i=gt(a);let s=Et.min(),l=Dt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,_){const T=gt(m),S=T.Ds.get(_);return S!==void 0?B.resolve(T.Ss.get(S)):T.ai.getTargetData(p,_)}(i,c,Rn(t)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,t,e?s:Et.min(),e?l:Dt())).next(d=>($A(i,Jb(t),d),{documents:d,Ns:l})))}function KA(a,t){const e=gt(a),i=gt(e.ai),s=e.Ss.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Rt(l,t).next(c=>c?c.target:null))}function QA(a,t){const e=gt(a),i=e.vs.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",s=>e.Cs.getAllFromCollectionGroup(s,t,yb(i,_o),Number.MAX_SAFE_INTEGER)).then(s=>($A(e,t,s),s))}function $A(a,t,e){let i=a.vs.get(t)||Et.min();e.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),a.vs.set(t,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore_clients";function XE(a,t){return`${YA}_${a}_${t}`}const XA="firestore_mutations";function ZE(a,t,e){let i=`${XA}_${a}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}const ZA="firestore_targets";function dg(a,t){return`${ZA}_${a}_${t}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="SharedClientState";class gf{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static qs(t,e,i){const s=JSON.parse(i);let l,c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string",c&&(l=new ot(s.error.code,s.error.message))),c?new gf(t,e,s.state,l):(ve(fr,`Failed to parse mutation state for ID '${e}': ${i}`),null)}Qs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tu{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static qs(t,e){const i=JSON.parse(e);let s,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ot(i.error.code,i.error.message))),l?new Tu(t,i.state,s):(ve(fr,`Failed to parse target state for ID '${t}': ${e}`),null)}Qs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class pf{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static qs(t,e){const i=JSON.parse(e);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,l=Rp();for(let c=0;s&&c<i.activeTargetIds.length;++c)s=bb(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return s?new pf(t,l):(ve(fr,`Failed to parse client data for instance '${t}': ${e}`),null)}}class Bp{constructor(t,e){this.clientId=t,this.onlineState=e}static qs(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new Bp(e.clientId,e.onlineState):(ve(fr,`Failed to parse online state: ${t}`),null)}}class Zg{constructor(){this.activeTargetIds=Rp()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mg{constructor(t,e,i,s,l){this.window=t,this.bi=e,this.persistenceKey=i,this.Ks=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new re(St),this.started=!1,this.js=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Hs=XE(this.persistenceKey,this.Ks),this.Js=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new Zg),this.Ys=new RegExp(`^${YA}_${c}_([^_]*)$`),this.Zs=new RegExp(`^${XA}_${c}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${ZA}_${c}_(\\d+)$`),this.eo=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.no=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.us();for(const i of t){if(i===this.Ks)continue;const s=this.getItem(XE(this.persistenceKey,i));if(s){const l=pf.qs(i,s);l&&(this.zs=this.zs.insert(l.clientId,l))}}this.ro();const e=this.storage.getItem(this.eo);if(e){const i=this.io(e);i&&this.so(i)}for(const i of this.js)this.Gs(i);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.Js,JSON.stringify(t))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(t){let e=!1;return this.zs.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this._o(t,"pending")}updateMutationState(t,e,i){this._o(t,e,i),this.ao(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const s=this.storage.getItem(dg(this.persistenceKey,t));if(s){const l=Tu.qs(t,s);l&&(i=l.state)}}return e&&this.uo.$s(t),this.ro(),i}removeLocalQueryTarget(t){this.uo.Us(t),this.ro()}isLocalQueryTarget(t){return this.uo.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(dg(this.persistenceKey,t))}updateQueryState(t,e,i){this.co(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.ao(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.lo(t)}notifyBundleLoaded(t){this.ho(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return rt(fr,"READ",t,e),e}setItem(t,e){rt(fr,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){rt(fr,"REMOVE",t),this.storage.removeItem(t)}Gs(t){const e=t;if(e.storageArea===this.storage){if(rt(fr,"EVENT",e.key,e.newValue),e.key===this.Hs)return void ve("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(e.key!==null){if(this.Ys.test(e.key)){if(e.newValue==null){const i=this.Po(e.key);return this.To(i,null)}{const i=this.Io(e.key,e.newValue);if(i)return this.To(i.clientId,i)}}else if(this.Zs.test(e.key)){if(e.newValue!==null){const i=this.Eo(e.key,e.newValue);if(i)return this.Ao(i)}}else if(this.Xs.test(e.key)){if(e.newValue!==null){const i=this.Ro(e.key,e.newValue);if(i)return this.Vo(i)}}else if(e.key===this.eo){if(e.newValue!==null){const i=this.io(e.newValue);if(i)return this.so(i)}}else if(e.key===this.Js){const i=function(l){let c=fn.le;if(l!=null)try{const d=JSON.parse(l);yt(typeof d=="number",30636,{mo:l}),c=d}catch(d){ve(fr,"Failed to read sequence number from WebStorage",d)}return c}(e.newValue);i!==fn.le&&this.sequenceNumberHandler(i)}else if(e.key===this.no){const i=this.fo(e.newValue);await Promise.all(i.map(s=>this.syncEngine.po(s)))}}}else this.js.push(e)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(t,e,i){const s=new gf(this.currentUser,t,e,i),l=ZE(this.persistenceKey,this.currentUser,t);this.setItem(l,s.Qs())}ao(t){const e=ZE(this.persistenceKey,this.currentUser,t);this.removeItem(e)}lo(t){const e={clientId:this.Ks,onlineState:t};this.storage.setItem(this.eo,JSON.stringify(e))}co(t,e,i){const s=dg(this.persistenceKey,t),l=new Tu(t,e,i);this.setItem(s,l.Qs())}ho(t){const e=JSON.stringify(Array.from(t));this.setItem(this.no,e)}Po(t){const e=this.Ys.exec(t);return e?e[1]:null}Io(t,e){const i=this.Po(t);return pf.qs(i,e)}Eo(t,e){const i=this.Zs.exec(t),s=Number(i[1]),l=i[2]!==void 0?i[2]:null;return gf.qs(new ze(l),s,e)}Ro(t,e){const i=this.Xs.exec(t),s=Number(i[1]);return Tu.qs(s,e)}io(t){return Bp.qs(t)}fo(t){return JSON.parse(t)}async Ao(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.yo(t.batchId,t.state,t.error);rt(fr,`Ignoring mutation for non-active user ${t.user.uid}`)}Vo(t){return this.syncEngine.wo(t.targetId,t.state,t.error)}To(t,e){const i=e?this.zs.insert(t,e):this.zs.remove(t),s=this.oo(this.zs),l=this.oo(i),c=[],d=[];return l.forEach(m=>{s.has(m)||c.push(m)}),s.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.bo(c,d).then(()=>{this.zs=i})}so(t){this.zs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}oo(t){let e=Rp();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class JA{constructor(){this.So=new Zg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Zg,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class WE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){rt(JE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){rt(JE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function Jg(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",zD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BD{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Ou?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(t,e,i,s,l){const c=Jg(),d=this.$o(t,e.toUriEncodedString());rt(gg,`Sending RPC '${t}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,s,l);const{host:p}=new URL(d),_=dp(p);return this.Ko(t,d,m,i,_).then(T=>(rt(gg,`Received RPC '${t}' ${c}: `,T),T),T=>{throw po(gg,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Wo(t,e,i,s,l,c){return this.Qo(t,e,i,s,l)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,l)=>t[l]=s),i&&i.headers.forEach((s,l)=>t[l]=s)}$o(t,e){const i=zD[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class qD extends BD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,s,l){const c=Jg();return new Promise((d,m)=>{const p=new ob;p.setWithCredentials(!0),p.listenOnce(lb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Mh.NO_ERROR:const T=p.getResponseJson();rt(Ze,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Mh.TIMEOUT:rt(Ze,`RPC '${t}' ${c} timed out`),m(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=p.getStatus();if(rt(Ze,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const K=function(Q){const et=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN}(C.status);m(new ot(K,C.message))}else m(new ot(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ot(J.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{s_:t,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{rt(Ze,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(s);rt(Ze,`RPC '${t}' ${c} sending request:`,s),p.send(e,"POST",_,i,15)})}a_(t,e,i){const s=Jg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=hb(),d=cb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const _=l.join("");rt(Ze,`Creating RPC '${t}' stream ${s}: ${_}`,m);const T=c.createWebChannel(_,m);let S=!1,x=!1;const C=new jD({Go:L=>{x?rt(Ze,`Not sending because RPC '${t}' stream ${s} is closed:`,L):(S||(rt(Ze,`Opening RPC '${t}' stream ${s} transport.`),T.open(),S=!0),rt(Ze,`RPC '${t}' stream ${s} sending:`,L),T.send(L))},zo:()=>T.close()}),K=(L,Q,et)=>{L.listen(Q,Y=>{try{et(Y)}catch(ft){setTimeout(()=>{throw ft},0)}})};return K(T,uu.EventType.OPEN,()=>{x||(rt(Ze,`RPC '${t}' stream ${s} transport opened.`),C.t_())}),K(T,uu.EventType.CLOSE,()=>{x||(x=!0,rt(Ze,`RPC '${t}' stream ${s} transport closed`),C.r_())}),K(T,uu.EventType.ERROR,L=>{x||(x=!0,po(Ze,`RPC '${t}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),C.r_(new ot(J.UNAVAILABLE,"The operation could not be completed")))}),K(T,uu.EventType.MESSAGE,L=>{var Q;if(!x){const et=L.data[0];yt(!!et,16349);const Y=et,ft=(Y==null?void 0:Y.error)||((Q=Y[0])===null||Q===void 0?void 0:Q.error);if(ft){rt(Ze,`RPC '${t}' stream ${s} received error:`,ft);const at=ft.status;let pt=function(R){const M=we[R];if(M!==void 0)return fA(M)}(at),V=ft.message;pt===void 0&&(pt=J.INTERNAL,V="Unknown error status: "+at+" with message "+ft.message),x=!0,C.r_(new ot(pt,V)),T.close()}else rt(Ze,`RPC '${t}' stream ${s} received:`,et),C.i_(et)}}),K(d,ub.STAT_EVENT,L=>{L.stat===Dg.PROXY?rt(Ze,`RPC '${t}' stream ${s} detected buffering proxy`):L.stat===Dg.NOPROXY&&rt(Ze,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return typeof window<"u"?window:null}function Fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(a){return new $x(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,e,i=1e3,s=1.5,l=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=s,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,e-i);s>0&&rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="PersistentStream";class eS{constructor(t,e,i,s,l,c,d,m){this.bi=t,this.R_=i,this.V_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tS(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(ve(e.toString()),ve("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===e&&this.B_(i,s)},i=>{t(()=>{const s=new ot(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return rt(tT,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(rt(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends eS{constructor(t,e,i,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,c),this.serializer=l}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=Zx(this.serializer,t),i=function(l){if(!("targetChange"in l))return Et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?ln(c.readTime):Et.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=Gg(this.serializer),e.addTarget=function(l,c){let d;const m=c.target;if(d=sf(m)?{documents:EA(l,m)}:{query:TA(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=gA(l,c.resumeToken);const p=Fg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Et.min())>0){d.readTime=Co(l,c.snapshotVersion.toTimestamp());const p=Fg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const i=Wx(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=Gg(this.serializer),e.removeTarget=t,this.F_(e)}}class HD extends eS{constructor(t,e,i,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=Jx(t.writeResults,t.commitTime),i=ln(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=Gg(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>uf(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class KD extends GD{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(t,Hg(e,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(J.UNKNOWN,l.toString())})}Wo(t,e,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,Hg(e,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class QD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ve(e),this.ea=!1):rt("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class $D{constructor(t,e,i,s,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{ss(this)&&(rt(as,"Restarting streams for network reachability change."),await async function(m){const p=gt(m);p.aa.add(4),await Xu(p),p.la.set("Unknown"),p.aa.delete(4),await jf(p)}(this))})}),this.la=new QD(i,s)}}async function jf(a){if(ss(a))for(const t of a.ua)await t(!0)}async function Xu(a){for(const t of a.ua)await t(!1)}function qf(a,t){const e=gt(a);e._a.has(t.targetId)||(e._a.set(t.targetId,t),Fp(e)?qp(e):Ho(e).b_()&&jp(e,t))}function No(a,t){const e=gt(a),i=Ho(e);e._a.delete(t),i.b_()&&nS(e,t),e._a.size===0&&(i.b_()?i.v_():ss(e)&&e.la.set("Unknown"))}function jp(a,t){if(a.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ho(a).U_(t)}function nS(a,t){a.ha.Ke(t),Ho(a).K_(t)}function qp(a){a.ha=new Hx({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>a._a.get(t)||null,Pt:()=>a.datastore.serializer.databaseId}),Ho(a).start(),a.la.ta()}function Fp(a){return ss(a)&&!Ho(a).w_()&&a._a.size>0}function ss(a){return gt(a).aa.size===0}function rS(a){a.ha=void 0}async function YD(a){a.la.set("Online")}async function XD(a){a._a.forEach((t,e)=>{jp(a,t)})}async function ZD(a,t){rS(a),Fp(a)?(a.la.ia(t),qp(a)):a.la.set("Unknown")}async function JD(a,t,e){if(a.la.set("Online"),t instanceof mA&&t.state===2&&t.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s._a.delete(d),s.ha.removeTarget(d))}(a,t)}catch(i){rt(as,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await yf(a,i)}else if(t instanceof qh?a.ha.Xe(t):t instanceof dA?a.ha.ot(t):a.ha.nt(t),!e.isEqual(Et.min()))try{const i=await GA(a.localStore);e.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l._a.get(p);_&&l._a.set(p,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const _=l._a.get(m);if(!_)return;l._a.set(m,_.withResumeToken(Ee.EMPTY_BYTE_STRING,_.snapshotVersion)),nS(l,m);const T=new Kr(_.target,m,p,_.sequenceNumber);jp(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(a,e)}catch(i){rt(as,"Failed to raise snapshot:",i),await yf(a,i)}}async function yf(a,t,e){if(!Zi(t))throw t;a.aa.add(1),await Xu(a),a.la.set("Offline"),e||(e=()=>GA(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(as,"Retrying IndexedDB access"),await e(),a.aa.delete(1),await jf(a)})}function iS(a,t){return t().catch(e=>yf(a,e,t))}async function Fo(a){const t=gt(a),e=Qi(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:Ya;for(;WD(t);)try{const s=await LD(t.localStore,i);if(s===null){t.oa.length===0&&e.v_();break}i=s.batchId,tC(t,s)}catch(s){await yf(t,s)}aS(t)&&sS(t)}function WD(a){return ss(a)&&a.oa.length<10}function tC(a,t){a.oa.push(t);const e=Qi(a);e.b_()&&e.W_&&e.G_(t.mutations)}function aS(a){return ss(a)&&!Qi(a).w_()&&a.oa.length>0}function sS(a){Qi(a).start()}async function eC(a){Qi(a).H_()}async function nC(a){const t=Qi(a);for(const e of a.oa)t.G_(e.mutations)}async function rC(a,t,e){const i=a.oa.shift(),s=Dp.from(i,t,e);await iS(a,()=>a.remoteSyncer.applySuccessfulWrite(s)),await Fo(a)}async function iC(a,t){t&&Qi(a).W_&&await async function(i,s){if(function(c){return qx(c)&&c!==J.ABORTED}(s.code)){const l=i.oa.shift();Qi(i).D_(),await iS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Fo(i)}}(a,t),aS(a)&&sS(a)}async function eT(a,t){const e=gt(a);e.asyncQueue.verifyOperationInProgress(),rt(as,"RemoteStore received new credentials");const i=ss(e);e.aa.add(3),await Xu(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await jf(e)}async function Wg(a,t){const e=gt(a);t?(e.aa.delete(2),await jf(e)):t||(e.aa.add(2),await Xu(e),e.la.set("Unknown"))}function Ho(a){return a.Pa||(a.Pa=function(e,i,s){const l=gt(e);return l.Y_(),new FD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(a.datastore,a.asyncQueue,{jo:YD.bind(null,a),Jo:XD.bind(null,a),Zo:ZD.bind(null,a),Q_:JD.bind(null,a)}),a.ua.push(async t=>{t?(a.Pa.D_(),Fp(a)?qp(a):a.la.set("Unknown")):(await a.Pa.stop(),rS(a))})),a.Pa}function Qi(a){return a.Ta||(a.Ta=function(e,i,s){const l=gt(e);return l.Y_(),new HD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:eC.bind(null,a),Zo:iC.bind(null,a),z_:nC.bind(null,a),j_:rC.bind(null,a)}),a.ua.push(async t=>{t?(a.Ta.D_(),await Fo(a)):(await a.Ta.stop(),a.oa.length>0&&(rt(as,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,e,i,s,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,l){const c=Date.now()+i,d=new Hp(t,e,c,s,l);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(a,t){if(ve("AsyncQueue",`${t}: ${a}`),Zi(a))return new ot(J.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(t){return new go(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=cu(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new go;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.Ia=new re(ht.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class Oo{constructor(t,e,i,s,l,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,s,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Oo(t,e,go.emptySet(e),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Of(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class sC{constructor(){this.queries=rT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const s=gt(e),l=s.queries;s.queries=rT(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(i)})})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function rT(){return new ei(a=>Zb(a),Of)}async function oC(a,t){const e=gt(a);let i=3;const s=t.query;let l=e.queries.get(s);l?!l.Va()&&t.ma()&&(i=2):(l=new aC,i=t.ma()?0:1);try{switch(i){case 0:l.Aa=await e.onListen(s,!0);break;case 1:l.Aa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(c){const d=Gp(c,`Initialization of query '${uo(t.query)}' failed`);return void t.onError(d)}e.queries.set(s,l),l.Ra.push(t),t.ga(e.onlineState),l.Aa&&t.pa(l.Aa)&&Kp(e)}async function lC(a,t){const e=gt(a),i=t.query;let s=3;const l=e.queries.get(i);if(l){const c=l.Ra.indexOf(t);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?s=t.ma()?0:1:!l.Va()&&t.ma()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function uC(a,t){const e=gt(a);let i=!1;for(const s of t){const l=s.query,c=e.queries.get(l);if(c){for(const d of c.Ra)d.pa(s)&&(i=!0);c.Aa=s}}i&&Kp(e)}function cC(a,t,e){const i=gt(a),s=i.queries.get(t);if(s)for(const l of s.Ra)l.onError(e);i.queries.delete(t)}function Kp(a){a.fa.forEach(t=>{t.next()})}var tp,iT;(iT=tp||(tp={})).ya="default",iT.Cache="cache";class hC{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Oo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.key=t}}class lS{constructor(t){this.key=t}}class fC{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Dt(),this.mutatedKeys=Dt(),this.Ua=Wb(t),this.Ka=new go(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new nT,s=e?e.Ka:this.Ka;let l=e?e.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((_,T)=>{const S=s.get(_),x=Qu(this.query,T)?T:null,C=!!S&&this.mutatedKeys.has(S.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;S&&x?S.data.isEqual(x.data)?C!==K&&(i.track({type:3,doc:x}),L=!0):this.ja(S,x)||(i.track({type:2,doc:x}),L=!0,(m&&this.Ua(x,m)>0||p&&this.Ua(x,p)<0)&&(d=!0)):!S&&x?(i.track({type:0,doc:x}),L=!0):S&&!x&&(i.track({type:1,doc:S}),L=!0,(m||p)&&(d=!0)),L&&(x?(c=c.add(x),l=K?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const l=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const c=t.za.da();c.sort((_,T)=>function(x,C){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:L})}};return K(x)-K(C)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(i),s=s!=null&&s;const d=e&&!s?this.Ja():[],m=this.$a.size===0&&this.current&&!s?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new Oo(this.query,t.Ka,l,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new nT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Dt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new lS(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new oS(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Dt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return Oo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Go="SyncEngine";class dC{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class mC{constructor(t){this.key=t,this.tu=!1}}class gC{constructor(t,e,i,s,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new ei(d=>Zb(d),Of),this.iu=new Map,this.su=new Set,this.ou=new re(ht.comparator),this._u=new Map,this.au=new Pp,this.uu={},this.cu=new Map,this.lu=is.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function pC(a,t,e=!0){const i=Ff(a);let s;const l=i.ru.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.eu()):s=await uS(i,t,e,!0),s}async function yC(a,t){const e=Ff(a);await uS(e,t,!0,!1)}async function uS(a,t,e,i){const s=await mf(a.localStore,Rn(t)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,e);let d;return i&&(d=await Qp(a,t,l,c==="current",s.resumeToken)),a.isPrimaryClient&&e&&qf(a.remoteStore,s),d}async function Qp(a,t,e,i,s){a.Pu=(T,S,x)=>async function(K,L,Q,et){let Y=L.view.Ga(Q);Y.ys&&(Y=await Xg(K.localStore,L.query,!1).then(({documents:V})=>L.view.Ga(V,Y)));const ft=et&&et.targetChanges.get(L.targetId),at=et&&et.targetMismatches.get(L.targetId)!=null,pt=L.view.applyChanges(Y,K.isPrimaryClient,ft,at);return ep(K,L.targetId,pt.Ya),pt.snapshot}(a,T,S,x);const l=await Xg(a.localStore,t,!0),c=new fC(t,l.Ns),d=c.Ga(l.documents),m=Yu.createSynthesizedTargetChangeForCurrentChange(e,i&&a.onlineState!=="Offline",s),p=c.applyChanges(d,a.isPrimaryClient,m);ep(a,e,p.Ya);const _=new dC(t,e,c);return a.ru.set(t,_),a.iu.has(e)?a.iu.get(e).push(t):a.iu.set(e,[t]),p.snapshot}async function _C(a,t,e){const i=gt(a),s=i.ru.get(t),l=i.iu.get(s.targetId);if(l.length>1)return i.iu.set(s.targetId,l.filter(c=>!Of(c,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Vo(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&No(i.remoteStore,s.targetId),Mo(i,s.targetId)}).catch(Xi)):(Mo(i,s.targetId),await Vo(i.localStore,s.targetId,!0))}async function vC(a,t){const e=gt(a),i=e.ru.get(t),s=e.iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),No(e.remoteStore,i.targetId))}async function EC(a,t,e){const i=Zp(a);try{const s=await function(c,d){const m=gt(c),p=ce.now(),_=d.reduce((x,C)=>x.add(C.key),Dt());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=wn(),K=Dt();return m.Cs.getEntries(x,_).next(L=>{C=L,C.forEach((Q,et)=>{et.isValidDocument()||(K=K.add(Q))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,C)).next(L=>{T=L;const Q=[];for(const et of d){const Y=Bx(et,T.get(et.key).overlayedDocument);Y!=null&&Q.push(new ni(et.key,Y,jb(Y.value.mapValue),on.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,Q,d)}).next(L=>{S=L;const Q=L.applyToLocalDocumentSet(T,K);return m.documentOverlayCache.saveOverlays(x,L.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:eA(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let p=c.uu[c.currentUser.toKey()];p||(p=new re(St)),p=p.insert(d,m),c.uu[c.currentUser.toKey()]=p}(i,s.batchId,e),await Wi(i,s.changes),await Fo(i.remoteStore)}catch(s){const l=Gp(s,"Failed to persist write");e.reject(l)}}async function cS(a,t){const e=gt(a);try{const i=await PD(e.localStore,t);t.targetChanges.forEach((s,l)=>{const c=e._u.get(l);c&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.tu=!0:s.modifiedDocuments.size>0?yt(c.tu,14607):s.removedDocuments.size>0&&(yt(c.tu,42227),c.tu=!1))}),await Wi(e,i,t)}catch(i){await Xi(i)}}function aT(a,t,e){const i=gt(a);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ru.forEach((l,c)=>{const d=c.view.ga(t);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=gt(c);m.onlineState=d;let p=!1;m.queries.forEach((_,T)=>{for(const S of T.Ra)S.ga(d)&&(p=!0)}),p&&Kp(m)}(i.eventManager,t),s.length&&i.nu.Q_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function TC(a,t,e){const i=gt(a);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i._u.get(t),l=s&&s.key;if(l){let c=new re(ht.comparator);c=c.insert(l,ge.newNoDocument(l,Et.min()));const d=Dt().add(l),m=new $u(Et.min(),new Map,new re(St),c,d);await cS(i,m),i.ou=i.ou.remove(l),i._u.delete(t),Xp(i)}else await Vo(i.localStore,t,!1).then(()=>Mo(i,t,e)).catch(Xi)}async function bC(a,t){const e=gt(a),i=t.batch.batchId;try{const s=await MD(e.localStore,t);Yp(e,i,null),$p(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Wi(e,s)}catch(s){await Xi(s)}}async function AC(a,t,e){const i=gt(a);try{const s=await function(c,d){const m=gt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(yt(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>m.localDocuments.getDocuments(p,_))})}(i.localStore,t);Yp(i,t,e),$p(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Wi(i,s)}catch(s){await Xi(s)}}function $p(a,t){(a.cu.get(t)||[]).forEach(e=>{e.resolve()}),a.cu.delete(t)}function Yp(a,t,e){const i=gt(a);let s=i.uu[i.currentUser.toKey()];if(s){const l=s.get(t);l&&(e?l.reject(e):l.resolve(),s=s.remove(t)),i.uu[i.currentUser.toKey()]=s}}function Mo(a,t,e=null){a.sharedClientState.removeLocalQueryTarget(t);for(const i of a.iu.get(t))a.ru.delete(i),e&&a.nu.Tu(i,e);a.iu.delete(t),a.isPrimaryClient&&a.au.Ur(t).forEach(i=>{a.au.containsKey(i)||hS(a,i)})}function hS(a,t){a.su.delete(t.path.canonicalString());const e=a.ou.get(t);e!==null&&(No(a.remoteStore,e),a.ou=a.ou.remove(t),a._u.delete(e),Xp(a))}function ep(a,t,e){for(const i of e)i instanceof oS?(a.au.addReference(i.key,t),SC(a,i)):i instanceof lS?(rt(Go,"Document no longer in limbo: "+i.key),a.au.removeReference(i.key,t),a.au.containsKey(i.key)||hS(a,i.key)):dt(19791,{Iu:i})}function SC(a,t){const e=t.key,i=e.path.canonicalString();a.ou.get(e)||a.su.has(i)||(rt(Go,"New document in limbo: "+e),a.su.add(i),Xp(a))}function Xp(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const t=a.su.values().next().value;a.su.delete(t);const e=new ht(Ht.fromString(t)),i=a.lu.next();a._u.set(i,new mC(e)),a.ou=a.ou.insert(e,i),qf(a.remoteStore,new Kr(Rn(Nf(e.path)),i,"TargetPurposeLimboResolution",fn.le))}}async function Wi(a,t,e){const i=gt(a),s=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,m)=>{c.push(i.Pu(m,t,e).then(p=>{var _;if((p||e)&&i.isPrimaryClient){const T=p?!p.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){s.push(p);const T=Up.Ps(m.targetId,p);l.push(T)}}))}),await Promise.all(c),i.nu.Q_(s),await async function(m,p){const _=gt(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>B.forEach(p,S=>B.forEach(S.ls,x=>_.persistence.referenceDelegate.addReference(T,S.targetId,x)).next(()=>B.forEach(S.hs,x=>_.persistence.referenceDelegate.removeReference(T,S.targetId,x)))))}catch(T){if(!Zi(T))throw T;rt(zp,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const x=_.Ss.get(S),C=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(C);_.Ss=_.Ss.insert(S,K)}}}(i.localStore,l))}async function wC(a,t){const e=gt(a);if(!e.currentUser.isEqual(t)){rt(Go,"User change. New user:",t.toKey());const i=await HA(e.localStore,t);e.currentUser=t,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new ot(J.CANCELLED,c))})}),l.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Wi(e,i.Ms)}}function RC(a,t){const e=gt(a),i=e._u.get(t);if(i&&i.tu)return Dt().add(i.key);{let s=Dt();const l=e.iu.get(t);if(!l)return s;for(const c of l){const d=e.ru.get(c);s=s.unionWith(d.view.Wa)}return s}}async function IC(a,t){const e=gt(a),i=await Xg(e.localStore,t.query,!0),s=t.view.Xa(i);return e.isPrimaryClient&&ep(e,t.targetId,s.Ya),s}async function xC(a,t){const e=gt(a);return QA(e.localStore,t).then(i=>Wi(e,i))}async function DC(a,t,e,i){const s=gt(a),l=await function(d,m){const p=gt(d),_=gt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.Hn(T,m).next(S=>S?p.localDocuments.getDocuments(T,S):B.resolve(null)))}(s.localStore,t);l!==null?(e==="pending"?await Fo(s.remoteStore):e==="acknowledged"||e==="rejected"?(Yp(s,t,i||null),$p(s,t),function(d,m){gt(gt(d).mutationQueue).Xn(m)}(s.localStore,t)):dt(6720,"Unknown batchState",{Eu:e}),await Wi(s,l)):rt(Go,"Cannot apply mutation batch with id: "+t)}async function CC(a,t){const e=gt(a);if(Ff(e),Zp(e),t===!0&&e.hu!==!0){const i=e.sharedClientState.getAllActiveQueryTargets(),s=await sT(e,i.toArray());e.hu=!0,await Wg(e.remoteStore,!0);for(const l of s)qf(e.remoteStore,l)}else if(t===!1&&e.hu!==!1){const i=[];let s=Promise.resolve();e.iu.forEach((l,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):s=s.then(()=>(Mo(e,c),Vo(e.localStore,c,!0))),No(e.remoteStore,c)}),await s,await sT(e,i),function(c){const d=gt(c);d._u.forEach((m,p)=>{No(d.remoteStore,p)}),d.au.Kr(),d._u=new Map,d.ou=new re(ht.comparator)}(e),e.hu=!1,await Wg(e.remoteStore,!1)}}async function sT(a,t,e){const i=gt(a),s=[],l=[];for(const c of t){let d;const m=i.iu.get(c);if(m&&m.length!==0){d=await mf(i.localStore,Rn(m[0]));for(const p of m){const _=i.ru.get(p),T=await IC(i,_);T.snapshot&&l.push(T.snapshot)}}else{const p=await KA(i.localStore,c);d=await mf(i.localStore,p),await Qp(i,fS(p),c,!1,d.resumeToken)}s.push(d)}return i.nu.Q_(l),s}function fS(a){return Yb(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function VC(a){return function(e){return gt(gt(e).persistence).us()}(gt(a).localStore)}async function NC(a,t,e,i){const s=gt(a);if(s.hu)return void rt(Go,"Ignoring unexpected query state notification.");const l=s.iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const c=await QA(s.localStore,Jb(l[0])),d=$u.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Ee.EMPTY_BYTE_STRING);await Wi(s,c,d);break}case"rejected":await Vo(s.localStore,t,!0),Mo(s,t,i);break;default:dt(64155,e)}}async function OC(a,t,e){const i=Ff(a);if(i.hu){for(const s of t){if(i.iu.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){rt(Go,"Adding an already active target "+s);continue}const l=await KA(i.localStore,s),c=await mf(i.localStore,l);await Qp(i,fS(l),c.targetId,!1,c.resumeToken),qf(i.remoteStore,c)}for(const s of e)i.iu.has(s)&&await Vo(i.localStore,s,!1).then(()=>{No(i.remoteStore,s),Mo(i,s)}).catch(Xi)}}function Ff(a){const t=gt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TC.bind(null,t),t.nu.Q_=uC.bind(null,t.eventManager),t.nu.Tu=cC.bind(null,t.eventManager),t}function Zp(a){const t=gt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,t),t}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return FA(this.persistence,new qA,t.initialUser,this.serializer)}Ru(t){return new kp(zf.Ei,this.serializer)}Au(t){return new JA}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class MC extends zu{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){yt(this.persistence.referenceDelegate instanceof df,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kA(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new kp(i=>df.Ei(i,e),this.serializer)}}class dS extends zu{constructor(t,e,i){super(),this.gu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.gu.initialize(this,t),await Zp(this.gu.syncEngine),await Fo(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(t){return FA(this.persistence,new qA,t.initialUser,this.serializer)}mu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new kA(i,t.asyncQueue,e)}fu(t,e){const i=new F2(e,this.persistence);return new q2(t.asyncQueue,i)}Ru(t){const e=jA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new Lp(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,WA(),Fh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(t){return new JA}}class PC extends dS{constructor(t,e){super(t,e,!1),this.gu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.gu.syncEngine;this.sharedClientState instanceof mg&&(this.sharedClientState.syncEngine={yo:DC.bind(null,e),wo:NC.bind(null,e),bo:OC.bind(null,e),us:VC.bind(null,e),po:xC.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ki(async i=>{await CC(this.gu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}Au(t){const e=WA();if(!mg.C(e))throw new ot(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=jA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mg(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Bu{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await Wg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sC}()}createDatastore(t){const e=Bf(t.databaseInfo.databaseId),i=function(l){return new qD(l)}(t.databaseInfo);return function(l,c,d,m){return new KD(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,l,c,d){return new $D(i,s,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>aT(this.syncEngine,e,0),function(){return WE.C()?new WE:new UD}())}createSyncEngine(t,e){return function(s,l,c,d,m,p,_){const T=new gC(s,l,c,d,m,p);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const l=gt(s);rt(as,"RemoteStore shutting down."),l.aa.add(5),await Xu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Bu.provider={build:()=>new Bu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ve("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class LC{constructor(t,e,i,s,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=ze.UNAUTHENTICATED,this.clientId=gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{rt($i,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(rt($i,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Gp(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function pg(a,t){a.asyncQueue.verifyOperationInProgress(),rt($i,"Initializing OfflineComponentProvider");const e=a.configuration;await t.initialize(e);let i=e.initialUser;a.setCredentialChangeListener(async s=>{i.isEqual(s)||(await HA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function oT(a,t){a.asyncQueue.verifyOperationInProgress();const e=await UC(a);rt($i,"Initializing OnlineComponentProvider"),await t.initialize(e,a.configuration),a.setCredentialChangeListener(i=>eT(t.remoteStore,i)),a.setAppCheckTokenChangeListener((i,s)=>eT(t.remoteStore,s)),a._onlineComponents=t}async function UC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt($i,"Using user provided OfflineComponentProvider");try{await pg(a,a._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;po("Error using user provided cache. Falling back to memory cache: "+e),await pg(a,new zu)}}else rt($i,"Using default OfflineComponentProvider"),await pg(a,new MC(void 0));return a._offlineComponents}async function mS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt($i,"Using user provided OnlineComponentProvider"),await oT(a,a._uninitializedComponentsProvider._online)):(rt($i,"Using default OnlineComponentProvider"),await oT(a,new Bu))),a._onlineComponents}function zC(a){return mS(a).then(t=>t.syncEngine)}async function lT(a){const t=await mS(a),e=t.eventManager;return e.onListen=pC.bind(null,t.syncEngine),e.onUnlisten=_C.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yC.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=vC.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(a,t,e){if(!e)throw new ot(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function BC(a,t,e,i){if(t===!0&&i===!0)throw new ot(J.INVALID_ARGUMENT,`${a} and ${e} cannot be used together.`)}function cT(a){if(!ht.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function hT(a){if(ht.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function Fi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hf(a);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firestore.googleapis.com",fT=!0;class dT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=fT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:fT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PA)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gf{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V2;switch(i.type){case"firstParty":return new P2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=uT.get(e);i&&(rt("ComponentProvider","Removing Datastore"),uT.delete(e),i.terminate())}(this),Promise.resolve()}}function jC(a,t,e,i={}){var s;a=Fi(a,Gf);const l=dp(t),c=a._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),m=`${t}:${e}`;l&&JT(`https://${m}`),c.host!==yS&&c.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Su(p,d)&&(a._setSettings(p),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=ze.MOCK_USER;else{_=fI(i.mockUserToken,(s=a._app)===null||s===void 0?void 0:s.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ze(S)}a._authCredentials=new N2(new db(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new os(this.firestore,t,this._query)}}class mn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class Hi extends os{constructor(t,e,i){super(t,e,Nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new ht(t))}withConverter(t){return new Hi(this.firestore,t,this._path)}}function _S(a,t,...e){if(a=pr(a),pS("collection","path",t),a instanceof Gf){const i=Ht.fromString(t,...e);return hT(i),new Hi(a,null,i)}{if(!(a instanceof mn||a instanceof Hi))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Ht.fromString(t,...e));return hT(i),new Hi(a.firestore,null,i)}}function Jp(a,t,...e){if(a=pr(a),arguments.length===1&&(t=gb.newId()),pS("doc","path",t),a instanceof Gf){const i=Ht.fromString(t,...e);return cT(i),new mn(a,null,new ht(i))}{if(!(a instanceof mn||a instanceof Hi))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Ht.fromString(t,...e));return cT(i),new mn(a.firestore,a instanceof Hi?a.converter:null,new ht(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="AsyncQueue";class gT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tS(this,"async_queue_retry"),this.ju=()=>{const i=Fh();i&&rt(mT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Fh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Fh();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new ji;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Zi(t))throw t;rt(mT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,ve("INTERNAL UNHANDLED ERROR: ",pT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const s=Hp.createAndSchedule(this,t,e,i,l=>this.Xu(l));return this.Uu.push(s),s}Ju(){this.Ku&&dt(47125,{ec:pT(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function pT(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(a){return function(e,i){if(typeof e!="object"||e===null)return!1;const s=e;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(a,["next","error","complete"])}class Po extends Gf{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new gT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gT(t),this._firestoreClient=void 0,await t}}}function qC(a,t,e){e||(e=Ou);const i=nb(a,"firestore");if(i.isInitialized(e)){const s=i.getImmediate({identifier:e}),l=i.getOptions(e);if(Su(l,t))return s;throw new ot(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ot(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PA)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&dp(t.host)&&JT(t.host),i.initialize({options:t,instanceIdentifier:e})}function FC(a,t){const e=typeof a=="object"?a:_2(),i=typeof a=="string"?a:Ou,s=nb(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=cI("firestore");l&&jC(s,...l)}return s}function vS(a){if(a._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||HC(a),a._firestoreClient}function HC(a){var t,e,i;const s=a._freezeSettings(),l=function(d,m,p,_){return new yx(d,m,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,gS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,s);a._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),a._firestoreClient=new LC(a._authCredentials,a._appCheckCredentials,a._queue,l,a._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ko(Ee.fromBase64String(t))}catch(e){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ko(Ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^__.*__$/;class KC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ni(t,this.data,this.fieldMask,e,this.fieldTransforms):new qo(t,this.data,e,this.fieldTransforms)}}class ES{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ni(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function TS(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{oc:a})}}class ey{constructor(t,e,i,s,l,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new ey(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ac({path:i,cc:!1});return s.lc(t),s}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return _f(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(TS(this.oc)&&GC.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class QC{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Bf(t)}dc(t,e,i,s=!1){return new ey({oc:t,methodName:e,Ec:i,path:le.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(a){const t=a._freezeSettings(),e=Bf(a._databaseId);return new QC(a._databaseId,!!t.ignoreUndefinedProperties,e)}function $C(a,t,e,i,s,l={}){const c=a.dc(l.merge||l.mergeFields?2:0,t,e,s);iy("Data must be an object, but it was:",c,i);const d=bS(i,c);let m,p;if(l.merge)m=new dn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const S=np(t,T,e);if(!c.contains(S))throw new ot(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);SS(_,S)||_.push(S)}m=new dn(_),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new KC(new We(d),m,p)}class $f extends Qf{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $f}}class ry extends Qf{_toFieldTransform(t){return new lA(t.path,new Io)}isEqual(t){return t instanceof ry}}function YC(a,t,e,i){const s=a.dc(1,t,e);iy("Data must be an object, but it was:",s,i);const l=[],c=We.empty();Ji(i,(m,p)=>{const _=ay(t,m,e);p=pr(p);const T=s.hc(_);if(p instanceof $f)l.push(_);else{const S=Zu(p,T);S!=null&&(l.push(_),c.set(_,S))}});const d=new dn(l);return new ES(c,d,s.fieldTransforms)}function XC(a,t,e,i,s,l){const c=a.dc(1,t,e),d=[np(t,i,e)],m=[s];if(l.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(np(t,l[S])),m.push(l[S+1]);const p=[],_=We.empty();for(let S=d.length-1;S>=0;--S)if(!SS(p,d[S])){const x=d[S];let C=m[S];C=pr(C);const K=c.hc(x);if(C instanceof $f)p.push(x);else{const L=Zu(C,K);L!=null&&(p.push(x),_.set(x,L))}}const T=new dn(p);return new ES(_,T,c.fieldTransforms)}function ZC(a,t,e,i=!1){return Zu(e,a.dc(i?4:3,t))}function Zu(a,t){if(AS(a=pr(a)))return iy("Unsupported field value:",t,a),bS(a,t);if(a instanceof Qf)return function(i,s){if(!TS(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let m=Zu(d,s.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(a,t)}return function(i,s){if((i=pr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Mx(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ce.fromDate(i);return{timestampValue:Co(s.serializer,l)}}if(i instanceof ce){const l=new ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Co(s.serializer,l)}}if(i instanceof Wp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ko)return{bytesValue:gA(s.serializer,i._byteString)};if(i instanceof mn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Np(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ty)return function(c,d){return{mapValue:{fields:{[Ap]:{stringValue:Sp},[Ao]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Ip(d.serializer,p)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Hf(i)}`)}(a,t)}function bS(a,t){const e={};return Nb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ji(a,(i,s)=>{const l=Zu(s,t.uc(i));l!=null&&(e[i]=l)}),{mapValue:{fields:e}}}function AS(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ce||a instanceof Wp||a instanceof ko||a instanceof mn||a instanceof Qf||a instanceof ty)}function iy(a,t,e){if(!AS(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=Hf(e);throw i==="an object"?t.Tc(a+" a custom object"):t.Tc(a+" "+i)}}function np(a,t,e){if((t=pr(t))instanceof Kf)return t._internalPath;if(typeof t=="string")return ay(a,t);throw _f("Field path arguments must be of type string or ",a,!1,void 0,e)}const JC=new RegExp("[~\\*/\\[\\]]");function ay(a,t,e){if(t.search(JC)>=0)throw _f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,e);try{return new Kf(...t.split("."))._internalPath}catch{throw _f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,e)}}function _f(a,t,e,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new ot(J.INVALID_ARGUMENT,d+a+m)}function SS(a,t){return a.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,e,i,s,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class WC extends wS{data(){return super.data()}}function sy(a,t){return typeof t=="string"?ay(a,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class RS extends oy{}function eV(a,t,...e){let i=[];t instanceof oy&&i.push(t),i=i.concat(e),function(l){const c=l.filter(m=>m instanceof uy).length,d=l.filter(m=>m instanceof ly).length;if(c>1||c>0&&d>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)a=s._apply(a);return a}class ly extends RS{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ly(t,e,i)}_apply(t){const e=this._parse(t);return IS(t._query,e),new os(t.firestore,t.converter,jg(t._query,e))}_parse(t){const e=ny(t.firestore);return function(l,c,d,m,p,_,T){let S;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){vT(T,_);const C=[];for(const K of T)C.push(_T(m,l,K));S={arrayValue:{values:C}}}else S=_T(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||vT(T,_),S=ZC(d,c,T,_==="in"||_==="not-in");return Mt.create(p,_,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class uy extends oy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new uy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:$t.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)IS(c,m),c=jg(c,m)}(t._query,e),new os(t.firestore,t.converter,jg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends RS{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new cy(t,e)}_apply(t){const e=function(s,l,c){if(s.startAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,c)}(t._query,this._field,this._direction);return new os(t.firestore,t.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new jo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function nV(a,t="asc"){const e=t,i=sy("orderBy",a);return cy._create(i,e)}function _T(a,t,e){if(typeof(e=pr(e))=="string"){if(e==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xb(t)&&e.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(i))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pu(a,new ht(i))}if(e instanceof mn)return Pu(a,e._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(e)}.`)}function vT(a,t){if(!Array.isArray(a)||a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IS(a,t){const e=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(a.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class rV{convertValue(t,e="none"){switch(Gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ji(t,(s,l)=>{i[s]=this.convertValue(l,e)}),i}convertVectorValue(t){var e,i,s;const l=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[Ao].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>se(c.doubleValue));return new ty(l)}convertGeoPoint(t){return new Wp(se(t.latitude),se(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Cf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const e=Zr(t);return new ce(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);yt(wA(i),9688,{name:t});const s=new ts(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return s.isEqual(e)||ve(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(a,t,e){let i;return i=a?a.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xS extends wS{constructor(t,e,i,s,l,c){super(t,e,i,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(sy("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Hh extends xS{data(t={}){return super.data(t)}}class aV{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Hh(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new Hh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Hh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:sV(d.type),doc:m,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function sV(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}class DS extends rV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ko(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,e)}}function oV(a,t,e,...i){a=Fi(a,mn);const s=Fi(a.firestore,Po),l=ny(s);let c;return c=typeof(t=pr(t))=="string"||t instanceof Kf?XC(l,"updateDoc",a._key,t,e,i):YC(l,"updateDoc",a._key,t),hy(s,[c.toMutation(a._key,on.exists(!0))])}function lV(a){return hy(Fi(a.firestore,Po),[new kf(a._key,on.none())])}function uV(a,t){const e=Fi(a.firestore,Po),i=Jp(a),s=iV(a.converter,t);return hy(e,[$C(ny(a.firestore),"addDoc",i._key,s,a.converter!==null,{}).toMutation(i._key,on.exists(!1))]).then(()=>i)}function cV(a,...t){var e,i,s;a=pr(a);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||yT(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(yT(t[c])){const T=t[c];t[c]=(e=T.next)===null||e===void 0?void 0:e.bind(T),t[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),t[c+2]=(s=T.complete)===null||s===void 0?void 0:s.bind(T)}let m,p,_;if(a instanceof mn)p=Fi(a.firestore,Po),_=Nf(a._key.path),m={next:T=>{t[c]&&t[c](hV(p,a,T))},error:t[c+1],complete:t[c+2]};else{const T=Fi(a,os);p=Fi(T.firestore,Po),_=T._query;const S=new DS(p);m={next:x=>{t[c]&&t[c](new aV(p,S,T,x))},error:t[c+1],complete:t[c+2]},tV(a._query)}return function(S,x,C,K){const L=new kC(K),Q=new hC(x,L,C);return S.asyncQueue.enqueueAndForget(async()=>oC(await lT(S),Q)),()=>{L.yu(),S.asyncQueue.enqueueAndForget(async()=>lC(await lT(S),Q))}}(vS(p),_,d,m)}function hy(a,t){return function(i,s){const l=new ji;return i.asyncQueue.enqueueAndForget(async()=>EC(await zC(i),s,l)),l.promise}(vS(a),t)}function hV(a,t,e){const i=e.docs.get(t._key),s=new DS(a);return new xS(a,s,t._key,i,new du(e.hasPendingWrites,e.fromCache),t.converter)}class fV{constructor(t){let e;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=pV(),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function dV(a){return new fV(a)}class mV{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Bu.provider,this._offlineComponentProvider={build:e=>new dS(e,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}}class gV{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Bu.provider,this._offlineComponentProvider={build:e=>new PC(e,t==null?void 0:t.cacheSizeBytes)}}}function pV(a){return new mV(void 0)}function yV(){return new gV}function _V(){return new ry("serverTimestamp")}(function(t,e=!0){(function(s){Bo=s})(y2),Jh(new wu("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Po(new O2(i.getProvider("auth-internal")),new k2(c,i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ts(p.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),mo(Z0,J0,t),mo(Z0,J0,"esm2017")})();const vV={apiKey:"AIzaSyDNgPttDg3Yklxhj9wITPJ7WuQeFoh9FWs",authDomain:"task-ba00e.firebaseapp.com",projectId:"task-ba00e",storageBucket:"task-ba00e.firebasestorage.app",messagingSenderId:"171112861266",appId:"1:171112861266:web:ebe28c8d91eeea07b9598b",measurementId:"G-CR48HB0GG5"},CS=rb(vV);qC(CS,{localCache:dV({tabManager:yV()})});const Yf=FC(CS);async function EV(a,t){if(!a.trim())throw new Error("Task body is required");if(isNaN(t))throw new Error("Priority must be a number");const e={body:a,priority:t,isCompleted:!1,createdAt:_V()};return{id:(await uV(_S(Yf,"tasks"),e)).id,...e}}const TV=async(a,t)=>{const e=Jp(Yf,"tasks",a);await oV(e,{isCompleted:t})};function bV(a){const t=eV(_S(Yf,"tasks"),nV("createdAt","desc"));return cV(t,i=>{const s=i.docs.map(l=>({id:l.id,...l.data()}));a(s)})}async function AV(a){if(!a)throw new Error("Task ID is required");const t=Jp(Yf,"tasks",a);await lV(t)}let SV={data:""},wV=a=>typeof window=="object"?((a?a.querySelector("#_goober"):window._goober)||Object.assign((a||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:a||SV,RV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IV=/\/\*[^]*?\*\/|  +/g,ET=/\n+/g,ki=(a,t)=>{let e="",i="",s="";for(let l in a){let c=a[l];l[0]=="@"?l[1]=="i"?e=l+" "+c+";":i+=l[1]=="f"?ki(c,l):l+"{"+ki(c,l[1]=="k"?"":t)+"}":typeof c=="object"?i+=ki(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ki.p?ki.p(l,c):l+":"+c+";")}return e+(t&&s?t+"{"+s+"}":s)+i},Gr={},VS=a=>{if(typeof a=="object"){let t="";for(let e in a)t+=e+VS(a[e]);return t}return a},xV=(a,t,e,i,s)=>{let l=VS(a),c=Gr[l]||(Gr[l]=(m=>{let p=0,_=11;for(;p<m.length;)_=101*_+m.charCodeAt(p++)>>>0;return"go"+_})(l));if(!Gr[c]){let m=l!==a?a:(p=>{let _,T,S=[{}];for(;_=RV.exec(p.replace(IV,""));)_[4]?S.shift():_[3]?(T=_[3].replace(ET," ").trim(),S.unshift(S[0][T]=S[0][T]||{})):S[0][_[1]]=_[2].replace(ET," ").trim();return S[0]})(a);Gr[c]=ki(s?{["@keyframes "+c]:m}:m,e?"":"."+c)}let d=e&&Gr.g?Gr.g:null;return e&&(Gr.g=Gr[c]),((m,p,_,T)=>{T?p.data=p.data.replace(T,m):p.data.indexOf(m)===-1&&(p.data=_?m+p.data:p.data+m)})(Gr[c],t,i,d),c},DV=(a,t,e)=>a.reduce((i,s,l)=>{let c=t[l];if(c&&c.call){let d=c(e),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":ki(d,""):d===!1?"":d}return i+s+(c??"")},"");function Xf(a){let t=this||{},e=a.call?a(t.p):a;return xV(e.unshift?e.raw?DV(e,[].slice.call(arguments,1),t.p):e.reduce((i,s)=>Object.assign(i,s&&s.call?s(t.p):s),{}):e,wV(t.target),t.g,t.o,t.k)}let NS,rp,ip;Xf.bind({g:1});let Wr=Xf.bind({k:1});function CV(a,t,e,i){ki.p=t,NS=a,rp=e,ip=i}function ta(a,t){let e=this||{};return function(){let i=arguments;function s(l,c){let d=Object.assign({},l),m=d.className||s.className;e.p=Object.assign({theme:rp&&rp()},d),e.o=/ *go\d+/.test(m),d.className=Xf.apply(e,i)+(m?" "+m:"");let p=a;return a[0]&&(p=d.as||a,delete d.as),ip&&p[0]&&ip(d),NS(p,d)}return s}}var VV=a=>typeof a=="function",vf=(a,t)=>VV(a)?a(t):a,NV=(()=>{let a=0;return()=>(++a).toString()})(),OS=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");a=!t||t.matches}return a}})(),OV=20,MS=(a,t)=>{switch(t.type){case 0:return{...a,toasts:[t.toast,...a.toasts].slice(0,OV)};case 1:return{...a,toasts:a.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:e}=t;return MS(a,{type:a.toasts.find(l=>l.id===e.id)?1:0,toast:e});case 3:let{toastId:i}=t;return{...a,toasts:a.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...a,pausedAt:t.time};case 6:let s=t.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Gh=[],Qa={toasts:[],pausedAt:void 0},ls=a=>{Qa=MS(Qa,a),Gh.forEach(t=>{t(Qa)})},MV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},PV=(a={})=>{let[t,e]=F.useState(Qa),i=F.useRef(Qa);F.useEffect(()=>(i.current!==Qa&&e(Qa),Gh.push(e),()=>{let l=Gh.indexOf(e);l>-1&&Gh.splice(l,1)}),[]);let s=t.toasts.map(l=>{var c,d,m;return{...a,...a[l.type],...l,removeDelay:l.removeDelay||((c=a[l.type])==null?void 0:c.removeDelay)||(a==null?void 0:a.removeDelay),duration:l.duration||((d=a[l.type])==null?void 0:d.duration)||(a==null?void 0:a.duration)||MV[l.type],style:{...a.style,...(m=a[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:s}},kV=(a,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...e,id:(e==null?void 0:e.id)||NV()}),Ju=a=>(t,e)=>{let i=kV(t,a,e);return ls({type:2,toast:i}),i.id},sn=(a,t)=>Ju("blank")(a,t);sn.error=Ju("error");sn.success=Ju("success");sn.loading=Ju("loading");sn.custom=Ju("custom");sn.dismiss=a=>{ls({type:3,toastId:a})};sn.remove=a=>ls({type:4,toastId:a});sn.promise=(a,t,e)=>{let i=sn.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof a=="function"&&(a=a()),a.then(s=>{let l=t.success?vf(t.success,s):void 0;return l?sn.success(l,{id:i,...e,...e==null?void 0:e.success}):sn.dismiss(i),s}).catch(s=>{let l=t.error?vf(t.error,s):void 0;l?sn.error(l,{id:i,...e,...e==null?void 0:e.error}):sn.dismiss(i)}),a};var LV=(a,t)=>{ls({type:1,toast:{id:a,height:t}})},UV=()=>{ls({type:5,time:Date.now()})},bu=new Map,zV=1e3,BV=(a,t=zV)=>{if(bu.has(a))return;let e=setTimeout(()=>{bu.delete(a),ls({type:4,toastId:a})},t);bu.set(a,e)},jV=a=>{let{toasts:t,pausedAt:e}=PV(a);F.useEffect(()=>{if(e)return;let l=Date.now(),c=t.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&sn.dismiss(d.id);return}return setTimeout(()=>sn.dismiss(d.id),m)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[t,e]);let i=F.useCallback(()=>{e&&ls({type:6,time:Date.now()})},[e]),s=F.useCallback((l,c)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:p}=c||{},_=t.filter(x=>(x.position||p)===(l.position||p)&&x.height),T=_.findIndex(x=>x.id===l.id),S=_.filter((x,C)=>C<T&&x.visible).length;return _.filter(x=>x.visible).slice(...d?[S+1]:[0,S]).reduce((x,C)=>x+(C.height||0)+m,0)},[t]);return F.useEffect(()=>{t.forEach(l=>{if(l.dismissed)BV(l.id,l.removeDelay);else{let c=bu.get(l.id);c&&(clearTimeout(c),bu.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:LV,startPause:UV,endPause:i,calculateOffset:s}}},qV=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,FV=Wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HV=Wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GV=ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${FV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${HV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KV=Wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QV=ta("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${KV} 1s linear infinite;
`,$V=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YV=Wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XV=ta("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$V} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ZV=ta("div")`
  position: absolute;
`,JV=ta("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WV=Wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tN=ta("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eN=({toast:a})=>{let{icon:t,type:e,iconTheme:i}=a;return t!==void 0?typeof t=="string"?F.createElement(tN,null,t):t:e==="blank"?null:F.createElement(JV,null,F.createElement(QV,{...i}),e!=="loading"&&F.createElement(ZV,null,e==="error"?F.createElement(GV,{...i}):F.createElement(XV,{...i})))},nN=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rN=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,iN="0%{opacity:0;} 100%{opacity:1;}",aN="0%{opacity:1;} 100%{opacity:0;}",sN=ta("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,oN=ta("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lN=(a,t)=>{let e=a.includes("top")?1:-1,[i,s]=OS()?[iN,aN]:[nN(e),rN(e)];return{animation:t?`${Wr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uN=F.memo(({toast:a,position:t,style:e,children:i})=>{let s=a.height?lN(a.position||t||"top-center",a.visible):{opacity:0},l=F.createElement(eN,{toast:a}),c=F.createElement(oN,{...a.ariaProps},vf(a.message,a));return F.createElement(sN,{className:a.className,style:{...s,...e,...a.style}},typeof i=="function"?i({icon:l,message:c}):F.createElement(F.Fragment,null,l,c))});CV(F.createElement);var cN=({id:a,className:t,style:e,onHeightUpdate:i,children:s})=>{let l=F.useCallback(c=>{if(c){let d=()=>{let m=c.getBoundingClientRect().height;i(a,m)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[a,i]);return F.createElement("div",{ref:l,className:t,style:e},s)},hN=(a,t)=>{let e=a.includes("top"),i=e?{top:0}:{bottom:0},s=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:OS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...s}},fN=Xf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vh=16,dN=({reverseOrder:a,position:t="top-center",toastOptions:e,gutter:i,children:s,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:m}=jV(e);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Vh,left:Vh,right:Vh,bottom:Vh,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(p=>{let _=p.position||t,T=m.calculateOffset(p,{reverseOrder:a,gutter:i,defaultPosition:t}),S=hN(_,T);return F.createElement(cN,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?fN:"",style:S},p.type==="custom"?vf(p.message,p):s?s(p):F.createElement(uN,{toast:p,position:_}))}))},Ja=sn;function mN(){const[a,t]=F.useState(null),[e,i]=F.useState(null),s=F.useRef(null),{pending:l}=FR.useFormStatus();F.useEffect(()=>{!l&&s.current&&s.current.reset()},[l]);const c=async m=>{t(null),i(null);const p=m.get("body"),_=m.get("priority");if(typeof p!="string"||p.trim()===""){t("Task description is required");return}if(typeof _!="string"||isNaN(parseFloat(_))){i("Priority must be a valid number");return}const T=parseFloat(_);try{await EV(p,T),Ja.success("New task added")}catch(S){navigator.onLine?(t(S instanceof Error?S.message:"Something went wrong"),Ja.error("An error occurred")):Ja.success("Success! Task has been saved offline.")}},d="border w-full mb-2 border-solid border-gray-400 bg-transparent p-3 rounded-xl";return lt.jsx(cp,{children:lt.jsxs("form",{action:c,ref:s,className:"space-y-2",children:[lt.jsx("div",{className:"flex justify-start mb-20",children:lt.jsxs($r,{to:"/tasks",className:"mt-4 w-full mr-auto flex gap-2",children:[lt.jsx(hp,{className:"my-auto text-xl"})," Back"]})}),lt.jsxs("div",{children:[lt.jsx("input",{type:"text",name:"body",placeholder:"Add a Task...",className:d}),a&&lt.jsx("p",{style:{color:"red"},children:a})]}),lt.jsxs("div",{children:[lt.jsx("input",{type:"number",name:"priority",className:d}),e&&lt.jsx("p",{style:{color:"red"},children:e})]}),lt.jsx("div",{className:"flex",children:lt.jsx("button",{type:"submit",className:"bg-yellow-100 rounded-full py-3 w-40 text-black mx-auto",children:"Submit"})})]})})}function gN(a){return Hu({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(a)}function pN(a){return Hu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(a)}function yN({id:a,body:t,priority:e,isCompleted:i,onCheck:s,onDelete:l}){const[c,d]=F.useState(i),m=async _=>{console.log(a);try{s(_),d(_),Ja.success("Saved the changes!")}catch(T){Ja.error("Failed to save changes!"),console.error("failed to save to database",T)}},p=async()=>{await m(!i),console.log(!i)};return lt.jsxs("div",{className:"group relative bg-[#1f1f1f] p-5 w-full rounded-xl",tabIndex:0,children:[lt.jsxs("p",{className:"text-gray-400 text-xs",children:["Priority: ",e]}),lt.jsxs("div",{className:"flex w-full mt-2 justify-between",children:[lt.jsx("p",{className:"flex grow text-gray-200 text-xl",children:t}),lt.jsx("input",{onChange:()=>p(),checked:c,type:"checkbox",className:"m-5 h-5 inline-block my-auto cursor-pointer"})]}),lt.jsxs("div",{className:" mt-4 w-fit ml-auto flex gap-2",children:[lt.jsx(pN,{onClick:l,className:"absolute top-2 text-red-500 opacity-0 group-hover:opacity-100 group-focus:opacity-100 cursor-pointer transition-opacity",size:18,title:"Delete Task",role:"button","aria-label":"Delete Task"}),lt.jsxs("div",{className:"text-sm flex",children:[lt.jsx(gN,{className:"my-auto mr-2"}),lt.jsx("span",{className:"inline-block my-auto",children:"4"})]})]})]})}function _N(){const[a,t]=F.useState([]);F.useEffect(()=>{const s=bV(t);return()=>s()},[]);const e=async(s,l)=>{t(c=>c.map(d=>d.id===s?{...d,completed:l}:d)),await TV(s,l)},i=async s=>{if(window.confirm("Are you sure you want to delete this task?"))try{await AV(s),Ja.success("Task deleted"),t(c=>c.filter(d=>d.id!==s))}catch(c){Ja.error("Failed to delete task"),console.error("failed to delete data:",c)}};return lt.jsxs(cp,{children:[lt.jsxs("div",{className:"flex gap-2 mb-4",children:[lt.jsx("button",{className:"p-2 px-3 bg-green-200 flex rounded-full text-black",children:"Todo"}),lt.jsx($r,{to:"/progress",className:"p-2 px-3 bg-gray-800 flex rounded-full text-white",children:"In Progress"}),lt.jsx($r,{to:"/done",className:"p-2 px-3 bg-gray-800 flex rounded-full text-white",children:"Done"}),lt.jsx($r,{to:"/create",className:`bg-yellow-200 flex rounded-full h-fit my-auto p-2 \r
        text-black ml-auto`,children:lt.jsx(ZR,{className:"text-xl"})})]}),lt.jsx("div",{className:"space-y-2",children:a.map((s,l)=>lt.jsx(yN,{id:s.id,body:s.body,isCompleted:s.isCompleted,priority:s.priority,onCheck:c=>e(s.id,c),onDelete:()=>i(s.id)},l+"task"))})]})}function vN(){return lt.jsxs("div",{className:"flex flex-col justify-center items-center p-4",children:[lt.jsx("h1",{className:"text-2xl font-bold",children:"This page is still in development"}),lt.jsx("br",{}),lt.jsx($r,{to:"/tasks",children:lt.jsxs("div",{className:"flex gap-2 items-center",children:[lt.jsx(hp,{}),lt.jsx("strong",{children:"Back to tasks page"})]})})]})}function EN(){return lt.jsxs("div",{className:"flex flex-col justify-center items-center p-4",children:[lt.jsx("h1",{className:"text-2xl font-bold",children:"This page is still in development"}),lt.jsx("br",{}),lt.jsx($r,{to:"/tasks",children:lt.jsxs("div",{className:"flex gap-2 items-center",children:[lt.jsx(hp,{}),lt.jsx("strong",{children:"Back to tasks page"})]})})]})}function TN(){const a=Yi(),[t,e]=F.useState(a),[i,s]=F.useState("fadeIn");return F.useEffect(()=>{a!==t&&s("fadeOut")},[a,t]),lt.jsx("div",{className:i,onAnimationEnd:()=>{i==="fadeOut"&&(e(a),s("fadeIn"))},children:lt.jsxs(uR,{location:t,children:[lt.jsx(oo,{path:"/",element:lt.jsx(tI,{})}),lt.jsx(oo,{path:"/create",element:lt.jsx(mN,{})}),lt.jsx(oo,{path:"/tasks",element:lt.jsx(_N,{})}),lt.jsx(oo,{path:"/progress",element:lt.jsx(vN,{})}),lt.jsx(oo,{path:"/done",element:lt.jsx(EN,{})})]})})}function bN(){return lt.jsxs(OR,{children:[lt.jsx(dN,{}),lt.jsx(TN,{})]})}var yg={exports:{}},_g={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function AN(){if(TT)return _g;TT=1;var a=bf();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var e=typeof Object.is=="function"?Object.is:t,i=a.useSyncExternalStore,s=a.useRef,l=a.useEffect,c=a.useMemo,d=a.useDebugValue;return _g.useSyncExternalStoreWithSelector=function(m,p,_,T,S){var x=s(null);if(x.current===null){var C={hasValue:!1,value:null};x.current=C}else C=x.current;x=c(function(){function L(at){if(!Q){if(Q=!0,et=at,at=T(at),S!==void 0&&C.hasValue){var pt=C.value;if(S(pt,at))return Y=pt}return Y=at}if(pt=Y,e(et,at))return pt;var V=T(at);return S!==void 0&&S(pt,V)?(et=at,pt):(et=at,Y=V)}var Q=!1,et,Y,ft=_===void 0?null:_;return[function(){return L(p())},ft===null?void 0:function(){return L(ft())}]},[p,_,T,S]);var K=i(m,x[0],x[1]);return l(function(){C.hasValue=!0,C.value=K},[K]),d(K),K},_g}var bT;function SN(){return bT||(bT=1,yg.exports=AN()),yg.exports}SN();function wN(a){a()}function RN(){let a=null,t=null;return{clear(){a=null,t=null},notify(){wN(()=>{let e=a;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=a;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const s=t={callback:e,next:null,prev:t};return s.prev?s.prev.next=s:a=s,function(){!i||a===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:a=s.next)}}}}var AT={notify(){},get:()=>[]};function IN(a,t){let e,i=AT,s=0,l=!1;function c(K){_();const L=i.subscribe(K);let Q=!1;return()=>{Q||(Q=!0,L(),T())}}function d(){i.notify()}function m(){C.onStateChange&&C.onStateChange()}function p(){return l}function _(){s++,e||(e=a.subscribe(m),i=RN())}function T(){s--,e&&s===0&&(e(),e=void 0,i.clear(),i=AT)}function S(){l||(l=!0,_())}function x(){l&&(l=!1,T())}const C={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:S,tryUnsubscribe:x,getListeners:()=>i};return C}var xN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DN=xN(),CN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",VN=CN(),NN=()=>DN||VN?F.useLayoutEffect:F.useEffect,ON=NN(),vg=Symbol.for("react-redux-context"),Eg=typeof globalThis<"u"?globalThis:{};function MN(){if(!F.createContext)return{};const a=Eg[vg]??(Eg[vg]=new Map);let t=a.get(F.createContext);return t||(t=F.createContext(null),a.set(F.createContext,t)),t}var PN=MN();function kN(a){const{children:t,context:e,serverState:i,store:s}=a,l=F.useMemo(()=>{const m=IN(s);return{store:s,subscription:m,getServerState:i?()=>i:void 0}},[s,i]),c=F.useMemo(()=>s.getState(),[s]);ON(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=e||PN;return F.createElement(d.Provider,{value:l},t)}var LN=kN;function Ke(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var UN=typeof Symbol=="function"&&Symbol.observable||"@@observable",ST=UN,Tg=()=>Math.random().toString(36).substring(7).split("").join("."),zN={INIT:`@@redux/INIT${Tg()}`,REPLACE:`@@redux/REPLACE${Tg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tg()}`},Ef=zN;function PS(a){if(typeof a!="object"||a===null)return!1;let t=a;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(a)===t||Object.getPrototypeOf(a)===null}function kS(a,t,e){if(typeof a!="function")throw new Error(Ke(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Ke(1));return e(kS)(a,t)}let i=a,s=t,l=new Map,c=l,d=0,m=!1;function p(){c===l&&(c=new Map,l.forEach((L,Q)=>{c.set(Q,L)}))}function _(){if(m)throw new Error(Ke(3));return s}function T(L){if(typeof L!="function")throw new Error(Ke(4));if(m)throw new Error(Ke(5));let Q=!0;p();const et=d++;return c.set(et,L),function(){if(Q){if(m)throw new Error(Ke(6));Q=!1,p(),c.delete(et),l=null}}}function S(L){if(!PS(L))throw new Error(Ke(7));if(typeof L.type>"u")throw new Error(Ke(8));if(typeof L.type!="string")throw new Error(Ke(17));if(m)throw new Error(Ke(9));try{m=!0,s=i(s,L)}finally{m=!1}return(l=c).forEach(et=>{et()}),L}function x(L){if(typeof L!="function")throw new Error(Ke(10));i=L,S({type:Ef.REPLACE})}function C(){const L=T;return{subscribe(Q){if(typeof Q!="object"||Q===null)throw new Error(Ke(11));function et(){const ft=Q;ft.next&&ft.next(_())}return et(),{unsubscribe:L(et)}},[ST](){return this}}}return S({type:Ef.INIT}),{dispatch:S,subscribe:T,getState:_,replaceReducer:x,[ST]:C}}function BN(a){Object.keys(a).forEach(t=>{const e=a[t];if(typeof e(void 0,{type:Ef.INIT})>"u")throw new Error(Ke(12));if(typeof e(void 0,{type:Ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ke(13))})}function jN(a){const t=Object.keys(a),e={};for(let l=0;l<t.length;l++){const c=t[l];typeof a[c]=="function"&&(e[c]=a[c])}const i=Object.keys(e);let s;try{BN(e)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const p={};for(let _=0;_<i.length;_++){const T=i[_],S=e[T],x=c[T],C=S(x,d);if(typeof C>"u")throw d&&d.type,new Error(Ke(14));p[T]=C,m=m||C!==x}return m=m||i.length!==Object.keys(c).length,m?p:c}}function Tf(...a){return a.length===0?t=>t:a.length===1?a[0]:a.reduce((t,e)=>(...i)=>t(e(...i)))}function qN(...a){return t=>(e,i)=>{const s=t(e,i);let l=()=>{throw new Error(Ke(15))};const c={getState:s.getState,dispatch:(m,...p)=>l(m,...p)},d=a.map(m=>m(c));return l=Tf(...d)(s.dispatch),{...s,dispatch:l}}}function LS(a){return({dispatch:e,getState:i})=>s=>l=>typeof l=="function"?l(e,i,a):s(l)}var FN=LS(),HN=LS,GN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tf:Tf.apply(null,arguments)},US=class mu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mu.prototype)}static get[Symbol.species](){return mu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mu(...t[0].concat(this)):new mu(...t.concat(this))}};function KN(a){return typeof a=="boolean"}var QN=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new US;return e&&(KN(e)?c.push(FN):c.push(HN(e.extraArgument))),c},$N="RTK_autoBatch",wT=a=>t=>{setTimeout(t,a)},YN=(a={type:"raf"})=>t=>(...e)=>{const i=t(...e);let s=!0,l=!1,c=!1;const d=new Set,m=a.type==="tick"?queueMicrotask:a.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wT(10):a.type==="callback"?a.queueNotification:wT(a.timeout),p=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const T=()=>s&&_(),S=i.subscribe(T);return d.add(_),()=>{S(),d.delete(_)}},dispatch(_){var T;try{return s=!((T=_==null?void 0:_.meta)!=null&&T[$N]),l=!s,l&&(c||(c=!0,m(p))),i.dispatch(_)}finally{s=!0}}})},XN=a=>function(e){const{autoBatch:i=!0}=e??{};let s=new US(a);return i&&s.push(YN(typeof i=="object"?i:void 0)),s};function ZN(a){const t=QN(),{reducer:e=void 0,middleware:i,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=a||{};let d;if(typeof e=="function")d=e;else if(PS(e))d=jN(e);else throw new Error(JN(1));let m;typeof i=="function"?m=i(t):m=t();let p=Tf;s&&(p=GN({trace:!1,...typeof s=="object"&&s}));const _=qN(...m),T=XN(_);let S=typeof c=="function"?c(T):T();const x=p(...S);return kS(d,l,x)}function JN(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}const WN=ZN({reducer:{}});_1.createRoot(document.getElementById("root")).render(lt.jsx(F.StrictMode,{children:lt.jsx(LN,{store:WN,children:lt.jsx(bN,{})})}));
